var Gs=Object.defineProperty;var qs=(t,e,n)=>e in t?Gs(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ki=(t,e,n)=>qs(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();function me(){}function ve(t,e){for(const n in e)t[n]=e[n];return t}function fl(t){return t()}function Vo(){return Object.create(null)}function Ue(t){t.forEach(fl)}function He(t){return typeof t=="function"}function ce(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function cl(t,e){return t!=t?e==e:t!==e}function Us(t){return Object.keys(t).length===0}function On(t,...e){if(t==null){for(const i of e)i(void 0);return me}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function K(t){let e;return On(t,n=>e=n)(),e}function Q(t,e,n){t.$$.on_destroy.push(On(e,n))}function We(t,e,n,i){if(t){const o=dl(t,e,n,i);return t[0](o)}}function dl(t,e,n,i){return t[1]&&i?ve(n.ctx.slice(),t[1](i(e))):n.ctx}function Ye(t,e,n,i){if(t[2]&&i){const o=t[2](i(n));if(e.dirty===void 0)return o;if(typeof o=="object"){const r=[],l=Math.max(e.dirty.length,o.length);for(let s=0;s<l;s+=1)r[s]=e.dirty[s]|o[s];return r}return e.dirty|o}return e.dirty}function Be(t,e,n,i,o,r){if(o){const l=dl(e,n,i,r);t.p(l,o)}}function Ke(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}function Ve(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function Ee(t,e){const n={};e=new Set(e);for(const i in t)!e.has(i)&&i[0]!=="$"&&(n[i]=t[i]);return n}function Js(t){const e={};for(const n in t)e[n]=!0;return e}function Xo(t){return t??""}function ci(t,e,n){return t.set(n),e}function qe(t){return t&&He(t.destroy)?t.destroy:me}const Qs=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function oe(t,e){t.appendChild(e)}function G(t,e,n){t.insertBefore(e,n||null)}function Z(t){t.parentNode&&t.parentNode.removeChild(t)}function he(t){return document.createElement(t)}function ke(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function It(t){return document.createTextNode(t)}function pe(){return It(" ")}function De(){return It("")}function Ce(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function _(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const js=["width","height"];function cn(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const i in e)e[i]==null?t.removeAttribute(i):i==="style"?t.style.cssText=e[i]:i==="__value"?t.value=t[i]=e[i]:n[i]&&n[i].set&&js.indexOf(i)===-1?t[i]=e[i]:_(t,i,e[i])}function xs(t){return Array.from(t.childNodes)}function kn(t,e){e=""+e,t.data!==e&&(t.data=e)}function gt(t,e){t.value=e??""}function le(t,e,n,i){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}let Jn;function $s(){if(Jn===void 0){Jn=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{Jn=!0}}return Jn}function eu(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const i=he("iframe");i.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),i.setAttribute("aria-hidden","true"),i.tabIndex=-1;const o=$s();let r;return o?(i.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",r=Ce(window,"message",l=>{l.source===i.contentWindow&&e()})):(i.src="about:blank",i.onload=()=>{r=Ce(i.contentWindow,"resize",e),e()}),oe(t,i),()=>{(o||r&&i.contentWindow)&&r(),Z(i)}}function be(t,e,n){t.classList.toggle(e,!!n)}function tu(t,e,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:i})}function di(t,e){return new t(e)}let Nn;function Mn(t){Nn=t}function vn(){if(!Nn)throw new Error("Function called outside component initialization");return Nn}function pn(t){vn().$$.on_mount.push(t)}function Ni(t){vn().$$.on_destroy.push(t)}function Hi(){const t=vn();return(e,n,{cancelable:i=!1}={})=>{const o=t.$$.callbacks[e];if(o){const r=tu(e,n,{cancelable:i});return o.slice().forEach(l=>{l.call(t,r)}),!r.defaultPrevented}return!0}}function Hn(t,e){return vn().$$.context.set(t,e),e}function Tn(t){return vn().$$.context.get(t)}function nu(t){return vn().$$.context.has(t)}function Se(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(i=>i.call(this,e))}const $t=[],Yt=[];let on=[];const Wo=[],iu=Promise.resolve();let no=!1;function ou(){no||(no=!0,iu.then(hl))}function hi(t){on.push(t)}const Fi=new Set;let jt=0;function hl(){if(jt!==0)return;const t=Nn;do{try{for(;jt<$t.length;){const e=$t[jt];jt++,Mn(e),ru(e.$$)}}catch(e){throw $t.length=0,jt=0,e}for(Mn(null),$t.length=0,jt=0;Yt.length;)Yt.pop()();for(let e=0;e<on.length;e+=1){const n=on[e];Fi.has(n)||(Fi.add(n),n())}on.length=0}while($t.length);for(;Wo.length;)Wo.pop()();no=!1,Fi.clear(),Mn(t)}function ru(t){if(t.fragment!==null){t.update(),Ue(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(hi)}}function lu(t){const e=[],n=[];on.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),on=e}const oi=new Set;let Vt;function Te(){Vt={r:0,c:[],p:Vt}}function Ie(){Vt.r||Ue(Vt.c),Vt=Vt.p}function R(t,e){t&&t.i&&(oi.delete(t),t.i(e))}function X(t,e,n,i){if(t&&t.o){if(oi.has(t))return;oi.add(t),Vt.c.push(()=>{oi.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}function rt(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function dn(t,e){X(t,1,1,()=>{e.delete(t.key)})}function hn(t,e,n,i,o,r,l,s,u,a,f,d){let c=t.length,h=r.length,y=c;const m={};for(;y--;)m[t[y].key]=y;const b=[],g=new Map,C=new Map,k=[];for(y=h;y--;){const v=d(o,r,y),E=n(v);let z=l.get(E);z?k.push(()=>z.p(v,e)):(z=a(E,v),z.c()),g.set(E,b[y]=z),E in m&&C.set(E,Math.abs(y-m[E]))}const S=new Set,N=new Set;function T(v){R(v,1),v.m(s,f),l.set(v.key,v),f=v.first,h--}for(;c&&h;){const v=b[h-1],E=t[c-1],z=v.key,A=E.key;v===E?(f=v.first,c--,h--):g.has(A)?!l.has(z)||S.has(z)?T(v):N.has(A)?c--:C.get(z)>C.get(A)?(N.add(z),T(v)):(S.add(A),c--):(u(E,l),c--)}for(;c--;){const v=t[c];g.has(v.key)||u(v,l)}for(;h;)T(b[h-1]);return Ue(k),b}function Ct(t,e){const n={},i={},o={$$scope:1};let r=t.length;for(;r--;){const l=t[r],s=e[r];if(s){for(const u in l)u in s||(i[u]=1);for(const u in s)o[u]||(n[u]=s[u],o[u]=1);t[r]=s}else for(const u in l)o[u]=1}for(const l in i)l in n||(n[l]=void 0);return n}function gn(t){return typeof t=="object"&&t!==null?t:{}}function te(t){t&&t.c()}function x(t,e,n){const{fragment:i,after_update:o}=t.$$;i&&i.m(e,n),hi(()=>{const r=t.$$.on_mount.map(fl).filter(He);t.$$.on_destroy?t.$$.on_destroy.push(...r):Ue(r),t.$$.on_mount=[]}),o.forEach(hi)}function $(t,e){const n=t.$$;n.fragment!==null&&(lu(n.after_update),Ue(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function su(t,e){t.$$.dirty[0]===-1&&($t.push(t),ou(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ae(t,e,n,i,o,r,l=null,s=[-1]){const u=Nn;Mn(t);const a=t.$$={fragment:null,ctx:[],props:r,update:me,not_equal:o,bound:Vo(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Vo(),dirty:s,skip_bound:!1,root:e.target||u.$$.root};l&&l(a.root);let f=!1;if(a.ctx=n?n(t,e.props||{},(d,c,...h)=>{const y=h.length?h[0]:c;return a.ctx&&o(a.ctx[d],a.ctx[d]=y)&&(!a.skip_bound&&a.bound[d]&&a.bound[d](y),f&&su(t,d)),c}):[],a.update(),f=!0,Ue(a.before_update),a.fragment=i?i(a.ctx):!1,e.target){if(e.hydrate){const d=xs(e.target);a.fragment&&a.fragment.l(d),d.forEach(Z)}else a.fragment&&a.fragment.c();e.intro&&R(t.$$.fragment),x(t,e.target,e.anchor),hl()}Mn(u)}class fe{constructor(){Ki(this,"$$");Ki(this,"$$set")}$destroy(){$(this,1),this.$destroy=me}$on(e,n){if(!He(n))return me;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}$set(e){this.$$set&&!Us(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const uu="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(uu);const xt=[];function it(t,e){return{subscribe:ge(t,e).subscribe}}function ge(t,e=me){let n;const i=new Set;function o(s){if(ce(t,s)&&(t=s,n)){const u=!xt.length;for(const a of i)a[1](),xt.push(a,t);if(u){for(let a=0;a<xt.length;a+=2)xt[a][0](xt[a+1]);xt.length=0}}}function r(s){o(s(t))}function l(s,u=me){const a=[s,u];return i.add(a),i.size===1&&(n=e(o,r)||me),s(t),()=>{i.delete(a),i.size===0&&n&&(n(),n=null)}}return{set:o,update:r,subscribe:l}}function rn(t,e,n){const i=!Array.isArray(t),o=i?[t]:t;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=e.length<2;return it(n,(l,s)=>{let u=!1;const a=[];let f=0,d=me;const c=()=>{if(f)return;d();const y=e(i?a[0]:a,l,s);r?l(y):d=He(y)?y:me},h=o.map((y,m)=>On(y,b=>{a[m]=b,f&=~(1<<m),u&&c()},()=>{f|=1<<m}));return u=!0,c(),function(){Ue(h),d(),u=!1}})}function Me(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,i;n<t.length;n++)(i=Me(t[n]))!==""&&(e+=(e&&" ")+i);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var au={value:()=>{}};function Ti(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new ri(n)}function ri(t){this._=t}function fu(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}ri.prototype=Ti.prototype={constructor:ri,on:function(t,e){var n=this._,i=fu(t+"",n),o,r=-1,l=i.length;if(arguments.length<2){for(;++r<l;)if((o=(t=i[r]).type)&&(o=cu(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<l;)if(o=(t=i[r]).type)n[o]=Yo(n[o],t.name,e);else if(e==null)for(o in n)n[o]=Yo(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ri(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,r;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,r=i.length;o<r;++o)i[o].value.apply(e,n)}};function cu(t,e){for(var n=0,i=t.length,o;n<i;++n)if((o=t[n]).name===e)return o.value}function Yo(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=au,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var io="http://www.w3.org/1999/xhtml";const Bo={svg:"http://www.w3.org/2000/svg",xhtml:io,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ii(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Bo.hasOwnProperty(e)?{space:Bo[e],local:t}:t}function du(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===io&&e.documentElement.namespaceURI===io?e.createElement(t):e.createElementNS(n,t)}}function hu(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function gl(t){var e=Ii(t);return(e.local?hu:du)(e)}function gu(){}function _o(t){return t==null?gu:function(){return this.querySelector(t)}}function mu(t){typeof t!="function"&&(t=_o(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],l=r.length,s=i[o]=new Array(l),u,a,f=0;f<l;++f)(u=r[f])&&(a=t.call(u,u.__data__,f,r))&&("__data__"in u&&(a.__data__=u.__data__),s[f]=a);return new et(i,this._parents)}function yu(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function _u(){return[]}function ml(t){return t==null?_u:function(){return this.querySelectorAll(t)}}function bu(t){return function(){return yu(t.apply(this,arguments))}}function wu(t){typeof t=="function"?t=bu(t):t=ml(t);for(var e=this._groups,n=e.length,i=[],o=[],r=0;r<n;++r)for(var l=e[r],s=l.length,u,a=0;a<s;++a)(u=l[a])&&(i.push(t.call(u,u.__data__,a,l)),o.push(u));return new et(i,o)}function yl(t){return function(){return this.matches(t)}}function _l(t){return function(e){return e.matches(t)}}var ku=Array.prototype.find;function vu(t){return function(){return ku.call(this.children,t)}}function pu(){return this.firstElementChild}function Cu(t){return this.select(t==null?pu:vu(typeof t=="function"?t:_l(t)))}var Su=Array.prototype.filter;function Eu(){return Array.from(this.children)}function zu(t){return function(){return Su.call(this.children,t)}}function Mu(t){return this.selectAll(t==null?Eu:zu(typeof t=="function"?t:_l(t)))}function Pu(t){typeof t!="function"&&(t=yl(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],l=r.length,s=i[o]=[],u,a=0;a<l;++a)(u=r[a])&&t.call(u,u.__data__,a,r)&&s.push(u);return new et(i,this._parents)}function bl(t){return new Array(t.length)}function Ou(){return new et(this._enter||this._groups.map(bl),this._parents)}function gi(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}gi.prototype={constructor:gi,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Nu(t){return function(){return t}}function Hu(t,e,n,i,o,r){for(var l=0,s,u=e.length,a=r.length;l<a;++l)(s=e[l])?(s.__data__=r[l],i[l]=s):n[l]=new gi(t,r[l]);for(;l<u;++l)(s=e[l])&&(o[l]=s)}function Tu(t,e,n,i,o,r,l){var s,u,a=new Map,f=e.length,d=r.length,c=new Array(f),h;for(s=0;s<f;++s)(u=e[s])&&(c[s]=h=l.call(u,u.__data__,s,e)+"",a.has(h)?o[s]=u:a.set(h,u));for(s=0;s<d;++s)h=l.call(t,r[s],s,r)+"",(u=a.get(h))?(i[s]=u,u.__data__=r[s],a.delete(h)):n[s]=new gi(t,r[s]);for(s=0;s<f;++s)(u=e[s])&&a.get(c[s])===u&&(o[s]=u)}function Iu(t){return t.__data__}function Au(t,e){if(!arguments.length)return Array.from(this,Iu);var n=e?Tu:Hu,i=this._parents,o=this._groups;typeof t!="function"&&(t=Nu(t));for(var r=o.length,l=new Array(r),s=new Array(r),u=new Array(r),a=0;a<r;++a){var f=i[a],d=o[a],c=d.length,h=Du(t.call(f,f&&f.__data__,a,i)),y=h.length,m=s[a]=new Array(y),b=l[a]=new Array(y),g=u[a]=new Array(c);n(f,d,m,b,g,h,e);for(var C=0,k=0,S,N;C<y;++C)if(S=m[C]){for(C>=k&&(k=C+1);!(N=b[k])&&++k<y;);S._next=N||null}}return l=new et(l,i),l._enter=s,l._exit=u,l}function Du(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ru(){return new et(this._exit||this._groups.map(bl),this._parents)}function Lu(t,e,n){var i=this.enter(),o=this,r=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?r.remove():n(r),i&&o?i.merge(o).order():o}function Vu(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,o=n.length,r=i.length,l=Math.min(o,r),s=new Array(o),u=0;u<l;++u)for(var a=n[u],f=i[u],d=a.length,c=s[u]=new Array(d),h,y=0;y<d;++y)(h=a[y]||f[y])&&(c[y]=h);for(;u<o;++u)s[u]=n[u];return new et(s,this._parents)}function Xu(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],o=i.length-1,r=i[o],l;--o>=0;)(l=i[o])&&(r&&l.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(l,r),r=l);return this}function Wu(t){t||(t=Yu);function e(d,c){return d&&c?t(d.__data__,c.__data__):!d-!c}for(var n=this._groups,i=n.length,o=new Array(i),r=0;r<i;++r){for(var l=n[r],s=l.length,u=o[r]=new Array(s),a,f=0;f<s;++f)(a=l[f])&&(u[f]=a);u.sort(e)}return new et(o,this._parents).order()}function Yu(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Bu(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Ku(){return Array.from(this)}function Fu(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,r=i.length;o<r;++o){var l=i[o];if(l)return l}return null}function Zu(){let t=0;for(const e of this)++t;return t}function Gu(){return!this.node()}function qu(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o=e[n],r=0,l=o.length,s;r<l;++r)(s=o[r])&&t.call(s,s.__data__,r,o);return this}function Uu(t){return function(){this.removeAttribute(t)}}function Ju(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Qu(t,e){return function(){this.setAttribute(t,e)}}function ju(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function xu(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function $u(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function ea(t,e){var n=Ii(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?Ju:Uu:typeof e=="function"?n.local?$u:xu:n.local?ju:Qu)(n,e))}function wl(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ta(t){return function(){this.style.removeProperty(t)}}function na(t,e,n){return function(){this.style.setProperty(t,e,n)}}function ia(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function oa(t,e,n){return arguments.length>1?this.each((e==null?ta:typeof e=="function"?ia:na)(t,e,n??"")):mn(this.node(),t)}function mn(t,e){return t.style.getPropertyValue(e)||wl(t).getComputedStyle(t,null).getPropertyValue(e)}function ra(t){return function(){delete this[t]}}function la(t,e){return function(){this[t]=e}}function sa(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function ua(t,e){return arguments.length>1?this.each((e==null?ra:typeof e=="function"?sa:la)(t,e)):this.node()[t]}function kl(t){return t.trim().split(/^|\s+/)}function bo(t){return t.classList||new vl(t)}function vl(t){this._node=t,this._names=kl(t.getAttribute("class")||"")}vl.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function pl(t,e){for(var n=bo(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function Cl(t,e){for(var n=bo(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function aa(t){return function(){pl(this,t)}}function fa(t){return function(){Cl(this,t)}}function ca(t,e){return function(){(e.apply(this,arguments)?pl:Cl)(this,t)}}function da(t,e){var n=kl(t+"");if(arguments.length<2){for(var i=bo(this.node()),o=-1,r=n.length;++o<r;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?ca:e?aa:fa)(n,e))}function ha(){this.textContent=""}function ga(t){return function(){this.textContent=t}}function ma(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function ya(t){return arguments.length?this.each(t==null?ha:(typeof t=="function"?ma:ga)(t)):this.node().textContent}function _a(){this.innerHTML=""}function ba(t){return function(){this.innerHTML=t}}function wa(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function ka(t){return arguments.length?this.each(t==null?_a:(typeof t=="function"?wa:ba)(t)):this.node().innerHTML}function va(){this.nextSibling&&this.parentNode.appendChild(this)}function pa(){return this.each(va)}function Ca(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Sa(){return this.each(Ca)}function Ea(t){var e=typeof t=="function"?t:gl(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function za(){return null}function Ma(t,e){var n=typeof t=="function"?t:gl(t),i=e==null?za:typeof e=="function"?e:_o(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function Pa(){var t=this.parentNode;t&&t.removeChild(this)}function Oa(){return this.each(Pa)}function Na(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ha(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ta(t){return this.select(t?Ha:Na)}function Ia(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Aa(t){return function(e){t.call(this,e,this.__data__)}}function Da(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function Ra(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,o=e.length,r;n<o;++n)r=e[n],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++i]=r;++i?e.length=i:delete this.__on}}}function La(t,e,n){return function(){var i=this.__on,o,r=Aa(e);if(i){for(var l=0,s=i.length;l<s;++l)if((o=i[l]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=r,o.options=n),o.value=e;return}}this.addEventListener(t.type,r,n),o={type:t.type,name:t.name,value:e,listener:r,options:n},i?i.push(o):this.__on=[o]}}function Va(t,e,n){var i=Da(t+""),o,r=i.length,l;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,a=s.length,f;u<a;++u)for(o=0,f=s[u];o<r;++o)if((l=i[o]).type===f.type&&l.name===f.name)return f.value}return}for(s=e?La:Ra,o=0;o<r;++o)this.each(s(i[o],e,n));return this}function Sl(t,e,n){var i=wl(t),o=i.CustomEvent;typeof o=="function"?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function Xa(t,e){return function(){return Sl(this,t,e)}}function Wa(t,e){return function(){return Sl(this,t,e.apply(this,arguments))}}function Ya(t,e){return this.each((typeof e=="function"?Wa:Xa)(t,e))}function*Ba(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,r=i.length,l;o<r;++o)(l=i[o])&&(yield l)}var El=[null];function et(t,e){this._groups=t,this._parents=e}function Wn(){return new et([[document.documentElement]],El)}function Ka(){return this}et.prototype=Wn.prototype={constructor:et,select:mu,selectAll:wu,selectChild:Cu,selectChildren:Mu,filter:Pu,data:Au,enter:Ou,exit:Ru,join:Lu,merge:Vu,selection:Ka,order:Xu,sort:Wu,call:Bu,nodes:Ku,node:Fu,size:Zu,empty:Gu,each:qu,attr:ea,style:oa,property:ua,classed:da,text:ya,html:ka,raise:pa,lower:Sa,append:Ea,insert:Ma,remove:Oa,clone:Ta,datum:Ia,on:Va,dispatch:Ya,[Symbol.iterator]:Ba};function $e(t){return typeof t=="string"?new et([[document.querySelector(t)]],[document.documentElement]):new et([[t]],El)}function Fa(t){let e;for(;e=t.sourceEvent;)t=e;return t}function lt(t,e){if(t=Fa(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}const Za={passive:!1},In={capture:!0,passive:!1};function Zi(t){t.stopImmediatePropagation()}function ln(t){t.preventDefault(),t.stopImmediatePropagation()}function zl(t){var e=t.document.documentElement,n=$e(t).on("dragstart.drag",ln,In);"onselectstart"in e?n.on("selectstart.drag",ln,In):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Ml(t,e){var n=t.document.documentElement,i=$e(t).on("dragstart.drag",null);e&&(i.on("click.drag",ln,In),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Qn=t=>()=>t;function oo(t,{sourceEvent:e,subject:n,target:i,identifier:o,active:r,x:l,y:s,dx:u,dy:a,dispatch:f}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:r,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:a,enumerable:!0,configurable:!0},_:{value:f}})}oo.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Ga(t){return!t.ctrlKey&&!t.button}function qa(){return this.parentNode}function Ua(t,e){return e??{x:t.x,y:t.y}}function Ja(){return navigator.maxTouchPoints||"ontouchstart"in this}function Pl(){var t=Ga,e=qa,n=Ua,i=Ja,o={},r=Ti("start","drag","end"),l=0,s,u,a,f,d=0;function c(S){S.on("mousedown.drag",h).filter(i).on("touchstart.drag",b).on("touchmove.drag",g,Za).on("touchend.drag touchcancel.drag",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(S,N){if(!(f||!t.call(this,S,N))){var T=k(this,e.call(this,S,N),S,N,"mouse");T&&($e(S.view).on("mousemove.drag",y,In).on("mouseup.drag",m,In),zl(S.view),Zi(S),a=!1,s=S.clientX,u=S.clientY,T("start",S))}}function y(S){if(ln(S),!a){var N=S.clientX-s,T=S.clientY-u;a=N*N+T*T>d}o.mouse("drag",S)}function m(S){$e(S.view).on("mousemove.drag mouseup.drag",null),Ml(S.view,a),ln(S),o.mouse("end",S)}function b(S,N){if(t.call(this,S,N)){var T=S.changedTouches,v=e.call(this,S,N),E=T.length,z,A;for(z=0;z<E;++z)(A=k(this,v,S,N,T[z].identifier,T[z]))&&(Zi(S),A("start",S,T[z]))}}function g(S){var N=S.changedTouches,T=N.length,v,E;for(v=0;v<T;++v)(E=o[N[v].identifier])&&(ln(S),E("drag",S,N[v]))}function C(S){var N=S.changedTouches,T=N.length,v,E;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),v=0;v<T;++v)(E=o[N[v].identifier])&&(Zi(S),E("end",S,N[v]))}function k(S,N,T,v,E,z){var A=r.copy(),W=lt(z||T,N),B,F,w;if((w=n.call(S,new oo("beforestart",{sourceEvent:T,target:c,identifier:E,active:l,x:W[0],y:W[1],dx:0,dy:0,dispatch:A}),v))!=null)return B=w.x-W[0]||0,F=w.y-W[1]||0,function L(p,M,I){var P=W,Y;switch(p){case"start":o[E]=L,Y=l++;break;case"end":delete o[E],--l;case"drag":W=lt(I||M,N),Y=l;break}A.call(p,S,new oo(p,{sourceEvent:M,subject:w,target:c,identifier:E,active:Y,x:W[0]+B,y:W[1]+F,dx:W[0]-P[0],dy:W[1]-P[1],dispatch:A}),v)}}return c.filter=function(S){return arguments.length?(t=typeof S=="function"?S:Qn(!!S),c):t},c.container=function(S){return arguments.length?(e=typeof S=="function"?S:Qn(S),c):e},c.subject=function(S){return arguments.length?(n=typeof S=="function"?S:Qn(S),c):n},c.touchable=function(S){return arguments.length?(i=typeof S=="function"?S:Qn(!!S),c):i},c.on=function(){var S=r.on.apply(r,arguments);return S===r?c:S},c.clickDistance=function(S){return arguments.length?(d=(S=+S)*S,c):Math.sqrt(d)},c}function wo(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ol(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Yn(){}var An=.7,mi=1/An,sn="\\s*([+-]?\\d+)\\s*",Dn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ct="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Qa=/^#([0-9a-f]{3,8})$/,ja=new RegExp(`^rgb\\(${sn},${sn},${sn}\\)$`),xa=new RegExp(`^rgb\\(${ct},${ct},${ct}\\)$`),$a=new RegExp(`^rgba\\(${sn},${sn},${sn},${Dn}\\)$`),ef=new RegExp(`^rgba\\(${ct},${ct},${ct},${Dn}\\)$`),tf=new RegExp(`^hsl\\(${Dn},${ct},${ct}\\)$`),nf=new RegExp(`^hsla\\(${Dn},${ct},${ct},${Dn}\\)$`),Ko={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wo(Yn,Rn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Fo,formatHex:Fo,formatHex8:of,formatHsl:rf,formatRgb:Zo,toString:Zo});function Fo(){return this.rgb().formatHex()}function of(){return this.rgb().formatHex8()}function rf(){return Nl(this).formatHsl()}function Zo(){return this.rgb().formatRgb()}function Rn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Qa.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Go(e):n===3?new je(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?jn(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?jn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ja.exec(t))?new je(e[1],e[2],e[3],1):(e=xa.exec(t))?new je(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=$a.exec(t))?jn(e[1],e[2],e[3],e[4]):(e=ef.exec(t))?jn(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=tf.exec(t))?Jo(e[1],e[2]/100,e[3]/100,1):(e=nf.exec(t))?Jo(e[1],e[2]/100,e[3]/100,e[4]):Ko.hasOwnProperty(t)?Go(Ko[t]):t==="transparent"?new je(NaN,NaN,NaN,0):null}function Go(t){return new je(t>>16&255,t>>8&255,t&255,1)}function jn(t,e,n,i){return i<=0&&(t=e=n=NaN),new je(t,e,n,i)}function lf(t){return t instanceof Yn||(t=Rn(t)),t?(t=t.rgb(),new je(t.r,t.g,t.b,t.opacity)):new je}function ro(t,e,n,i){return arguments.length===1?lf(t):new je(t,e,n,i??1)}function je(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}wo(je,ro,Ol(Yn,{brighter(t){return t=t==null?mi:Math.pow(mi,t),new je(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?An:Math.pow(An,t),new je(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new je(Wt(this.r),Wt(this.g),Wt(this.b),yi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qo,formatHex:qo,formatHex8:sf,formatRgb:Uo,toString:Uo}));function qo(){return`#${Xt(this.r)}${Xt(this.g)}${Xt(this.b)}`}function sf(){return`#${Xt(this.r)}${Xt(this.g)}${Xt(this.b)}${Xt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Uo(){const t=yi(this.opacity);return`${t===1?"rgb(":"rgba("}${Wt(this.r)}, ${Wt(this.g)}, ${Wt(this.b)}${t===1?")":`, ${t})`}`}function yi(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Wt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Xt(t){return t=Wt(t),(t<16?"0":"")+t.toString(16)}function Jo(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new st(t,e,n,i)}function Nl(t){if(t instanceof st)return new st(t.h,t.s,t.l,t.opacity);if(t instanceof Yn||(t=Rn(t)),!t)return new st;if(t instanceof st)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),r=Math.max(e,n,i),l=NaN,s=r-o,u=(r+o)/2;return s?(e===r?l=(n-i)/s+(n<i)*6:n===r?l=(i-e)/s+2:l=(e-n)/s+4,s/=u<.5?r+o:2-r-o,l*=60):s=u>0&&u<1?0:l,new st(l,s,u,t.opacity)}function uf(t,e,n,i){return arguments.length===1?Nl(t):new st(t,e,n,i??1)}function st(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}wo(st,uf,Ol(Yn,{brighter(t){return t=t==null?mi:Math.pow(mi,t),new st(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?An:Math.pow(An,t),new st(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new je(Gi(t>=240?t-240:t+120,o,i),Gi(t,o,i),Gi(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new st(Qo(this.h),xn(this.s),xn(this.l),yi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=yi(this.opacity);return`${t===1?"hsl(":"hsla("}${Qo(this.h)}, ${xn(this.s)*100}%, ${xn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Qo(t){return t=(t||0)%360,t<0?t+360:t}function xn(t){return Math.max(0,Math.min(1,t||0))}function Gi(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Hl=t=>()=>t;function af(t,e){return function(n){return t+n*e}}function ff(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function cf(t){return(t=+t)==1?Tl:function(e,n){return n-e?ff(e,n,t):Hl(isNaN(e)?n:e)}}function Tl(t,e){var n=e-t;return n?af(t,n):Hl(isNaN(t)?e:t)}const jo=function t(e){var n=cf(e);function i(o,r){var l=n((o=ro(o)).r,(r=ro(r)).r),s=n(o.g,r.g),u=n(o.b,r.b),a=Tl(o.opacity,r.opacity);return function(f){return o.r=l(f),o.g=s(f),o.b=u(f),o.opacity=a(f),o+""}}return i.gamma=t,i}(1);function Tt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var lo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qi=new RegExp(lo.source,"g");function df(t){return function(){return t}}function hf(t){return function(e){return t(e)+""}}function gf(t,e){var n=lo.lastIndex=qi.lastIndex=0,i,o,r,l=-1,s=[],u=[];for(t=t+"",e=e+"";(i=lo.exec(t))&&(o=qi.exec(e));)(r=o.index)>n&&(r=e.slice(n,r),s[l]?s[l]+=r:s[++l]=r),(i=i[0])===(o=o[0])?s[l]?s[l]+=o:s[++l]=o:(s[++l]=null,u.push({i:l,x:Tt(i,o)})),n=qi.lastIndex;return n<e.length&&(r=e.slice(n),s[l]?s[l]+=r:s[++l]=r),s.length<2?u[0]?hf(u[0].x):df(e):(e=u.length,function(a){for(var f=0,d;f<e;++f)s[(d=u[f]).i]=d.x(a);return s.join("")})}var xo=180/Math.PI,so={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Il(t,e,n,i,o,r){var l,s,u;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(u=t*n+e*i)&&(n-=t*u,i-=e*u),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,u/=s),t*i<e*n&&(t=-t,e=-e,u=-u,l=-l),{translateX:o,translateY:r,rotate:Math.atan2(e,t)*xo,skewX:Math.atan(u)*xo,scaleX:l,scaleY:s}}var $n;function mf(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?so:Il(e.a,e.b,e.c,e.d,e.e,e.f)}function yf(t){return t==null||($n||($n=document.createElementNS("http://www.w3.org/2000/svg","g")),$n.setAttribute("transform",t),!(t=$n.transform.baseVal.consolidate()))?so:(t=t.matrix,Il(t.a,t.b,t.c,t.d,t.e,t.f))}function Al(t,e,n,i){function o(a){return a.length?a.pop()+" ":""}function r(a,f,d,c,h,y){if(a!==d||f!==c){var m=h.push("translate(",null,e,null,n);y.push({i:m-4,x:Tt(a,d)},{i:m-2,x:Tt(f,c)})}else(d||c)&&h.push("translate("+d+e+c+n)}function l(a,f,d,c){a!==f?(a-f>180?f+=360:f-a>180&&(a+=360),c.push({i:d.push(o(d)+"rotate(",null,i)-2,x:Tt(a,f)})):f&&d.push(o(d)+"rotate("+f+i)}function s(a,f,d,c){a!==f?c.push({i:d.push(o(d)+"skewX(",null,i)-2,x:Tt(a,f)}):f&&d.push(o(d)+"skewX("+f+i)}function u(a,f,d,c,h,y){if(a!==d||f!==c){var m=h.push(o(h)+"scale(",null,",",null,")");y.push({i:m-4,x:Tt(a,d)},{i:m-2,x:Tt(f,c)})}else(d!==1||c!==1)&&h.push(o(h)+"scale("+d+","+c+")")}return function(a,f){var d=[],c=[];return a=t(a),f=t(f),r(a.translateX,a.translateY,f.translateX,f.translateY,d,c),l(a.rotate,f.rotate,d,c),s(a.skewX,f.skewX,d,c),u(a.scaleX,a.scaleY,f.scaleX,f.scaleY,d,c),a=f=null,function(h){for(var y=-1,m=c.length,b;++y<m;)d[(b=c[y]).i]=b.x(h);return d.join("")}}}var _f=Al(mf,"px, ","px)","deg)"),bf=Al(yf,", ",")",")"),wf=1e-12;function $o(t){return((t=Math.exp(t))+1/t)/2}function kf(t){return((t=Math.exp(t))-1/t)/2}function vf(t){return((t=Math.exp(2*t))-1)/(t+1)}const pf=function t(e,n,i){function o(r,l){var s=r[0],u=r[1],a=r[2],f=l[0],d=l[1],c=l[2],h=f-s,y=d-u,m=h*h+y*y,b,g;if(m<wf)g=Math.log(c/a)/e,b=function(v){return[s+v*h,u+v*y,a*Math.exp(e*v*g)]};else{var C=Math.sqrt(m),k=(c*c-a*a+i*m)/(2*a*n*C),S=(c*c-a*a-i*m)/(2*c*n*C),N=Math.log(Math.sqrt(k*k+1)-k),T=Math.log(Math.sqrt(S*S+1)-S);g=(T-N)/e,b=function(v){var E=v*g,z=$o(N),A=a/(n*C)*(z*vf(e*E+N)-kf(N));return[s+A*h,u+A*y,a*z/$o(e*E+N)]}}return b.duration=g*1e3*e/Math.SQRT2,b}return o.rho=function(r){var l=Math.max(.001,+r),s=l*l,u=s*s;return t(l,s,u)},o}(Math.SQRT2,2,4);var yn=0,En=0,Cn=0,Dl=1e3,_i,zn,bi=0,Bt=0,Ai=0,Ln=typeof performance=="object"&&performance.now?performance:Date,Rl=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ko(){return Bt||(Rl(Cf),Bt=Ln.now()+Ai)}function Cf(){Bt=0}function wi(){this._call=this._time=this._next=null}wi.prototype=Ll.prototype={constructor:wi,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?ko():+n)+(e==null?0:+e),!this._next&&zn!==this&&(zn?zn._next=this:_i=this,zn=this),this._call=t,this._time=n,uo()},stop:function(){this._call&&(this._call=null,this._time=1/0,uo())}};function Ll(t,e,n){var i=new wi;return i.restart(t,e,n),i}function Sf(){ko(),++yn;for(var t=_i,e;t;)(e=Bt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--yn}function er(){Bt=(bi=Ln.now())+Ai,yn=En=0;try{Sf()}finally{yn=0,zf(),Bt=0}}function Ef(){var t=Ln.now(),e=t-bi;e>Dl&&(Ai-=e,bi=t)}function zf(){for(var t,e=_i,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:_i=n);zn=t,uo(i)}function uo(t){if(!yn){En&&(En=clearTimeout(En));var e=t-Bt;e>24?(t<1/0&&(En=setTimeout(er,t-Ln.now()-Ai)),Cn&&(Cn=clearInterval(Cn))):(Cn||(bi=Ln.now(),Cn=setInterval(Ef,Dl)),yn=1,Rl(er))}}function tr(t,e,n){var i=new wi;return e=e==null?0:+e,i.restart(o=>{i.stop(),t(o+e)},e,n),i}var Mf=Ti("start","end","cancel","interrupt"),Pf=[],Vl=0,nr=1,ao=2,li=3,ir=4,fo=5,si=6;function Di(t,e,n,i,o,r){var l=t.__transition;if(!l)t.__transition={};else if(n in l)return;Of(t,n,{name:e,index:i,group:o,on:Mf,tween:Pf,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:Vl})}function vo(t,e){var n=at(t,e);if(n.state>Vl)throw new Error("too late; already scheduled");return n}function mt(t,e){var n=at(t,e);if(n.state>li)throw new Error("too late; already running");return n}function at(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Of(t,e,n){var i=t.__transition,o;i[e]=n,n.timer=Ll(r,0,n.time);function r(a){n.state=nr,n.timer.restart(l,n.delay,n.time),n.delay<=a&&l(a-n.delay)}function l(a){var f,d,c,h;if(n.state!==nr)return u();for(f in i)if(h=i[f],h.name===n.name){if(h.state===li)return tr(l);h.state===ir?(h.state=si,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[f]):+f<e&&(h.state=si,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[f])}if(tr(function(){n.state===li&&(n.state=ir,n.timer.restart(s,n.delay,n.time),s(a))}),n.state=ao,n.on.call("start",t,t.__data__,n.index,n.group),n.state===ao){for(n.state=li,o=new Array(c=n.tween.length),f=0,d=-1;f<c;++f)(h=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(o[++d]=h);o.length=d+1}}function s(a){for(var f=a<n.duration?n.ease.call(null,a/n.duration):(n.timer.restart(u),n.state=fo,1),d=-1,c=o.length;++d<c;)o[d].call(t,f);n.state===fo&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=si,n.timer.stop(),delete i[e];for(var a in i)return;delete t.__transition}}function ui(t,e){var n=t.__transition,i,o,r=!0,l;if(n){e=e==null?null:e+"";for(l in n){if((i=n[l]).name!==e){r=!1;continue}o=i.state>ao&&i.state<fo,i.state=si,i.timer.stop(),i.on.call(o?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[l]}r&&delete t.__transition}}function Nf(t){return this.each(function(){ui(this,t)})}function Hf(t,e){var n,i;return function(){var o=mt(this,t),r=o.tween;if(r!==n){i=n=r;for(var l=0,s=i.length;l<s;++l)if(i[l].name===e){i=i.slice(),i.splice(l,1);break}}o.tween=i}}function Tf(t,e,n){var i,o;if(typeof n!="function")throw new Error;return function(){var r=mt(this,t),l=r.tween;if(l!==i){o=(i=l).slice();for(var s={name:e,value:n},u=0,a=o.length;u<a;++u)if(o[u].name===e){o[u]=s;break}u===a&&o.push(s)}r.tween=o}}function If(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=at(this.node(),n).tween,o=0,r=i.length,l;o<r;++o)if((l=i[o]).name===t)return l.value;return null}return this.each((e==null?Hf:Tf)(n,t,e))}function po(t,e,n){var i=t._id;return t.each(function(){var o=mt(this,i);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return at(o,i).value[e]}}function Xl(t,e){var n;return(typeof e=="number"?Tt:e instanceof Rn?jo:(n=Rn(e))?(e=n,jo):gf)(t,e)}function Af(t){return function(){this.removeAttribute(t)}}function Df(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Rf(t,e,n){var i,o=n+"",r;return function(){var l=this.getAttribute(t);return l===o?null:l===i?r:r=e(i=l,n)}}function Lf(t,e,n){var i,o=n+"",r;return function(){var l=this.getAttributeNS(t.space,t.local);return l===o?null:l===i?r:r=e(i=l,n)}}function Vf(t,e,n){var i,o,r;return function(){var l,s=n(this),u;return s==null?void this.removeAttribute(t):(l=this.getAttribute(t),u=s+"",l===u?null:l===i&&u===o?r:(o=u,r=e(i=l,s)))}}function Xf(t,e,n){var i,o,r;return function(){var l,s=n(this),u;return s==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),u=s+"",l===u?null:l===i&&u===o?r:(o=u,r=e(i=l,s)))}}function Wf(t,e){var n=Ii(t),i=n==="transform"?bf:Xl;return this.attrTween(t,typeof e=="function"?(n.local?Xf:Vf)(n,i,po(this,"attr."+t,e)):e==null?(n.local?Df:Af)(n):(n.local?Lf:Rf)(n,i,e))}function Yf(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Bf(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Kf(t,e){var n,i;function o(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&Bf(t,r)),n}return o._value=e,o}function Ff(t,e){var n,i;function o(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&Yf(t,r)),n}return o._value=e,o}function Zf(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=Ii(t);return this.tween(n,(i.local?Kf:Ff)(i,e))}function Gf(t,e){return function(){vo(this,t).delay=+e.apply(this,arguments)}}function qf(t,e){return e=+e,function(){vo(this,t).delay=e}}function Uf(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Gf:qf)(e,t)):at(this.node(),e).delay}function Jf(t,e){return function(){mt(this,t).duration=+e.apply(this,arguments)}}function Qf(t,e){return e=+e,function(){mt(this,t).duration=e}}function jf(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Jf:Qf)(e,t)):at(this.node(),e).duration}function xf(t,e){if(typeof e!="function")throw new Error;return function(){mt(this,t).ease=e}}function $f(t){var e=this._id;return arguments.length?this.each(xf(e,t)):at(this.node(),e).ease}function ec(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;mt(this,t).ease=n}}function tc(t){if(typeof t!="function")throw new Error;return this.each(ec(this._id,t))}function nc(t){typeof t!="function"&&(t=yl(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var r=e[o],l=r.length,s=i[o]=[],u,a=0;a<l;++a)(u=r[a])&&t.call(u,u.__data__,a,r)&&s.push(u);return new St(i,this._parents,this._name,this._id)}function ic(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,r=Math.min(i,o),l=new Array(i),s=0;s<r;++s)for(var u=e[s],a=n[s],f=u.length,d=l[s]=new Array(f),c,h=0;h<f;++h)(c=u[h]||a[h])&&(d[h]=c);for(;s<i;++s)l[s]=e[s];return new St(l,this._parents,this._name,this._id)}function oc(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function rc(t,e,n){var i,o,r=oc(e)?vo:mt;return function(){var l=r(this,t),s=l.on;s!==i&&(o=(i=s).copy()).on(e,n),l.on=o}}function lc(t,e){var n=this._id;return arguments.length<2?at(this.node(),n).on.on(t):this.each(rc(n,t,e))}function sc(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function uc(){return this.on("end.remove",sc(this._id))}function ac(t){var e=this._name,n=this._id;typeof t!="function"&&(t=_o(t));for(var i=this._groups,o=i.length,r=new Array(o),l=0;l<o;++l)for(var s=i[l],u=s.length,a=r[l]=new Array(u),f,d,c=0;c<u;++c)(f=s[c])&&(d=t.call(f,f.__data__,c,s))&&("__data__"in f&&(d.__data__=f.__data__),a[c]=d,Di(a[c],e,n,c,a,at(f,n)));return new St(r,this._parents,e,n)}function fc(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ml(t));for(var i=this._groups,o=i.length,r=[],l=[],s=0;s<o;++s)for(var u=i[s],a=u.length,f,d=0;d<a;++d)if(f=u[d]){for(var c=t.call(f,f.__data__,d,u),h,y=at(f,n),m=0,b=c.length;m<b;++m)(h=c[m])&&Di(h,e,n,m,c,y);r.push(c),l.push(f)}return new St(r,l,e,n)}var cc=Wn.prototype.constructor;function dc(){return new cc(this._groups,this._parents)}function hc(t,e){var n,i,o;return function(){var r=mn(this,t),l=(this.style.removeProperty(t),mn(this,t));return r===l?null:r===n&&l===i?o:o=e(n=r,i=l)}}function Wl(t){return function(){this.style.removeProperty(t)}}function gc(t,e,n){var i,o=n+"",r;return function(){var l=mn(this,t);return l===o?null:l===i?r:r=e(i=l,n)}}function mc(t,e,n){var i,o,r;return function(){var l=mn(this,t),s=n(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(t),mn(this,t))),l===u?null:l===i&&u===o?r:(o=u,r=e(i=l,s))}}function yc(t,e){var n,i,o,r="style."+e,l="end."+r,s;return function(){var u=mt(this,t),a=u.on,f=u.value[r]==null?s||(s=Wl(e)):void 0;(a!==n||o!==f)&&(i=(n=a).copy()).on(l,o=f),u.on=i}}function _c(t,e,n){var i=(t+="")=="transform"?_f:Xl;return e==null?this.styleTween(t,hc(t,i)).on("end.style."+t,Wl(t)):typeof e=="function"?this.styleTween(t,mc(t,i,po(this,"style."+t,e))).each(yc(this._id,t)):this.styleTween(t,gc(t,i,e),n).on("end.style."+t,null)}function bc(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function wc(t,e,n){var i,o;function r(){var l=e.apply(this,arguments);return l!==o&&(i=(o=l)&&bc(t,l,n)),i}return r._value=e,r}function kc(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,wc(t,e,n??""))}function vc(t){return function(){this.textContent=t}}function pc(t){return function(){var e=t(this);this.textContent=e??""}}function Cc(t){return this.tween("text",typeof t=="function"?pc(po(this,"text",t)):vc(t==null?"":t+""))}function Sc(t){return function(e){this.textContent=t.call(this,e)}}function Ec(t){var e,n;function i(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&Sc(o)),e}return i._value=t,i}function zc(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Ec(t))}function Mc(){for(var t=this._name,e=this._id,n=Yl(),i=this._groups,o=i.length,r=0;r<o;++r)for(var l=i[r],s=l.length,u,a=0;a<s;++a)if(u=l[a]){var f=at(u,e);Di(u,t,n,a,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new St(i,this._parents,t,n)}function Pc(){var t,e,n=this,i=n._id,o=n.size();return new Promise(function(r,l){var s={value:l},u={value:function(){--o===0&&r()}};n.each(function(){var a=mt(this,i),f=a.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),a.on=e}),o===0&&r()})}var Oc=0;function St(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Yl(){return++Oc}var wt=Wn.prototype;St.prototype={constructor:St,select:ac,selectAll:fc,selectChild:wt.selectChild,selectChildren:wt.selectChildren,filter:nc,merge:ic,selection:dc,transition:Mc,call:wt.call,nodes:wt.nodes,node:wt.node,size:wt.size,empty:wt.empty,each:wt.each,on:lc,attr:Wf,attrTween:Zf,style:_c,styleTween:kc,text:Cc,textTween:zc,remove:uc,tween:If,delay:Uf,duration:jf,ease:$f,easeVarying:tc,end:Pc,[Symbol.iterator]:wt[Symbol.iterator]};function Nc(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Hc={time:null,delay:0,duration:250,ease:Nc};function Tc(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Ic(t){var e,n;t instanceof St?(e=t._id,t=t._name):(e=Yl(),(n=Hc).time=ko(),t=t==null?null:t+"");for(var i=this._groups,o=i.length,r=0;r<o;++r)for(var l=i[r],s=l.length,u,a=0;a<s;++a)(u=l[a])&&Di(u,t,e,a,l,n||Tc(u,e));return new St(i,this._parents,t,e)}Wn.prototype.interrupt=Nf;Wn.prototype.transition=Ic;const ei=t=>()=>t;function Ac(t,{sourceEvent:e,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function kt(t,e,n){this.k=t,this.x=e,this.y=n}kt.prototype={constructor:kt,scale:function(t){return t===1?this:new kt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new kt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ri=new kt(1,0,0);Bl.prototype=kt.prototype;function Bl(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Ri;return t.__zoom}function Ui(t){t.stopImmediatePropagation()}function Sn(t){t.preventDefault(),t.stopImmediatePropagation()}function Dc(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Rc(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function or(){return this.__zoom||Ri}function Lc(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Vc(){return navigator.maxTouchPoints||"ontouchstart"in this}function Xc(t,e,n){var i=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],r=t.invertY(e[0][1])-n[0][1],l=t.invertY(e[1][1])-n[1][1];return t.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),l>r?(r+l)/2:Math.min(0,r)||Math.max(0,l))}function Kl(){var t=Dc,e=Rc,n=Xc,i=Lc,o=Vc,r=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],s=250,u=pf,a=Ti("start","zoom","end"),f,d,c,h=500,y=150,m=0,b=10;function g(w){w.property("__zoom",or).on("wheel.zoom",E,{passive:!1}).on("mousedown.zoom",z).on("dblclick.zoom",A).filter(o).on("touchstart.zoom",W).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",F).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(w,L,p,M){var I=w.selection?w.selection():w;I.property("__zoom",or),w!==I?N(w,L,p,M):I.interrupt().each(function(){T(this,arguments).event(M).start().zoom(null,typeof L=="function"?L.apply(this,arguments):L).end()})},g.scaleBy=function(w,L,p,M){g.scaleTo(w,function(){var I=this.__zoom.k,P=typeof L=="function"?L.apply(this,arguments):L;return I*P},p,M)},g.scaleTo=function(w,L,p,M){g.transform(w,function(){var I=e.apply(this,arguments),P=this.__zoom,Y=p==null?S(I):typeof p=="function"?p.apply(this,arguments):p,U=P.invert(Y),j=typeof L=="function"?L.apply(this,arguments):L;return n(k(C(P,j),Y,U),I,l)},p,M)},g.translateBy=function(w,L,p,M){g.transform(w,function(){return n(this.__zoom.translate(typeof L=="function"?L.apply(this,arguments):L,typeof p=="function"?p.apply(this,arguments):p),e.apply(this,arguments),l)},null,M)},g.translateTo=function(w,L,p,M,I){g.transform(w,function(){var P=e.apply(this,arguments),Y=this.__zoom,U=M==null?S(P):typeof M=="function"?M.apply(this,arguments):M;return n(Ri.translate(U[0],U[1]).scale(Y.k).translate(typeof L=="function"?-L.apply(this,arguments):-L,typeof p=="function"?-p.apply(this,arguments):-p),P,l)},M,I)};function C(w,L){return L=Math.max(r[0],Math.min(r[1],L)),L===w.k?w:new kt(L,w.x,w.y)}function k(w,L,p){var M=L[0]-p[0]*w.k,I=L[1]-p[1]*w.k;return M===w.x&&I===w.y?w:new kt(w.k,M,I)}function S(w){return[(+w[0][0]+ +w[1][0])/2,(+w[0][1]+ +w[1][1])/2]}function N(w,L,p,M){w.on("start.zoom",function(){T(this,arguments).event(M).start()}).on("interrupt.zoom end.zoom",function(){T(this,arguments).event(M).end()}).tween("zoom",function(){var I=this,P=arguments,Y=T(I,P).event(M),U=e.apply(I,P),j=p==null?S(U):typeof p=="function"?p.apply(I,P):p,ie=Math.max(U[1][0]-U[0][0],U[1][1]-U[0][1]),V=I.__zoom,ne=typeof L=="function"?L.apply(I,P):L,re=u(V.invert(j).concat(ie/V.k),ne.invert(j).concat(ie/ne.k));return function(D){if(D===1)D=ne;else{var de=re(D),H=ie/de[2];D=new kt(H,j[0]-de[0]*H,j[1]-de[1]*H)}Y.zoom(null,D)}})}function T(w,L,p){return!p&&w.__zooming||new v(w,L)}function v(w,L){this.that=w,this.args=L,this.active=0,this.sourceEvent=null,this.extent=e.apply(w,L),this.taps=0}v.prototype={event:function(w){return w&&(this.sourceEvent=w),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(w,L){return this.mouse&&w!=="mouse"&&(this.mouse[1]=L.invert(this.mouse[0])),this.touch0&&w!=="touch"&&(this.touch0[1]=L.invert(this.touch0[0])),this.touch1&&w!=="touch"&&(this.touch1[1]=L.invert(this.touch1[0])),this.that.__zoom=L,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(w){var L=$e(this.that).datum();a.call(w,this.that,new Ac(w,{sourceEvent:this.sourceEvent,target:g,type:w,transform:this.that.__zoom,dispatch:a}),L)}};function E(w,...L){if(!t.apply(this,arguments))return;var p=T(this,L).event(w),M=this.__zoom,I=Math.max(r[0],Math.min(r[1],M.k*Math.pow(2,i.apply(this,arguments)))),P=lt(w);if(p.wheel)(p.mouse[0][0]!==P[0]||p.mouse[0][1]!==P[1])&&(p.mouse[1]=M.invert(p.mouse[0]=P)),clearTimeout(p.wheel);else{if(M.k===I)return;p.mouse=[P,M.invert(P)],ui(this),p.start()}Sn(w),p.wheel=setTimeout(Y,y),p.zoom("mouse",n(k(C(M,I),p.mouse[0],p.mouse[1]),p.extent,l));function Y(){p.wheel=null,p.end()}}function z(w,...L){if(c||!t.apply(this,arguments))return;var p=w.currentTarget,M=T(this,L,!0).event(w),I=$e(w.view).on("mousemove.zoom",j,!0).on("mouseup.zoom",ie,!0),P=lt(w,p),Y=w.clientX,U=w.clientY;zl(w.view),Ui(w),M.mouse=[P,this.__zoom.invert(P)],ui(this),M.start();function j(V){if(Sn(V),!M.moved){var ne=V.clientX-Y,re=V.clientY-U;M.moved=ne*ne+re*re>m}M.event(V).zoom("mouse",n(k(M.that.__zoom,M.mouse[0]=lt(V,p),M.mouse[1]),M.extent,l))}function ie(V){I.on("mousemove.zoom mouseup.zoom",null),Ml(V.view,M.moved),Sn(V),M.event(V).end()}}function A(w,...L){if(t.apply(this,arguments)){var p=this.__zoom,M=lt(w.changedTouches?w.changedTouches[0]:w,this),I=p.invert(M),P=p.k*(w.shiftKey?.5:2),Y=n(k(C(p,P),M,I),e.apply(this,L),l);Sn(w),s>0?$e(this).transition().duration(s).call(N,Y,M,w):$e(this).call(g.transform,Y,M,w)}}function W(w,...L){if(t.apply(this,arguments)){var p=w.touches,M=p.length,I=T(this,L,w.changedTouches.length===M).event(w),P,Y,U,j;for(Ui(w),Y=0;Y<M;++Y)U=p[Y],j=lt(U,this),j=[j,this.__zoom.invert(j),U.identifier],I.touch0?!I.touch1&&I.touch0[2]!==j[2]&&(I.touch1=j,I.taps=0):(I.touch0=j,P=!0,I.taps=1+!!f);f&&(f=clearTimeout(f)),P&&(I.taps<2&&(d=j[0],f=setTimeout(function(){f=null},h)),ui(this),I.start())}}function B(w,...L){if(this.__zooming){var p=T(this,L).event(w),M=w.changedTouches,I=M.length,P,Y,U,j;for(Sn(w),P=0;P<I;++P)Y=M[P],U=lt(Y,this),p.touch0&&p.touch0[2]===Y.identifier?p.touch0[0]=U:p.touch1&&p.touch1[2]===Y.identifier&&(p.touch1[0]=U);if(Y=p.that.__zoom,p.touch1){var ie=p.touch0[0],V=p.touch0[1],ne=p.touch1[0],re=p.touch1[1],D=(D=ne[0]-ie[0])*D+(D=ne[1]-ie[1])*D,de=(de=re[0]-V[0])*de+(de=re[1]-V[1])*de;Y=C(Y,Math.sqrt(D/de)),U=[(ie[0]+ne[0])/2,(ie[1]+ne[1])/2],j=[(V[0]+re[0])/2,(V[1]+re[1])/2]}else if(p.touch0)U=p.touch0[0],j=p.touch0[1];else return;p.zoom("touch",n(k(Y,U,j),p.extent,l))}}function F(w,...L){if(this.__zooming){var p=T(this,L).event(w),M=w.changedTouches,I=M.length,P,Y;for(Ui(w),c&&clearTimeout(c),c=setTimeout(function(){c=null},h),P=0;P<I;++P)Y=M[P],p.touch0&&p.touch0[2]===Y.identifier?delete p.touch0:p.touch1&&p.touch1[2]===Y.identifier&&delete p.touch1;if(p.touch1&&!p.touch0&&(p.touch0=p.touch1,delete p.touch1),p.touch0)p.touch0[1]=this.__zoom.invert(p.touch0[0]);else if(p.end(),p.taps===2&&(Y=lt(Y,this),Math.hypot(d[0]-Y[0],d[1]-Y[1])<b)){var U=$e(this).on("dblclick.zoom");U&&U.apply(this,arguments)}}}return g.wheelDelta=function(w){return arguments.length?(i=typeof w=="function"?w:ei(+w),g):i},g.filter=function(w){return arguments.length?(t=typeof w=="function"?w:ei(!!w),g):t},g.touchable=function(w){return arguments.length?(o=typeof w=="function"?w:ei(!!w),g):o},g.extent=function(w){return arguments.length?(e=typeof w=="function"?w:ei([[+w[0][0],+w[0][1]],[+w[1][0],+w[1][1]]]),g):e},g.scaleExtent=function(w){return arguments.length?(r[0]=+w[0],r[1]=+w[1],g):[r[0],r[1]]},g.translateExtent=function(w){return arguments.length?(l[0][0]=+w[0][0],l[1][0]=+w[1][0],l[0][1]=+w[0][1],l[1][1]=+w[1][1],g):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},g.constrain=function(w){return arguments.length?(n=w,g):n},g.duration=function(w){return arguments.length?(s=+w,g):s},g.interpolate=function(w){return arguments.length?(u=w,g):u},g.on=function(){var w=a.on.apply(a,arguments);return w===a?g:w},g.clickDistance=function(w){return arguments.length?(m=(w=+w)*w,g):Math.sqrt(m)},g.tapDistance=function(w){return arguments.length?(b=+w,g):b},g}const Bn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:i})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:i}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`},ki=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]];var Kt;(function(t){t.Strict="strict",t.Loose="loose"})(Kt||(Kt={}));var dt;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(dt||(dt={}));var vi;(function(t){t.Partial="partial",t.Full="full"})(vi||(vi={}));const co={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var un;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(un||(un={}));var pi;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(pi||(pi={}));var _e;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(_e||(_e={}));const rr={[_e.Left]:_e.Right,[_e.Right]:_e.Left,[_e.Top]:_e.Bottom,[_e.Bottom]:_e.Top};function Wc(t,e){if(!t&&!e)return!0;if(!t||!e||t.size!==e.size)return!1;if(!t.size&&!e.size)return!0;for(const n of t.keys())if(!e.has(n))return!1;return!0}function lr(t,e,n){if(!n)return;const i=[];t.forEach((o,r)=>{e!=null&&e.has(r)||i.push(o)}),i.length&&n(i)}function sr(t){return t===null?null:t?"valid":"invalid"}const Yc=t=>"id"in t&&"source"in t&&"target"in t,Bc=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),Co=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),Kn=(t,e=[0,0])=>{const{width:n,height:i}=At(t),o=t.origin??e,r=n*o[0],l=i*o[1];return{x:t.position.x-r,y:t.position.y-l}},Kc=(t,e={nodeOrigin:[0,0],nodeLookup:void 0})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((i,o)=>{const r=typeof o=="string";let l=!e.nodeLookup&&!r?o:void 0;e.nodeLookup&&(l=r?e.nodeLookup.get(o):Co(o)?o:e.nodeLookup.get(o.id));const s=l?Ci(l,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Li(i,s)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Vi(n)},Fn=(t,e={})=>{if(t.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return t.forEach(i=>{if(e.filter===void 0||e.filter(i)){const o=Ci(i);n=Li(n,o)}}),Vi(n)},Fl=(t,e,[n,i,o]=[0,0,1],r=!1,l=!1)=>{const s={...Zn(e,[n,i,o]),width:e.width/o,height:e.height/o},u=[];for(const a of t.values()){const{measured:f,selectable:d=!0,hidden:c=!1}=a;if(l&&!d||c)continue;const h=f.width??a.width??a.initialWidth??null,y=f.height??a.height??a.initialHeight??null,m=Vn(s,bn(a)),b=(h??0)*(y??0),g=r&&m>0;(!a.internals.handleBounds||g||m>=b||a.dragging)&&u.push(a)}return u},ho=(t,e)=>{const n=new Set;return t.forEach(i=>{n.add(i.id)}),e.filter(i=>n.has(i.source)||n.has(i.target))};function ur(t,e){const n=new Map,i=e!=null&&e.nodes?new Set(e.nodes.map(o=>o.id)):null;return t.forEach(o=>{o.measured.width&&o.measured.height&&((e==null?void 0:e.includeHiddenNodes)||!o.hidden)&&(!i||i.has(o.id))&&n.set(o.id,o)}),n}async function ar({nodes:t,width:e,height:n,panZoom:i,minZoom:o,maxZoom:r},l){if(t.size===0)return Promise.resolve(!1);const s=Fn(t),u=Eo(s,e,n,(l==null?void 0:l.minZoom)??o,(l==null?void 0:l.maxZoom)??r,(l==null?void 0:l.padding)??.1);return await i.setViewport(u,{duration:l==null?void 0:l.duration}),Promise.resolve(!0)}function Fc({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:i=[0,0],nodeExtent:o,onError:r}){const l=n.get(t),s=l.parentId?n.get(l.parentId):void 0,{x:u,y:a}=s?s.internals.positionAbsolute:{x:0,y:0},f=l.origin??i;let d=o;if(l.extent==="parent"&&!l.expandParent)if(!s)r==null||r("005",Bn.error005());else{const h=s.measured.width,y=s.measured.height;h&&y&&(d=[[u,a],[u+h,a+y]])}else s&&wn(l.extent)&&(d=[[l.extent[0][0]+u,l.extent[0][1]+a],[l.extent[1][0]+u,l.extent[1][1]+a]]);const c=wn(d)?Ft(e,d,l.measured):e;return{position:{x:c.x-u+l.measured.width*f[0],y:c.y-a+l.measured.height*f[1]},positionAbsolute:c}}async function Zl({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:i,onBeforeDelete:o}){const r=new Set(t.map(c=>c.id)),l=[];for(const c of n){if(c.deletable===!1)continue;const h=r.has(c.id),y=!h&&c.parentId&&l.find(m=>m.id===c.parentId);(h||y)&&l.push(c)}const s=new Set(e.map(c=>c.id)),u=i.filter(c=>c.deletable!==!1),f=ho(l,u);for(const c of u)s.has(c.id)&&!f.find(y=>y.id===c.id)&&f.push(c);if(!o)return{edges:f,nodes:l};const d=await o({nodes:l,edges:f});return typeof d=="boolean"?d?{edges:f,nodes:l}:{edges:[],nodes:[]}:d}const _n=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),Ft=(t={x:0,y:0},e,n)=>({x:_n(t.x,e[0][0],e[1][0]-((n==null?void 0:n.width)??0)),y:_n(t.y,e[0][1],e[1][1]-((n==null?void 0:n.height)??0))});function Gl(t,e,n){const{width:i,height:o}=At(n),{x:r,y:l}=n.internals.positionAbsolute;return Ft(t,[[r,l],[r+i,l+o]],e)}const fr=(t,e,n)=>t<e?_n(Math.abs(t-e),1,e)/e:t>n?-_n(Math.abs(t-n),1,e)/e:0,ql=(t,e,n=15,i=40)=>{const o=fr(t.x,i,e.width-i)*n,r=fr(t.y,i,e.height-i)*n;return[o,r]},Li=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),go=({x:t,y:e,width:n,height:i})=>({x:t,y:e,x2:t+n,y2:e+i}),Vi=({x:t,y:e,x2:n,y2:i})=>({x:t,y:e,width:n-t,height:i-e}),bn=(t,e=[0,0])=>{var o,r;const{x:n,y:i}=Co(t)?t.internals.positionAbsolute:Kn(t,e);return{x:n,y:i,width:((o=t.measured)==null?void 0:o.width)??t.width??t.initialWidth??0,height:((r=t.measured)==null?void 0:r.height)??t.height??t.initialHeight??0}},Ci=(t,e=[0,0])=>{var o,r;const{x:n,y:i}=Co(t)?t.internals.positionAbsolute:Kn(t,e);return{x:n,y:i,x2:n+(((o=t.measured)==null?void 0:o.width)??t.width??t.initialWidth??0),y2:i+(((r=t.measured)==null?void 0:r.height)??t.height??t.initialHeight??0)}},Ul=(t,e)=>Vi(Li(go(t),go(e))),Vn=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),i=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*i)},cr=t=>ut(t.width)&&ut(t.height)&&ut(t.x)&&ut(t.y),ut=t=>!isNaN(t)&&isFinite(t),Zc=(t,e)=>{},So=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),Zn=({x:t,y:e},[n,i,o],r=!1,l=[1,1])=>{const s={x:(t-n)/o,y:(e-i)/o};return r?So(s,l):s},Jl=({x:t,y:e},[n,i,o])=>({x:t*o+n,y:e*o+i}),Eo=(t,e,n,i,o,r)=>{const l=e/(t.width*(1+r)),s=n/(t.height*(1+r)),u=Math.min(l,s),a=_n(u,i,o),f=t.x+t.width/2,d=t.y+t.height/2,c=e/2-f*a,h=n/2-d*a;return{x:c,y:h,zoom:a}},Si=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function wn(t){return t!==void 0&&t!=="parent"}function At(t){var e,n;return{width:((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth??0,height:((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight??0}}function Ei(t){var e,n;return(((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth)!==void 0&&(((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight)!==void 0}function Gc(t,e={width:0,height:0},n,i,o){let r=n;const l={...t};for(;r;){const s=i.get(r);if(r=s==null?void 0:s.parentId,s){const u=s.origin||o;l.x+=s.internals.positionAbsolute.x-(e.width??0)*u[0],l.y+=s.internals.positionAbsolute.y-(e.height??0)*u[1]}}return l}function Pn(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:i}){const{x:o,y:r}=vt(t),l=Zn({x:o,y:r},i),{x:s,y:u}=n?So(l,e):l;return{xSnapped:s,ySnapped:u,...l}}const zo=t=>({width:t.offsetWidth,height:t.offsetHeight}),qc=t=>{var e;return((e=t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},Uc=["INPUT","SELECT","TEXTAREA"];function Jc(t){var i,o;const e=((o=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:o[0])||t.target;return Uc.includes(e==null?void 0:e.nodeName)||(e==null?void 0:e.hasAttribute("contenteditable"))||!!(e!=null&&e.closest(".nokey"))}const Ql=t=>"clientX"in t,vt=(t,e)=>{var r,l;const n=Ql(t),i=n?t.clientX:(r=t.touches)==null?void 0:r[0].clientX,o=n?t.clientY:(l=t.touches)==null?void 0:l[0].clientY;return{x:i-((e==null?void 0:e.left)??0),y:o-((e==null?void 0:e.top)??0)}},dr=(t,e,n,i,o)=>{const r=e.querySelectorAll(`.${t}`);return!r||!r.length?null:Array.from(r).map(l=>{const s=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),type:t,nodeId:o,position:l.getAttribute("data-handlepos"),x:(s.left-n.left)/i,y:(s.top-n.top)/i,...zo(l)}})};function Qc({sourceX:t,sourceY:e,targetX:n,targetY:i,sourceControlX:o,sourceControlY:r,targetControlX:l,targetControlY:s}){const u=t*.125+o*.375+l*.375+n*.125,a=e*.125+r*.375+s*.375+i*.125,f=Math.abs(u-t),d=Math.abs(a-e);return[u,a,f,d]}function ti(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function hr({pos:t,x1:e,y1:n,x2:i,y2:o,c:r}){switch(t){case _e.Left:return[e-ti(e-i,r),n];case _e.Right:return[e+ti(i-e,r),n];case _e.Top:return[e,n-ti(n-o,r)];case _e.Bottom:return[e,n+ti(o-n,r)]}}function Mo({sourceX:t,sourceY:e,sourcePosition:n=_e.Bottom,targetX:i,targetY:o,targetPosition:r=_e.Top,curvature:l=.25}){const[s,u]=hr({pos:n,x1:t,y1:e,x2:i,y2:o,c:l}),[a,f]=hr({pos:r,x1:i,y1:o,x2:t,y2:e,c:l}),[d,c,h,y]=Qc({sourceX:t,sourceY:e,targetX:i,targetY:o,sourceControlX:s,sourceControlY:u,targetControlX:a,targetControlY:f});return[`M${t},${e} C${s},${u} ${a},${f} ${i},${o}`,d,c,h,y]}function jl({sourceX:t,sourceY:e,targetX:n,targetY:i}){const o=Math.abs(n-t)/2,r=n<t?n+o:n-o,l=Math.abs(i-e)/2,s=i<e?i+l:i-l;return[r,s,o,l]}function jc({sourceNode:t,targetNode:e,selected:n=!1,zIndex:i=0,elevateOnSelect:o=!1}){if(!o)return i;const r=n||e.selected||t.selected,l=Math.max(t.internals.z||0,e.internals.z||0,1e3);return i+(r?l:0)}function xc({sourceNode:t,targetNode:e,width:n,height:i,transform:o}){const r=Li(Ci(t),Ci(e));r.x===r.x2&&(r.x2+=1),r.y===r.y2&&(r.y2+=1);const l={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:i/o[2]};return Vn(l,Vi(r))>0}const $c=({source:t,sourceHandle:e,target:n,targetHandle:i})=>`xy-edge__${t}${e||""}-${n}${i||""}`,ed=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),td=(t,e)=>{if(!t.source||!t.target)return e;let n;return Yc(t)?n={...t}:n={...t,id:$c(t)},ed(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function xl({sourceX:t,sourceY:e,targetX:n,targetY:i}){const[o,r,l,s]=jl({sourceX:t,sourceY:e,targetX:n,targetY:i});return[`M ${t},${e}L ${n},${i}`,o,r,l,s]}const gr={[_e.Left]:{x:-1,y:0},[_e.Right]:{x:1,y:0},[_e.Top]:{x:0,y:-1},[_e.Bottom]:{x:0,y:1}},nd=({source:t,sourcePosition:e=_e.Bottom,target:n})=>e===_e.Left||e===_e.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},mr=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function id({source:t,sourcePosition:e=_e.Bottom,target:n,targetPosition:i=_e.Top,center:o,offset:r}){const l=gr[e],s=gr[i],u={x:t.x+l.x*r,y:t.y+l.y*r},a={x:n.x+s.x*r,y:n.y+s.y*r},f=nd({source:u,sourcePosition:e,target:a}),d=f.x!==0?"x":"y",c=f[d];let h=[],y,m;const b={x:0,y:0},g={x:0,y:0},[C,k,S,N]=jl({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(l[d]*s[d]===-1){y=o.x??C,m=o.y??k;const v=[{x:y,y:u.y},{x:y,y:a.y}],E=[{x:u.x,y:m},{x:a.x,y:m}];l[d]===c?h=d==="x"?v:E:h=d==="x"?E:v}else{const v=[{x:u.x,y:a.y}],E=[{x:a.x,y:u.y}];if(d==="x"?h=l.x===c?E:v:h=l.y===c?v:E,e===i){const F=Math.abs(t[d]-n[d]);if(F<=r){const w=Math.min(r-1,r-F);l[d]===c?b[d]=(u[d]>t[d]?-1:1)*w:g[d]=(a[d]>n[d]?-1:1)*w}}if(e!==i){const F=d==="x"?"y":"x",w=l[d]===s[F],L=u[F]>a[F],p=u[F]<a[F];(l[d]===1&&(!w&&L||w&&p)||l[d]!==1&&(!w&&p||w&&L))&&(h=d==="x"?v:E)}const z={x:u.x+b.x,y:u.y+b.y},A={x:a.x+g.x,y:a.y+g.y},W=Math.max(Math.abs(z.x-h[0].x),Math.abs(A.x-h[0].x)),B=Math.max(Math.abs(z.y-h[0].y),Math.abs(A.y-h[0].y));W>=B?(y=(z.x+A.x)/2,m=h[0].y):(y=h[0].x,m=(z.y+A.y)/2)}return[[t,{x:u.x+b.x,y:u.y+b.y},...h,{x:a.x+g.x,y:a.y+g.y},n],y,m,S,N]}function od(t,e,n,i){const o=Math.min(mr(t,e)/2,mr(e,n)/2,i),{x:r,y:l}=e;if(t.x===r&&r===n.x||t.y===l&&l===n.y)return`L${r} ${l}`;if(t.y===l){const a=t.x<n.x?-1:1,f=t.y<n.y?1:-1;return`L ${r+o*a},${l}Q ${r},${l} ${r},${l+o*f}`}const s=t.x<n.x?1:-1,u=t.y<n.y?-1:1;return`L ${r},${l+o*u}Q ${r},${l} ${r+o*s},${l}`}function zi({sourceX:t,sourceY:e,sourcePosition:n=_e.Bottom,targetX:i,targetY:o,targetPosition:r=_e.Top,borderRadius:l=5,centerX:s,centerY:u,offset:a=20}){const[f,d,c,h,y]=id({source:{x:t,y:e},sourcePosition:n,target:{x:i,y:o},targetPosition:r,center:{x:s,y:u},offset:a});return[f.reduce((b,g,C)=>{let k="";return C>0&&C<f.length-1?k=od(f[C-1],g,f[C+1],l):k=`${C===0?"M":"L"}${g.x} ${g.y}`,b+=k,b},""),d,c,h,y]}function yr(t){var e;return t&&!!(t.internals.handleBounds||(e=t.handles)!=null&&e.length)&&!!(t.measured.width||t.width||t.initialWidth)}function rd(t){var d;const{sourceNode:e,targetNode:n}=t;if(!yr(e)||!yr(n))return null;const i=e.internals.handleBounds||_r(e.handles),o=n.internals.handleBounds||_r(n.handles),r=br((i==null?void 0:i.source)??[],t.sourceHandle),l=br(t.connectionMode===Kt.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),t.targetHandle);if(!r||!l)return(d=t.onError)==null||d.call(t,"008",Bn.error008(r?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const s=(r==null?void 0:r.position)||_e.Bottom,u=(l==null?void 0:l.position)||_e.Top,a=Xn(e,r,s),f=Xn(n,l,u);return{sourceX:a.x,sourceY:a.y,targetX:f.x,targetY:f.y,sourcePosition:s,targetPosition:u}}function _r(t){if(!t)return null;const e=[],n=[];for(const i of t)i.width=i.width??1,i.height=i.height??1,i.type==="source"?e.push(i):i.type==="target"&&n.push(i);return{source:e,target:n}}function Xn(t,e,n=_e.Left,i=!1){const o=((e==null?void 0:e.x)??0)+t.internals.positionAbsolute.x,r=((e==null?void 0:e.y)??0)+t.internals.positionAbsolute.y,{width:l,height:s}=e??At(t);if(i)return{x:o+l/2,y:r+s/2};switch((e==null?void 0:e.position)??n){case _e.Top:return{x:o+l/2,y:r};case _e.Right:return{x:o+l,y:r+s/2};case _e.Bottom:return{x:o+l/2,y:r+s};case _e.Left:return{x:o,y:r+s/2}}}function br(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function mo(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(i=>`${i}=${t[i]}`).join("&")}`:""}function ld(t,{id:e,defaultColor:n,defaultMarkerStart:i,defaultMarkerEnd:o}){const r=new Set;return t.reduce((l,s)=>([s.markerStart||i,s.markerEnd||o].forEach(u=>{if(u&&typeof u=="object"){const a=mo(u,e);r.has(a)||(l.push({id:a,color:u.color||n,...u}),r.add(a))}}),l),[]).sort((l,s)=>l.id.localeCompare(s.id))}const Po={nodeOrigin:[0,0],nodeExtent:ki,elevateNodesOnSelect:!0,defaults:{}},sd={...Po,checkEquality:!0};function Oo(t,e){const n={...t};for(const i in e)e[i]!==void 0&&(n[i]=e[i]);return n}function ud(t,e,n){const i=Oo(Po,n);for(const o of t.values())if(o.parentId)No(o,t,e,i);else{const r=Kn(o,i.nodeOrigin),l=wn(o.extent)?o.extent:i.nodeExtent,s=Ft(r,l,At(o));o.internals.positionAbsolute=s}}function $l(t,e,n,i){var s,u;const o=Oo(sd,i),r=new Map(e),l=o!=null&&o.elevateNodesOnSelect?1e3:0;e.clear(),n.clear();for(const a of t){let f=r.get(a.id);if(o.checkEquality&&a===(f==null?void 0:f.internals.userNode))e.set(a.id,f);else{const d=Kn(a,o.nodeOrigin),c=wn(a.extent)?a.extent:o.nodeExtent,h=Ft(d,c,At(a));f={...o.defaults,...a,measured:{width:(s=a.measured)==null?void 0:s.width,height:(u=a.measured)==null?void 0:u.height},internals:{positionAbsolute:h,handleBounds:a.measured?f==null?void 0:f.internals.handleBounds:void 0,z:es(a,l),userNode:a}},e.set(a.id,f)}a.parentId&&No(f,e,n,i)}}function ad(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function No(t,e,n,i){const{elevateNodesOnSelect:o,nodeOrigin:r,nodeExtent:l}=Oo(Po,i),s=t.parentId,u=e.get(s);if(!u){console.warn(`Parent node ${s} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}ad(t,n);const a=o?1e3:0,{x:f,y:d,z:c}=fd(t,u,r,l,a),{positionAbsolute:h}=t.internals,y=f!==h.x||d!==h.y;(y||c!==t.internals.z)&&(t.internals={...t.internals,positionAbsolute:y?{x:f,y:d}:h,z:c})}function es(t,e){return(ut(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function fd(t,e,n,i,o){const{x:r,y:l}=e.internals.positionAbsolute,s=At(t),u=Kn(t,n),a=wn(t.extent)?Ft(u,t.extent,s):u;let f=Ft({x:r+a.x,y:l+a.y},i,s);t.extent==="parent"&&(f=Gl(f,s,e));const d=es(t,o),c=e.internals.z??0;return{x:f.x,y:f.y,z:c>d?c:d}}function cd(t,e,n,i=[0,0]){var l;const o=[],r=new Map;for(const s of t){const u=e.get(s.parentId);if(!u)continue;const a=((l=r.get(s.parentId))==null?void 0:l.expandedRect)??bn(u),f=Ul(a,s.rect);r.set(s.parentId,{expandedRect:f,parent:u})}return r.size>0&&r.forEach(({expandedRect:s,parent:u},a)=>{var k;const f=u.internals.positionAbsolute,d=At(u),c=u.origin??i,h=s.x<f.x?Math.round(Math.abs(f.x-s.x)):0,y=s.y<f.y?Math.round(Math.abs(f.y-s.y)):0,m=Math.max(d.width,Math.round(s.width)),b=Math.max(d.height,Math.round(s.height)),g=(m-d.width)*c[0],C=(b-d.height)*c[1];(h>0||y>0||g||C)&&(o.push({id:a,type:"position",position:{x:u.position.x-h+g,y:u.position.y-y+C}}),(k=n.get(a))==null||k.forEach(S=>{t.some(N=>N.id===S.id)||o.push({id:S.id,type:"position",position:{x:S.position.x+h,y:S.position.y+y}})})),(d.width<s.width||d.height<s.height||h||y)&&o.push({id:a,type:"dimensions",setAttributes:!0,dimensions:{width:m+(h?c[0]*h-g:0),height:b+(y?c[1]*y-C:0)}})}),o}function dd(t,e,n,i,o,r){const l=i==null?void 0:i.querySelector(".xyflow__viewport");let s=!1;if(!l)return{changes:[],updatedInternals:s};const u=[],a=window.getComputedStyle(l),{m22:f}=new window.DOMMatrixReadOnly(a.transform),d=[];for(const c of t.values()){const h=e.get(c.id);if(h)if(h.hidden)h.internals={...h.internals,handleBounds:void 0},s=!0;else{const y=zo(c.nodeElement),m=h.measured.width!==y.width||h.measured.height!==y.height;if(!!(y.width&&y.height&&(m||!h.internals.handleBounds||c.force))){const g=c.nodeElement.getBoundingClientRect(),C=wn(h.extent)?h.extent:r;let{positionAbsolute:k}=h.internals;h.parentId&&h.extent==="parent"?k=Gl(k,y,e.get(h.parentId)):C&&(k=Ft(k,C,y)),h.measured=y,h.internals={...h.internals,positionAbsolute:k,handleBounds:{source:dr("source",c.nodeElement,g,f,h.id),target:dr("target",c.nodeElement,g,f,h.id)}},h.parentId&&No(h,e,n,{nodeOrigin:o}),s=!0,m&&(u.push({id:h.id,type:"dimensions",dimensions:y}),h.expandParent&&h.parentId&&d.push({id:h.id,parentId:h.parentId,rect:bn(h,o)}))}}}if(d.length>0){const c=cd(d,e,n,o);u.push(...c)}return{changes:u,updatedInternals:s}}async function hd({delta:t,panZoom:e,transform:n,translateExtent:i,width:o,height:r}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const l=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[o,r]],i),s=!!l&&(l.x!==n[0]||l.y!==n[1]||l.k!==n[2]);return Promise.resolve(s)}function ts(t,e,n){t.clear(),e.clear();for(const i of n){const{source:o,target:r,sourceHandle:l=null,targetHandle:s=null}=i,u=`${o}-source-${l}`,a=`${r}-target-${s}`,f=t.get(u)||new Map,d=t.get(a)||new Map,c={edgeId:i.id,source:o,target:r,sourceHandle:l,targetHandle:s};e.set(i.id,i),t.set(u,f.set(`${r}-${s}`,c)),t.set(a,d.set(`${o}-${l}`,c))}}function ns(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:ns(n,e):!1}function wr(t,e,n){let i=t;do{if(i!=null&&i.matches(e))return!0;if(i===n)return!1;i=i.parentElement}while(i);return!1}function gd(t,e,n,i){const o=new Map;for(const[r,l]of t)if((l.selected||l.id===i)&&(!l.parentId||!ns(l,t))&&(l.draggable||e&&typeof l.draggable>"u")){const s=t.get(r);s&&o.set(r,{id:r,position:s.position||{x:0,y:0},distance:{x:n.x-s.internals.positionAbsolute.x,y:n.y-s.internals.positionAbsolute.y},extent:s.extent,parentId:s.parentId,origin:s.origin,expandParent:s.expandParent,internals:{positionAbsolute:s.internals.positionAbsolute||{x:0,y:0}},measured:{width:s.measured.width??0,height:s.measured.height??0}})}return o}function Ji({nodeId:t,dragItems:e,nodeLookup:n,dragging:i=!0}){var l,s;const o=[];for(const[u,a]of e){const f=(l=n.get(u))==null?void 0:l.internals.userNode;f&&o.push({...f,position:a.position,dragging:i})}if(!t)return[o[0],o];const r=n.get(t).internals.userNode;return[{...r,position:((s=e.get(t))==null?void 0:s.position)||r.position,dragging:i},o]}function md({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:i,onDragStop:o}){let r={x:null,y:null},l=0,s=new Map,u=!1,a={x:0,y:0},f=null,d=!1,c=null,h=!1;function y({noDragClassName:b,handleSelector:g,domNode:C,isSelectable:k,nodeId:S,nodeClickDistance:N=0}){c=$e(C);function T({x:A,y:W},B){const{nodeLookup:F,nodeExtent:w,snapGrid:L,snapToGrid:p,nodeOrigin:M,onNodeDrag:I,onSelectionDrag:P,onError:Y,updateNodePositions:U}=e();r={x:A,y:W};let j=!1,ie={x:0,y:0,x2:0,y2:0};if(s.size>1&&w){const V=Fn(s);ie=go(V)}for(const[V,ne]of s){if(!F.has(V))continue;let re={x:A-ne.distance.x,y:W-ne.distance.y};p&&(re=So(re,L));let D=[[w[0][0],w[0][1]],[w[1][0],w[1][1]]];if(s.size>1&&w&&!ne.extent){const{positionAbsolute:ee}=ne.internals,ye=ee.x-ie.x+w[0][0],we=ee.x+ne.measured.width-ie.x2+w[1][0],ze=ee.y-ie.y+w[0][1],q=ee.y+ne.measured.height-ie.y2+w[1][1];D=[[ye,ze],[we,q]]}const{position:de,positionAbsolute:H}=Fc({nodeId:V,nextPosition:re,nodeLookup:F,nodeExtent:D,nodeOrigin:M,onError:Y});j=j||ne.position.x!==de.x||ne.position.y!==de.y,ne.position=de,ne.internals.positionAbsolute=H}if(j&&(U(s,!0),B&&(i||I||!S&&P))){const[V,ne]=Ji({nodeId:S,dragItems:s,nodeLookup:F});i==null||i(B,s,V,ne),I==null||I(B,V,ne),S||P==null||P(B,ne)}}async function v(){if(!f)return;const{transform:A,panBy:W,autoPanSpeed:B}=e(),[F,w]=ql(a,f,B);(F!==0||w!==0)&&(r.x=(r.x??0)-F/A[2],r.y=(r.y??0)-w/A[2],await W({x:F,y:w})&&T(r,null)),l=requestAnimationFrame(v)}function E(A){var j;const{nodeLookup:W,multiSelectionActive:B,nodesDraggable:F,transform:w,snapGrid:L,snapToGrid:p,selectNodesOnDrag:M,onNodeDragStart:I,onSelectionDragStart:P,unselectNodesAndEdges:Y}=e();d=!0,(!M||!k)&&!B&&S&&((j=W.get(S))!=null&&j.selected||Y()),k&&M&&S&&(t==null||t(S));const U=Pn(A.sourceEvent,{transform:w,snapGrid:L,snapToGrid:p});if(r=U,s=gd(W,F,U,S),s.size>0&&(n||I||!S&&P)){const[ie,V]=Ji({nodeId:S,dragItems:s,nodeLookup:W});n==null||n(A.sourceEvent,s,ie,V),I==null||I(A.sourceEvent,ie,V),S||P==null||P(A.sourceEvent,V)}}const z=Pl().clickDistance(N).on("start",A=>{const{domNode:W,nodeDragThreshold:B,transform:F,snapGrid:w,snapToGrid:L}=e();h=!1,B===0&&E(A),r=Pn(A.sourceEvent,{transform:F,snapGrid:w,snapToGrid:L}),f=(W==null?void 0:W.getBoundingClientRect())||null,a=vt(A.sourceEvent,f)}).on("drag",A=>{const{autoPanOnNodeDrag:W,transform:B,snapGrid:F,snapToGrid:w,nodeDragThreshold:L,nodeLookup:p}=e(),M=Pn(A.sourceEvent,{transform:B,snapGrid:F,snapToGrid:w});if((A.sourceEvent.type==="touchmove"&&A.sourceEvent.touches.length>1||S&&!p.has(S))&&(h=!0),!h){if(!u&&W&&d&&(u=!0,v()),!d){const I=M.xSnapped-(r.x??0),P=M.ySnapped-(r.y??0);Math.sqrt(I*I+P*P)>L&&E(A)}(r.x!==M.xSnapped||r.y!==M.ySnapped)&&s&&d&&(a=vt(A.sourceEvent,f),T(M,A.sourceEvent))}}).on("end",A=>{if(!(!d||h)&&(u=!1,d=!1,cancelAnimationFrame(l),s.size>0)){const{nodeLookup:W,updateNodePositions:B,onNodeDragStop:F,onSelectionDragStop:w}=e();if(B(s,!1),o||F||!S&&w){const[L,p]=Ji({nodeId:S,dragItems:s,nodeLookup:W,dragging:!1});o==null||o(A.sourceEvent,s,L,p),F==null||F(A.sourceEvent,L,p),S||w==null||w(A.sourceEvent,p)}}}).filter(A=>{const W=A.target;return!A.button&&(!b||!wr(W,`.${b}`,C))&&(!g||wr(W,g,C))});c.call(z)}function m(){c==null||c.on(".drag",null)}return{update:y,destroy:m}}function yd(t,e,n){const i=[],o={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const r of e.values())Vn(o,bn(r))>0&&i.push(r);return i}const _d=250;function bd(t,e,n,i){var s,u;let o=[],r=1/0;const l=yd(t,n,e+_d);for(const a of l){const f=[...((s=a.internals.handleBounds)==null?void 0:s.source)??[],...((u=a.internals.handleBounds)==null?void 0:u.target)??[]];for(const d of f){if(i.nodeId===d.nodeId&&i.type===d.type&&i.id===d.id)continue;const{x:c,y:h}=Xn(a,d,d.position,!0),y=Math.sqrt(Math.pow(c-t.x,2)+Math.pow(h-t.y,2));y>e||(y<r?(o=[{...d,x:c,y:h}],r=y):y===r&&o.push({...d,x:c,y:h}))}}if(!o.length)return null;if(o.length>1){const a=i.type==="source"?"target":"source";return o.find(f=>f.type===a)??o[0]}return o[0]}function is(t,e,n,i,o,r=!1){var a,f,d;const l=i.get(t);if(!l)return null;const s=o==="strict"?(a=l.internals.handleBounds)==null?void 0:a[e]:[...((f=l.internals.handleBounds)==null?void 0:f.source)??[],...((d=l.internals.handleBounds)==null?void 0:d.target)??[]],u=(n?s==null?void 0:s.find(c=>c.id===n):s==null?void 0:s[0])??null;return u&&r?{...u,...Xn(l,u,u.position,!0)}:u}function os(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function wd(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const rs=()=>!0;function kd(t,{connectionMode:e,connectionRadius:n,handleId:i,nodeId:o,edgeUpdaterType:r,isTarget:l,domNode:s,nodeLookup:u,lib:a,autoPanOnConnect:f,flowId:d,panBy:c,cancelConnection:h,onConnectStart:y,onConnect:m,onConnectEnd:b,isValidConnection:g=rs,onReconnectEnd:C,updateConnection:k,getTransform:S,getFromHandle:N,autoPanSpeed:T}){const v=qc(t.target);let E=0,z;const{x:A,y:W}=vt(t),B=v==null?void 0:v.elementFromPoint(A,W),F=os(r,B),w=s==null?void 0:s.getBoundingClientRect();if(!w||!F)return;const L=is(o,F,i,u,e);if(!L)return;let p=vt(t,w),M=!1,I=null,P=!1,Y=null;function U(){if(!f||!w)return;const[H,ee]=ql(p,w,T);c({x:H,y:ee}),E=requestAnimationFrame(U)}const j={...L,nodeId:o,type:F,position:L.position},ie=u.get(o),ne={inProgress:!0,isValid:null,from:Xn(ie,j,_e.Left,!0),fromHandle:j,fromPosition:j.position,fromNode:ie,to:p,toHandle:null,toPosition:rr[j.position],toNode:null};k(ne);let re=ne;y==null||y(t,{nodeId:o,handleId:i,handleType:F});function D(H){if(!N()||!j){de(H);return}const ee=S();p=vt(H,w),z=bd(Zn(p,ee,!1,[1,1]),n,u,j),M||(U(),M=!0);const ye=ls(H,{handle:z,connectionMode:e,fromNodeId:o,fromHandleId:i,fromType:l?"target":"source",isValidConnection:g,doc:v,lib:a,flowId:d,nodeLookup:u});Y=ye.handleDomNode,I=ye.connection,P=wd(!!z,ye.isValid);const we={...re,isValid:P,to:z&&P?Jl({x:z.x,y:z.y},ee):p,toHandle:ye.toHandle,toPosition:P&&ye.toHandle?ye.toHandle.position:rr[j.position],toNode:ye.toHandle?u.get(ye.toHandle.nodeId):null};P&&z&&re.toHandle&&we.toHandle&&re.toHandle.type===we.toHandle.type&&re.toHandle.nodeId===we.toHandle.nodeId&&re.toHandle.id===we.toHandle.id&&re.to.x===we.to.x&&re.to.y===we.to.y||(k(we),re=we)}function de(H){(z||Y)&&I&&P&&(m==null||m(I));const{inProgress:ee,...ye}=re,we={...ye,toPosition:re.toHandle?re.toPosition:null};b==null||b(H,we),r&&(C==null||C(H,we)),h(),cancelAnimationFrame(E),M=!1,P=!1,I=null,Y=null,v.removeEventListener("mousemove",D),v.removeEventListener("mouseup",de),v.removeEventListener("touchmove",D),v.removeEventListener("touchend",de)}v.addEventListener("mousemove",D),v.addEventListener("mouseup",de),v.addEventListener("touchmove",D),v.addEventListener("touchend",de)}function ls(t,{handle:e,connectionMode:n,fromNodeId:i,fromHandleId:o,fromType:r,doc:l,lib:s,flowId:u,isValidConnection:a=rs,nodeLookup:f}){const d=r==="target",c=e?l.querySelector(`.${s}-flow__handle[data-id="${u}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:h,y}=vt(t),m=l.elementFromPoint(h,y),b=m!=null&&m.classList.contains(`${s}-flow__handle`)?m:c,g={handleDomNode:b,isValid:!1,connection:null,toHandle:null};if(b){const C=os(void 0,b),k=b.getAttribute("data-nodeid"),S=b.getAttribute("data-handleid"),N=b.classList.contains("connectable"),T=b.classList.contains("connectableend");if(!k||!C)return g;const v={source:d?k:i,sourceHandle:d?S:o,target:d?i:k,targetHandle:d?o:S};g.connection=v;const z=N&&T&&(n===Kt.Strict?d&&C==="source"||!d&&C==="target":k!==i||S!==o);g.isValid=z&&a(v),g.toHandle=is(k,C,S,f,n,!1)}return g}const vd={onPointerDown:kd,isValid:ls};function pd({domNode:t,panZoom:e,getTransform:n,getViewScale:i}){const o=$e(t);function r({translateExtent:s,width:u,height:a,zoomStep:f=10,pannable:d=!0,zoomable:c=!0,inversePan:h=!1}){const y=k=>{const S=n();if(k.sourceEvent.type!=="wheel"||!e)return;const N=-k.sourceEvent.deltaY*(k.sourceEvent.deltaMode===1?.05:k.sourceEvent.deltaMode?1:.002)*f,T=S[2]*Math.pow(2,N);e.scaleTo(T)};let m=[0,0];const b=k=>{(k.sourceEvent.type==="mousedown"||k.sourceEvent.type==="touchstart")&&(m=[k.sourceEvent.clientX??k.sourceEvent.touches[0].clientX,k.sourceEvent.clientY??k.sourceEvent.touches[0].clientY])},g=k=>{const S=n();if(k.sourceEvent.type!=="mousemove"&&k.sourceEvent.type!=="touchmove"||!e)return;const N=[k.sourceEvent.clientX??k.sourceEvent.touches[0].clientX,k.sourceEvent.clientY??k.sourceEvent.touches[0].clientY],T=[N[0]-m[0],N[1]-m[1]];m=N;const v=i()*Math.max(S[2],Math.log(S[2]))*(h?-1:1),E={x:S[0]-T[0]*v,y:S[1]-T[1]*v},z=[[0,0],[u,a]];e.setViewportConstrained({x:E.x,y:E.y,zoom:S[2]},z,s)},C=Kl().on("start",b).on("zoom",d?g:null).on("zoom.wheel",c?y:null);o.call(C,{})}function l(){o.on("zoom",null)}return{update:r,destroy:l,pointer:lt}}const Cd=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,Xi=t=>({x:t.x,y:t.y,zoom:t.k}),Qi=({x:t,y:e,zoom:n})=>Ri.translate(t,e).scale(n),nn=(t,e)=>t.target.closest(`.${e}`),ss=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),ji=(t,e=0,n=()=>{})=>{const i=typeof e=="number"&&e>0;return i||n(),i?t.transition().duration(e).on("end",n):t},us=t=>{const e=t.ctrlKey&&Si()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function Sd({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:i,panOnScrollMode:o,panOnScrollSpeed:r,zoomOnPinch:l,onPanZoomStart:s,onPanZoom:u,onPanZoomEnd:a}){return f=>{if(nn(f,e))return!1;f.preventDefault(),f.stopImmediatePropagation();const d=n.property("__zoom").k||1;if(f.ctrlKey&&l){const b=lt(f),g=us(f),C=d*Math.pow(2,g);i.scaleTo(n,C,b,f);return}const c=f.deltaMode===1?20:1;let h=o===dt.Vertical?0:f.deltaX*c,y=o===dt.Horizontal?0:f.deltaY*c;!Si()&&f.shiftKey&&o!==dt.Vertical&&(h=f.deltaY*c,y=0),i.translateBy(n,-(h/d)*r,-(y/d)*r,{internal:!0});const m=Xi(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,s==null||s(f,m)),t.isPanScrolling&&(u==null||u(f,m),t.panScrollTimeout=setTimeout(()=>{a==null||a(f,m),t.isPanScrolling=!1},150))}}function Ed({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(i,o){if(!e&&i.type==="wheel"&&!i.ctrlKey||nn(i,t))return null;i.preventDefault(),n.call(this,i,o)}}function zd({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return i=>{var r,l,s;if((r=i.sourceEvent)!=null&&r.internal)return;const o=Xi(i.transform);t.mouseButton=((l=i.sourceEvent)==null?void 0:l.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=o,((s=i.sourceEvent)==null?void 0:s.type)==="mousedown"&&e(!0),n&&(n==null||n(i.sourceEvent,o))}}function Md({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:i,onPanZoom:o}){return r=>{var l,s;t.usedRightMouseButton=!!(n&&ss(e,t.mouseButton??0)),(l=r.sourceEvent)!=null&&l.sync||i([r.transform.x,r.transform.y,r.transform.k]),o&&!((s=r.sourceEvent)!=null&&s.internal)&&(o==null||o(r.sourceEvent,Xi(r.transform)))}}function Pd({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:i,onPanZoomEnd:o,onPaneContextMenu:r}){return l=>{var s;if(!((s=l.sourceEvent)!=null&&s.internal)&&(t.isZoomingOrPanning=!1,r&&ss(e,t.mouseButton??0)&&!t.usedRightMouseButton&&l.sourceEvent&&r(l.sourceEvent),t.usedRightMouseButton=!1,i(!1),o&&Cd(t.prevViewport,l.transform))){const u=Xi(l.transform);t.prevViewport=u,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{o==null||o(l.sourceEvent,u)},n?150:0)}}}function Od({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:i,panOnScroll:o,zoomOnDoubleClick:r,userSelectionActive:l,noWheelClassName:s,noPanClassName:u,lib:a}){return f=>{var y;const d=t||e,c=n&&f.ctrlKey;if(f.button===1&&f.type==="mousedown"&&(nn(f,`${a}-flow__node`)||nn(f,`${a}-flow__edge`)))return!0;if(!i&&!d&&!o&&!r&&!n||l||nn(f,s)&&f.type==="wheel"||nn(f,u)&&(f.type!=="wheel"||o&&f.type==="wheel"&&!t)||!n&&f.ctrlKey&&f.type==="wheel")return!1;if(!n&&f.type==="touchstart"&&((y=f.touches)==null?void 0:y.length)>1)return f.preventDefault(),!1;if(!d&&!o&&!c&&f.type==="wheel"||!i&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(i)&&!i.includes(f.button)&&f.type==="mousedown")return!1;const h=Array.isArray(i)&&i.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||f.type==="wheel")&&h}}function Nd({domNode:t,minZoom:e,maxZoom:n,paneClickDistance:i,translateExtent:o,viewport:r,onPanZoom:l,onPanZoomStart:s,onPanZoomEnd:u,onDraggingChange:a}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=t.getBoundingClientRect(),c=Kl().clickDistance(!ut(i)||i<0?0:i).scaleExtent([e,n]).translateExtent(o),h=$e(t).call(c);k({x:r.x,y:r.y,zoom:_n(r.zoom,e,n)},[[0,0],[d.width,d.height]],o);const y=h.on("wheel.zoom"),m=h.on("dblclick.zoom");c.wheelDelta(us);function b(B,F){return h?new Promise(w=>{c==null||c.transform(ji(h,F==null?void 0:F.duration,()=>w(!0)),B)}):Promise.resolve(!1)}function g({noWheelClassName:B,noPanClassName:F,onPaneContextMenu:w,userSelectionActive:L,panOnScroll:p,panOnDrag:M,panOnScrollMode:I,panOnScrollSpeed:P,preventScrolling:Y,zoomOnPinch:U,zoomOnScroll:j,zoomOnDoubleClick:ie,zoomActivationKeyPressed:V,lib:ne,onTransformChange:re}){L&&!f.isZoomingOrPanning&&C();const de=p&&!V&&!L?Sd({zoomPanValues:f,noWheelClassName:B,d3Selection:h,d3Zoom:c,panOnScrollMode:I,panOnScrollSpeed:P,zoomOnPinch:U,onPanZoomStart:s,onPanZoom:l,onPanZoomEnd:u}):Ed({noWheelClassName:B,preventScrolling:Y,d3ZoomHandler:y});if(h.on("wheel.zoom",de,{passive:!1}),!L){const ee=zd({zoomPanValues:f,onDraggingChange:a,onPanZoomStart:s});c.on("start",ee);const ye=Md({zoomPanValues:f,panOnDrag:M,onPaneContextMenu:!!w,onPanZoom:l,onTransformChange:re});c.on("zoom",ye);const we=Pd({zoomPanValues:f,panOnDrag:M,panOnScroll:p,onPaneContextMenu:w,onPanZoomEnd:u,onDraggingChange:a});c.on("end",we)}const H=Od({zoomActivationKeyPressed:V,panOnDrag:M,zoomOnScroll:j,panOnScroll:p,zoomOnDoubleClick:ie,zoomOnPinch:U,userSelectionActive:L,noPanClassName:F,noWheelClassName:B,lib:ne});c.filter(H),ie?h.on("dblclick.zoom",m):h.on("dblclick.zoom",null)}function C(){c.on("zoom",null)}async function k(B,F,w){const L=Qi(B),p=c==null?void 0:c.constrain()(L,F,w);return p&&await b(p),new Promise(M=>M(p))}async function S(B,F){const w=Qi(B);return await b(w,F),new Promise(L=>L(w))}function N(B){if(h){const F=Qi(B),w=h.property("__zoom");(w.k!==B.zoom||w.x!==B.x||w.y!==B.y)&&(c==null||c.transform(h,F,null,{sync:!0}))}}function T(){const B=h?Bl(h.node()):{x:0,y:0,k:1};return{x:B.x,y:B.y,zoom:B.k}}function v(B,F){return h?new Promise(w=>{c==null||c.scaleTo(ji(h,F==null?void 0:F.duration,()=>w(!0)),B)}):Promise.resolve(!1)}function E(B,F){return h?new Promise(w=>{c==null||c.scaleBy(ji(h,F==null?void 0:F.duration,()=>w(!0)),B)}):Promise.resolve(!1)}function z(B){c==null||c.scaleExtent(B)}function A(B){c==null||c.translateExtent(B)}function W(B){const F=!ut(B)||B<0?0:B;c==null||c.clickDistance(F)}return{update:g,destroy:C,setViewport:S,setViewportConstrained:k,getViewport:T,scaleTo:v,scaleBy:E,setScaleExtent:z,setTranslateExtent:A,syncViewport:N,setClickDistance:W}}var an;(function(t){t.Line="line",t.Handle="handle"})(an||(an={}));const kr=["top-left","top-right","bottom-left","bottom-right"],vr=["top","right","bottom","left"];function Hd({width:t,prevWidth:e,height:n,prevHeight:i,affectsX:o,affectsY:r}){const l=t-e,s=n-i,u=[l>0?1:l<0?-1:0,s>0?1:s<0?-1:0];return l&&o&&(u[0]=u[0]*-1),s&&r&&(u[1]=u[1]*-1),u}function Td(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),i=t.includes("left"),o=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:i,affectsY:o}}function Nt(t,e){return Math.max(0,e-t)}function Ht(t,e){return Math.max(0,t-e)}function ni(t,e,n){return Math.max(0,e-t,t-n)}function pr(t,e){return t?!e:e}function Id(t,e,n,i,o,r,l,s){let{affectsX:u,affectsY:a}=e;const{isHorizontal:f,isVertical:d}=e,c=f&&d,{xSnapped:h,ySnapped:y}=n,{minWidth:m,maxWidth:b,minHeight:g,maxHeight:C}=i,{x:k,y:S,width:N,height:T,aspectRatio:v}=t;let E=Math.floor(f?h-t.pointerX:0),z=Math.floor(d?y-t.pointerY:0);const A=N+(u?-E:E),W=T+(a?-z:z),B=-r[0]*N,F=-r[1]*T;let w=ni(A,m,b),L=ni(W,g,C);if(l){let I=0,P=0;u&&E<0?I=Nt(k+E+B,l[0][0]):!u&&E>0&&(I=Ht(k+A+B,l[1][0])),a&&z<0?P=Nt(S+z+F,l[0][1]):!a&&z>0&&(P=Ht(S+W+F,l[1][1])),w=Math.max(w,I),L=Math.max(L,P)}if(s){let I=0,P=0;u&&E>0?I=Ht(k+E,s[0][0]):!u&&E<0&&(I=Nt(k+A,s[1][0])),a&&z>0?P=Ht(S+z,s[0][1]):!a&&z<0&&(P=Nt(S+W,s[1][1])),w=Math.max(w,I),L=Math.max(L,P)}if(o){if(f){const I=ni(A/v,g,C)*v;if(w=Math.max(w,I),l){let P=0;!u&&!a||u&&!a&&c?P=Ht(S+F+A/v,l[1][1])*v:P=Nt(S+F+(u?E:-E)/v,l[0][1])*v,w=Math.max(w,P)}if(s){let P=0;!u&&!a||u&&!a&&c?P=Nt(S+A/v,s[1][1])*v:P=Ht(S+(u?E:-E)/v,s[0][1])*v,w=Math.max(w,P)}}if(d){const I=ni(W*v,m,b)/v;if(L=Math.max(L,I),l){let P=0;!u&&!a||a&&!u&&c?P=Ht(k+W*v+B,l[1][0])/v:P=Nt(k+(a?z:-z)*v+B,l[0][0])/v,L=Math.max(L,P)}if(s){let P=0;!u&&!a||a&&!u&&c?P=Nt(k+W*v,s[1][0])/v:P=Ht(k+(a?z:-z)*v,s[0][0])/v,L=Math.max(L,P)}}}z=z+(z<0?L:-L),E=E+(E<0?w:-w),o&&(c?A>W*v?z=(pr(u,a)?-E:E)/v:E=(pr(u,a)?-z:z)*v:f?(z=E/v,a=u):(E=z*v,u=a));const p=u?k+E:k,M=a?S+z:S;return{width:N+(u?-E:E),height:T+(a?-z:z),x:r[0]*E*(u?-1:1)+p,y:r[1]*z*(a?-1:1)+M}}const as={width:0,height:0,x:0,y:0},Ad={...as,pointerX:0,pointerY:0,aspectRatio:1};function Dd(t){return[[0,0],[t.measured.width,t.measured.height]]}function Rd(t,e,n){const i=e.position.x+t.position.x,o=e.position.y+t.position.y,r=t.measured.width??0,l=t.measured.height??0,s=n[0]*r,u=n[1]*l;return[[i-s,o-u],[i+r-s,o+l-u]]}function Ld({domNode:t,nodeId:e,getStoreItems:n,onChange:i,onEnd:o}){const r=$e(t);function l({controlPosition:u,boundaries:a,keepAspectRatio:f,onResizeStart:d,onResize:c,onResizeEnd:h,shouldResize:y}){let m={...as},b={...Ad};const g=Td(u);let C,k=[],S,N,T;const v=Pl().on("start",E=>{const{nodeLookup:z,transform:A,snapGrid:W,snapToGrid:B,nodeOrigin:F}=n();if(C=z.get(e),!C)return;const{xSnapped:w,ySnapped:L}=Pn(E.sourceEvent,{transform:A,snapGrid:W,snapToGrid:B});m={width:C.measured.width??0,height:C.measured.height??0,x:C.position.x??0,y:C.position.y??0},b={...m,pointerX:w,pointerY:L,aspectRatio:m.width/m.height},S=void 0,C.parentId&&(C.extent==="parent"||C.expandParent)&&(S=z.get(C.parentId),N=S&&C.extent==="parent"?Dd(S):void 0),k=[],T=void 0;for(const[p,M]of z)if(M.parentId===e&&(k.push({id:p,position:{...M.position},extent:M.extent}),M.extent==="parent"||M.expandParent)){const I=Rd(M,C,M.origin??F);T?T=[[Math.min(I[0][0],T[0][0]),Math.min(I[0][1],T[0][1])],[Math.max(I[1][0],T[1][0]),Math.max(I[1][1],T[1][1])]]:T=I}d==null||d(E,{...m})}).on("drag",E=>{const{transform:z,snapGrid:A,snapToGrid:W,nodeOrigin:B}=n(),F=Pn(E.sourceEvent,{transform:z,snapGrid:A,snapToGrid:W}),w=[];if(!C)return;const{x:L,y:p,width:M,height:I}=m,P={},Y=C.origin??B,{width:U,height:j,x:ie,y:V}=Id(b,g,F,a,f,Y,N,T),ne=U!==M,re=j!==I,D=ie!==L&&ne,de=V!==p&&re;if(!D&&!de&&!ne&&!re)return;if((D||de||Y[0]===1||Y[1]===1)&&(P.x=D?ie:m.x,P.y=de?V:m.y,m.x=P.x,m.y=P.y,k.length>0)){const we=ie-L,ze=V-p;for(const q of k)q.position={x:q.position.x-we+Y[0]*(U-M),y:q.position.y-ze+Y[1]*(j-I)},w.push(q)}if((ne||re)&&(P.width=ne?U:m.width,P.height=re?j:m.height,m.width=P.width,m.height=P.height),S&&C.expandParent){const we=Y[0]*(P.width??0);P.x&&P.x<we&&(m.x=we,b.x=b.x-(P.x-we));const ze=Y[1]*(P.height??0);P.y&&P.y<ze&&(m.y=ze,b.y=b.y-(P.y-ze))}const H=Hd({width:m.width,prevWidth:M,height:m.height,prevHeight:I,affectsX:g.affectsX,affectsY:g.affectsY}),ee={...m,direction:H};(y==null?void 0:y(E,ee))!==!1&&(c==null||c(E,ee),i(P,w))}).on("end",E=>{h==null||h(E,{...m}),o==null||o()});r.call(v)}function s(){r.on(".drag",null)}return{update:l,destroy:s}}function Vd(t){let e,n,i,o,r,l;const s=t[45].default,u=We(s,t,t[44],null);return{c(){e=he("div"),u&&u.c(),_(e,"data-handleid",t[6]),_(e,"data-nodeid",t[14]),_(e,"data-handlepos",t[2]),_(e,"data-id",n=t[13]+"-"+t[14]+"-"+(t[0]||null)+"-"+t[1]),_(e,"class",i=Me(["svelte-flow__handle",`svelte-flow__handle-${t[2]}`,"nodrag","nopan",t[2],t[4]])),_(e,"style",t[3]),_(e,"role","button"),_(e,"tabindex","-1"),be(e,"valid",t[7]),be(e,"connectingto",t[5]),be(e,"connectingfrom",t[9]),be(e,"source",!t[11]),be(e,"target",t[11]),be(e,"connectablestart",t[12]),be(e,"connectableend",t[12]),be(e,"connectable",t[12]),be(e,"connectionindicator",t[12]&&(!t[10]||t[8]))},m(a,f){G(a,e,f),u&&u.m(e,null),o=!0,r||(l=[Ce(e,"mousedown",t[32]),Ce(e,"touchstart",t[32])],r=!0)},p(a,f){u&&u.p&&(!o||f[1]&8192)&&Be(u,s,a,a[44],o?Ye(s,a[44],f,null):Ke(a[44]),null),(!o||f[0]&64)&&_(e,"data-handleid",a[6]),(!o||f[0]&4)&&_(e,"data-handlepos",a[2]),(!o||f[0]&8195&&n!==(n=a[13]+"-"+a[14]+"-"+(a[0]||null)+"-"+a[1]))&&_(e,"data-id",n),(!o||f[0]&20&&i!==(i=Me(["svelte-flow__handle",`svelte-flow__handle-${a[2]}`,"nodrag","nopan",a[2],a[4]])))&&_(e,"class",i),(!o||f[0]&8)&&_(e,"style",a[3]),(!o||f[0]&148)&&be(e,"valid",a[7]),(!o||f[0]&52)&&be(e,"connectingto",a[5]),(!o||f[0]&532)&&be(e,"connectingfrom",a[9]),(!o||f[0]&2068)&&be(e,"source",!a[11]),(!o||f[0]&2068)&&be(e,"target",a[11]),(!o||f[0]&4116)&&be(e,"connectablestart",a[12]),(!o||f[0]&4116)&&be(e,"connectableend",a[12]),(!o||f[0]&4116)&&be(e,"connectable",a[12]),(!o||f[0]&5396)&&be(e,"connectionindicator",a[12]&&(!a[10]||a[8]))},i(a){o||(R(u,a),o=!0)},o(a){X(u,a),o=!1},d(a){a&&Z(e),u&&u.d(a),r=!1,Ue(l)}}}function Xd(t,e,n){let i,o,r,l,s,u,a,f,d,c,h,y,m,b,g,C,k,S,N,T,v,E,z,A,W,{$$slots:B={},$$scope:F}=e,{id:w=void 0}=e,{type:L="source"}=e,{position:p=_e.Top}=e,{style:M=void 0}=e,{isValidConnection:I=void 0}=e,{onconnect:P=void 0}=e,{ondisconnect:Y=void 0}=e,{isConnectable:U=void 0}=e,{class:j=void 0}=e;const ie=Tn("svelteflow__node_id"),V=Tn("svelteflow__node_connectable");Q(t,V,se=>n(43,W=se));const ne=Ae(),{connectionMode:re,domNode:D,nodeLookup:de,connectionRadius:H,viewport:ee,isValidConnection:ye,lib:we,addEdge:ze,onedgecreate:q,panBy:Ne,cancelConnection:Pe,updateConnection:tt,autoPanOnConnect:xe,edges:yt,connectionLookup:Xe,onconnect:_t,onconnectstart:ue,onconnectend:zt,flowId:Mt,connection:J}=ne;Q(t,re,se=>n(40,c=se)),Q(t,D,se=>n(55,z=se)),Q(t,de,se=>n(54,E=se)),Q(t,H,se=>n(56,A=se)),Q(t,ee,se=>n(46,m=se)),Q(t,ye,se=>n(51,S=se)),Q(t,we,se=>n(53,v=se)),Q(t,q,se=>n(50,k=se)),Q(t,xe,se=>n(52,T=se)),Q(t,yt,se=>n(42,y=se)),Q(t,Xe,se=>n(41,h=se)),Q(t,_t,se=>n(49,C=se)),Q(t,ue,se=>n(48,g=se)),Q(t,zt,se=>n(47,b=se)),Q(t,Mt,se=>n(13,N=se)),Q(t,J,se=>n(39,d=se));function Pt(se){const bt=Ql(se);(bt&&se.button===0||!bt)&&vd.onPointerDown(se,{handleId:r,nodeId:ie,isTarget:i,connectionRadius:A,domNode:z,nodeLookup:E,connectionMode:c,lib:v,autoPanOnConnect:T,flowId:N,isValidConnection:I??S,updateConnection:tt,cancelConnection:Pe,panBy:Ne,onConnect:Qe=>{const Ze=k?k(Qe):Qe;Ze&&(ze(Ze),C==null||C(Qe))},onConnectStart:(Qe,Ze)=>{g==null||g(Qe,{nodeId:Ze.nodeId,handleId:Ze.handleId,handleType:Ze.handleType})},onConnectEnd:(Qe,Ze)=>{b==null||b(Qe,Ze)},getTransform:()=>[m.x,m.y,m.zoom],getFromHandle:()=>d.fromHandle})}let Fe=null,Je;return t.$$set=se=>{"id"in se&&n(0,w=se.id),"type"in se&&n(1,L=se.type),"position"in se&&n(2,p=se.position),"style"in se&&n(3,M=se.style),"isValidConnection"in se&&n(33,I=se.isValidConnection),"onconnect"in se&&n(34,P=se.onconnect),"ondisconnect"in se&&n(35,Y=se.ondisconnect),"isConnectable"in se&&n(36,U=se.isConnectable),"class"in se&&n(4,j=se.class),"$$scope"in se&&n(44,F=se.$$scope)},t.$$.update=()=>{var se,bt,Qe,Ze,Zt,Gt,qt,Ut,Ot;if(t.$$.dirty[0]&2&&n(11,i=L==="target"),t.$$.dirty[1]&4128&&n(12,o=U!==void 0?U:W),t.$$.dirty[0]&1&&n(6,r=w||null),t.$$.dirty[0]&3|t.$$.dirty[1]&3096&&(P||Y)&&n(38,Je=h.get(`${ie}-${L}-${w||null}`)),t.$$.dirty[1]&216){if(Fe&&!Wc(Je,Fe)){const Dt=Je??new Map;lr(Fe,Dt,Y),lr(Dt,Fe,P)}n(37,Fe=Je??new Map)}t.$$.dirty[1]&256&&n(10,l=!!d.fromHandle),t.$$.dirty[0]&66|t.$$.dirty[1]&256&&n(9,s=((se=d.fromHandle)==null?void 0:se.nodeId)===ie&&((bt=d.fromHandle)==null?void 0:bt.type)===L&&((Qe=d.fromHandle)==null?void 0:Qe.id)===r),t.$$.dirty[0]&66|t.$$.dirty[1]&256&&n(5,u=((Ze=d.toHandle)==null?void 0:Ze.nodeId)===ie&&((Zt=d.toHandle)==null?void 0:Zt.type)===L&&((Gt=d.toHandle)==null?void 0:Gt.id)===r),t.$$.dirty[0]&66|t.$$.dirty[1]&768&&n(8,a=c===Kt.Strict?((qt=d.fromHandle)==null?void 0:qt.type)!==L:ie!==((Ut=d.fromHandle)==null?void 0:Ut.nodeId)||r!==((Ot=d.fromHandle)==null?void 0:Ot.id)),t.$$.dirty[0]&32|t.$$.dirty[1]&256&&n(7,f=u&&d.isValid)},[w,L,p,M,j,u,r,f,a,s,l,i,o,N,ie,V,re,D,de,H,ee,ye,we,q,xe,yt,Xe,_t,ue,zt,Mt,J,Pt,I,P,Y,U,Fe,Je,d,c,h,y,W,F,B]}class ht extends fe{constructor(e){super(),ae(this,e,Xd,Vd,ce,{id:0,type:1,position:2,style:3,isValidConnection:33,onconnect:34,ondisconnect:35,isConnectable:36,class:4},null,[-1,-1])}}function Wd(t){var u;let e,n,i=((u=t[0])==null?void 0:u.label)+"",o,r,l,s;return e=new ht({props:{type:"target",position:t[1]??_e.Top}}),l=new ht({props:{type:"source",position:t[2]??_e.Bottom}}),{c(){te(e.$$.fragment),n=pe(),o=It(i),r=pe(),te(l.$$.fragment)},m(a,f){x(e,a,f),G(a,n,f),G(a,o,f),G(a,r,f),x(l,a,f),s=!0},p(a,[f]){var h;const d={};f&2&&(d.position=a[1]??_e.Top),e.$set(d),(!s||f&1)&&i!==(i=((h=a[0])==null?void 0:h.label)+"")&&kn(o,i);const c={};f&4&&(c.position=a[2]??_e.Bottom),l.$set(c)},i(a){s||(R(e.$$.fragment,a),R(l.$$.fragment,a),s=!0)},o(a){X(e.$$.fragment,a),X(l.$$.fragment,a),s=!1},d(a){a&&(Z(n),Z(o),Z(r)),$(e,a),$(l,a)}}}function Yd(t,e,n){const i=["data","targetPosition","sourcePosition"];Ee(e,i);let{data:o={label:"Node"}}=e,{targetPosition:r=void 0}=e,{sourcePosition:l=void 0}=e;return t.$$set=s=>{e=ve(ve({},e),Ve(s)),n(3,Ee(e,i)),"data"in s&&n(0,o=s.data),"targetPosition"in s&&n(1,r=s.targetPosition),"sourcePosition"in s&&n(2,l=s.sourcePosition)},[o,r,l]}class fs extends fe{constructor(e){super(),ae(this,e,Yd,Wd,ce,{data:0,targetPosition:1,sourcePosition:2})}}function Bd(t){var l;let e=((l=t[0])==null?void 0:l.label)+"",n,i,o,r;return o=new ht({props:{type:"source",position:t[1]??_e.Bottom}}),{c(){n=It(e),i=pe(),te(o.$$.fragment)},m(s,u){G(s,n,u),G(s,i,u),x(o,s,u),r=!0},p(s,[u]){var f;(!r||u&1)&&e!==(e=((f=s[0])==null?void 0:f.label)+"")&&kn(n,e);const a={};u&2&&(a.position=s[1]??_e.Bottom),o.$set(a)},i(s){r||(R(o.$$.fragment,s),r=!0)},o(s){X(o.$$.fragment,s),r=!1},d(s){s&&(Z(n),Z(i)),$(o,s)}}}function Kd(t,e,n){const i=["data","sourcePosition"];Ee(e,i);let{data:o={label:"Node"}}=e,{sourcePosition:r=void 0}=e;return t.$$set=l=>{e=ve(ve({},e),Ve(l)),n(2,Ee(e,i)),"data"in l&&n(0,o=l.data),"sourcePosition"in l&&n(1,r=l.sourcePosition)},[o,r]}class Fd extends fe{constructor(e){super(),ae(this,e,Kd,Bd,ce,{data:0,sourcePosition:1})}}function Zd(t){var l;let e=((l=t[0])==null?void 0:l.label)+"",n,i,o,r;return o=new ht({props:{type:"target",position:t[1]??_e.Top}}),{c(){n=It(e),i=pe(),te(o.$$.fragment)},m(s,u){G(s,n,u),G(s,i,u),x(o,s,u),r=!0},p(s,[u]){var f;(!r||u&1)&&e!==(e=((f=s[0])==null?void 0:f.label)+"")&&kn(n,e);const a={};u&2&&(a.position=s[1]??_e.Top),o.$set(a)},i(s){r||(R(o.$$.fragment,s),r=!0)},o(s){X(o.$$.fragment,s),r=!1},d(s){s&&(Z(n),Z(i)),$(o,s)}}}function Gd(t,e,n){const i=["data","targetPosition"];Ee(e,i);let{data:o={label:"Node"}}=e,{targetPosition:r=void 0}=e;return t.$$set=l=>{e=ve(ve({},e),Ve(l)),n(2,Ee(e,i)),"data"in l&&n(0,o=l.data),"targetPosition"in l&&n(1,r=l.targetPosition)},[o,r]}class qd extends fe{constructor(e){super(),ae(this,e,Gd,Zd,ce,{data:0,targetPosition:1})}}function Ud(t,e,n){const i=[];return Ee(e,i),t.$$set=o=>{e=ve(ve({},e),Ve(o)),n(0,Ee(e,i))},[]}class Jd extends fe{constructor(e){super(),ae(this,e,Ud,null,ce,{})}}function Cr(t,e,n){if(!e)return;const i=n?e.querySelector(n):e;i&&i.appendChild(t)}function Qd(t,{target:e,domNode:n}){return Cr(t,n,e),{async update({target:i,domNode:o}){Cr(t,o,i)},destroy(){t.parentNode&&t.parentNode.removeChild(t)}}}function jd(t){let e,n,i,o,r;const l=t[3].default,s=We(l,t,t[2],null);return{c(){e=he("div"),s&&s.c()},m(u,a){G(u,e,a),s&&s.m(e,null),i=!0,o||(r=qe(n=Qd.call(null,e,{target:".svelte-flow__edgelabel-renderer",domNode:t[0]})),o=!0)},p(u,[a]){s&&s.p&&(!i||a&4)&&Be(s,l,u,u[2],i?Ye(l,u[2],a,null):Ke(u[2]),null),n&&He(n.update)&&a&1&&n.update.call(null,{target:".svelte-flow__edgelabel-renderer",domNode:u[0]})},i(u){i||(R(s,u),i=!0)},o(u){X(s,u),i=!1},d(u){u&&Z(e),s&&s.d(u),o=!1,r()}}}function xd(t,e,n){let i,{$$slots:o={},$$scope:r}=e;const{domNode:l}=Ae();return Q(t,l,s=>n(0,i=s)),t.$$set=s=>{"$$scope"in s&&n(2,r=s.$$scope)},[i,l,r,o]}class cs extends fe{constructor(e){super(),ae(this,e,xd,jd,ce,{})}}function ds(){const{edgeLookup:t,selectionRect:e,selectionRectMode:n,multiselectionKeyPressed:i,addSelectedEdges:o,unselectNodesAndEdges:r,elementsSelectable:l}=Ae();return s=>{const u=K(t).get(s);if(!u){console.warn("012",Bn.error012(s));return}(u.selectable||K(l)&&typeof u.selectable>"u")&&(e.set(null),n.set(null),u.selected?u.selected&&K(i)&&r({nodes:[],edges:[u]}):o([s]))}}function $d(t){let e,n,i=`translate(-50%, -50%) translate(${t[1]}px,${t[2]}px)`,o,r,l;const s=t[5].default,u=We(s,t,t[7],null);return{c(){e=he("div"),u&&u.c(),_(e,"class","svelte-flow__edge-label"),_(e,"style",n="pointer-events: all;"+t[0]),_(e,"role","button"),_(e,"tabindex","-1"),le(e,"transform",i)},m(a,f){G(a,e,f),u&&u.m(e,null),o=!0,r||(l=[Ce(e,"keyup",th),Ce(e,"click",t[6])],r=!0)},p(a,f){u&&u.p&&(!o||f&128)&&Be(u,s,a,a[7],o?Ye(s,a[7],f,null):Ke(a[7]),null),(!o||f&1&&n!==(n="pointer-events: all;"+a[0]))&&_(e,"style",n);const d=f&1;(f&7&&i!==(i=`translate(-50%, -50%) translate(${a[1]}px,${a[2]}px)`)||d)&&le(e,"transform",i)},i(a){o||(R(u,a),o=!0)},o(a){X(u,a),o=!1},d(a){a&&Z(e),u&&u.d(a),r=!1,Ue(l)}}}function eh(t){let e,n;return e=new cs({props:{$$slots:{default:[$d]},$$scope:{ctx:t}}}),{c(){te(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},p(i,[o]){const r={};o&135&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){$(e,i)}}}const th=()=>{};function nh(t,e,n){let{$$slots:i={},$$scope:o}=e,{style:r=void 0}=e,{x:l=void 0}=e,{y:s=void 0}=e;const u=ds(),a=Tn("svelteflow__edge_id"),f=()=>{a&&u(a)};return t.$$set=d=>{"style"in d&&n(0,r=d.style),"x"in d&&n(1,l=d.x),"y"in d&&n(2,s=d.y),"$$scope"in d&&n(7,o=d.$$scope)},[r,l,s,u,a,i,f,o]}class ih extends fe{constructor(e){super(),ae(this,e,nh,eh,ce,{style:0,x:1,y:2})}}function oh(t){let e;return{c(){e=ke("path"),_(e,"d",t[1]),_(e,"stroke-opacity",0),_(e,"stroke-width",t[10]),_(e,"fill","none"),_(e,"class","svelte-flow__edge-interaction")},m(n,i){G(n,e,i)},p(n,i){i&2&&_(e,"d",n[1])},d(n){n&&Z(e)}}}function Sr(t){let e,n;return e=new ih({props:{x:t[3],y:t[4],style:t[5],$$slots:{default:[rh]},$$scope:{ctx:t}}}),{c(){te(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},p(i,o){const r={};o&8&&(r.x=i[3]),o&16&&(r.y=i[4]),o&32&&(r.style=i[5]),o&4100&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){$(e,i)}}}function rh(t){let e;return{c(){e=It(t[2])},m(n,i){G(n,e,i)},p(n,i){i&4&&kn(e,n[2])},d(n){n&&Z(e)}}}function lh(t){let e,n,i,o,r,l,s=t[10]&&oh(t),u=t[2]&&Sr(t);return{c(){e=ke("path"),i=pe(),s&&s.c(),o=pe(),u&&u.c(),r=De(),_(e,"id",t[0]),_(e,"d",t[1]),_(e,"class",n=Me(["svelte-flow__edge-path",t[9]])),_(e,"marker-start",t[6]),_(e,"marker-end",t[7]),_(e,"fill","none"),_(e,"style",t[8])},m(a,f){G(a,e,f),G(a,i,f),s&&s.m(a,f),G(a,o,f),u&&u.m(a,f),G(a,r,f),l=!0},p(a,[f]){(!l||f&1)&&_(e,"id",a[0]),(!l||f&2)&&_(e,"d",a[1]),(!l||f&512&&n!==(n=Me(["svelte-flow__edge-path",a[9]])))&&_(e,"class",n),(!l||f&64)&&_(e,"marker-start",a[6]),(!l||f&128)&&_(e,"marker-end",a[7]),(!l||f&256)&&_(e,"style",a[8]),a[10]&&s.p(a,f),a[2]?u?(u.p(a,f),f&4&&R(u,1)):(u=Sr(a),u.c(),R(u,1),u.m(r.parentNode,r)):u&&(Te(),X(u,1,1,()=>{u=null}),Ie())},i(a){l||(R(u),l=!0)},o(a){X(u),l=!1},d(a){a&&(Z(e),Z(i),Z(o),Z(r)),s&&s.d(a),u&&u.d(a)}}}function sh(t,e,n){let{id:i=void 0}=e,{path:o}=e,{label:r=void 0}=e,{labelX:l=void 0}=e,{labelY:s=void 0}=e,{labelStyle:u=void 0}=e,{markerStart:a=void 0}=e,{markerEnd:f=void 0}=e,{style:d=void 0}=e,{interactionWidth:c=20}=e,{class:h=void 0}=e,y=c===void 0?20:c;return t.$$set=m=>{"id"in m&&n(0,i=m.id),"path"in m&&n(1,o=m.path),"label"in m&&n(2,r=m.label),"labelX"in m&&n(3,l=m.labelX),"labelY"in m&&n(4,s=m.labelY),"labelStyle"in m&&n(5,u=m.labelStyle),"markerStart"in m&&n(6,a=m.markerStart),"markerEnd"in m&&n(7,f=m.markerEnd),"style"in m&&n(8,d=m.style),"interactionWidth"in m&&n(11,c=m.interactionWidth),"class"in m&&n(9,h=m.class)},[i,o,r,l,s,u,a,f,d,h,y,c]}class Gn extends fe{constructor(e){super(),ae(this,e,sh,lh,ce,{id:0,path:1,label:2,labelX:3,labelY:4,labelStyle:5,markerStart:6,markerEnd:7,style:8,interactionWidth:11,class:9})}}function uh(t){let e,n;return e=new Gn({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){te(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){$(e,i)}}}function ah(t,e,n){let i,o,r;const l=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];Ee(e,l);let{label:s=void 0}=e,{labelStyle:u=void 0}=e,{style:a=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:d=void 0}=e,{interactionWidth:c=void 0}=e,{sourceX:h}=e,{sourceY:y}=e,{sourcePosition:m}=e,{targetX:b}=e,{targetY:g}=e,{targetPosition:C}=e;return t.$$set=k=>{e=ve(ve({},e),Ve(k)),n(15,Ee(e,l)),"label"in k&&n(0,s=k.label),"labelStyle"in k&&n(1,u=k.labelStyle),"style"in k&&n(2,a=k.style),"markerStart"in k&&n(3,f=k.markerStart),"markerEnd"in k&&n(4,d=k.markerEnd),"interactionWidth"in k&&n(5,c=k.interactionWidth),"sourceX"in k&&n(9,h=k.sourceX),"sourceY"in k&&n(10,y=k.sourceY),"sourcePosition"in k&&n(11,m=k.sourcePosition),"targetX"in k&&n(12,b=k.targetX),"targetY"in k&&n(13,g=k.targetY),"targetPosition"in k&&n(14,C=k.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,r]=Mo({sourceX:h,sourceY:y,targetX:b,targetY:g,sourcePosition:m,targetPosition:C}),i,(n(7,o),n(9,h),n(10,y),n(12,b),n(13,g),n(11,m),n(14,C)),(n(6,r),n(9,h),n(10,y),n(12,b),n(13,g),n(11,m),n(14,C)))},[s,u,a,f,d,c,r,o,i,h,y,m,b,g,C]}class hs extends fe{constructor(e){super(),ae(this,e,ah,uh,ce,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}function fh(t){let e,n;return e=new Gn({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){te(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){$(e,i)}}}function ch(t,e,n){let i,o,r;const l=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];Ee(e,l);let{label:s=void 0}=e,{labelStyle:u=void 0}=e,{style:a=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:d=void 0}=e,{interactionWidth:c=void 0}=e,{sourceX:h}=e,{sourceY:y}=e,{sourcePosition:m}=e,{targetX:b}=e,{targetY:g}=e,{targetPosition:C}=e;return t.$$set=k=>{e=ve(ve({},e),Ve(k)),n(15,Ee(e,l)),"label"in k&&n(0,s=k.label),"labelStyle"in k&&n(1,u=k.labelStyle),"style"in k&&n(2,a=k.style),"markerStart"in k&&n(3,f=k.markerStart),"markerEnd"in k&&n(4,d=k.markerEnd),"interactionWidth"in k&&n(5,c=k.interactionWidth),"sourceX"in k&&n(9,h=k.sourceX),"sourceY"in k&&n(10,y=k.sourceY),"sourcePosition"in k&&n(11,m=k.sourcePosition),"targetX"in k&&n(12,b=k.targetX),"targetY"in k&&n(13,g=k.targetY),"targetPosition"in k&&n(14,C=k.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,r]=zi({sourceX:h,sourceY:y,targetX:b,targetY:g,sourcePosition:m,targetPosition:C}),i,(n(7,o),n(9,h),n(10,y),n(12,b),n(13,g),n(11,m),n(14,C)),(n(6,r),n(9,h),n(10,y),n(12,b),n(13,g),n(11,m),n(14,C)))},[s,u,a,f,d,c,r,o,i,h,y,m,b,g,C]}class dh extends fe{constructor(e){super(),ae(this,e,ch,fh,ce,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}function hh(t){let e,n;return e=new Gn({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){te(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){$(e,i)}}}function gh(t,e,n){let i,o,r;const l=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","targetX","targetY"];Ee(e,l);let{label:s=void 0}=e,{labelStyle:u=void 0}=e,{style:a=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:d=void 0}=e,{interactionWidth:c=void 0}=e,{sourceX:h}=e,{sourceY:y}=e,{targetX:m}=e,{targetY:b}=e;return t.$$set=g=>{e=ve(ve({},e),Ve(g)),n(13,Ee(e,l)),"label"in g&&n(0,s=g.label),"labelStyle"in g&&n(1,u=g.labelStyle),"style"in g&&n(2,a=g.style),"markerStart"in g&&n(3,f=g.markerStart),"markerEnd"in g&&n(4,d=g.markerEnd),"interactionWidth"in g&&n(5,c=g.interactionWidth),"sourceX"in g&&n(9,h=g.sourceX),"sourceY"in g&&n(10,y=g.sourceY),"targetX"in g&&n(11,m=g.targetX),"targetY"in g&&n(12,b=g.targetY)},t.$$.update=()=>{t.$$.dirty&7680&&n(8,[i,o,r]=xl({sourceX:h,sourceY:y,targetX:m,targetY:b}),i,(n(7,o),n(9,h),n(10,y),n(11,m),n(12,b)),(n(6,r),n(9,h),n(10,y),n(11,m),n(12,b)))},[s,u,a,f,d,c,r,o,i,h,y,m,b]}class mh extends fe{constructor(e){super(),ae(this,e,gh,hh,ce,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,targetX:11,targetY:12})}}function yh(t){let e,n;return e=new Gn({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){te(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},p(i,[o]){const r={};o&256&&(r.path=i[8]),o&128&&(r.labelX=i[7]),o&64&&(r.labelY=i[6]),o&1&&(r.label=i[0]),o&2&&(r.labelStyle=i[1]),o&8&&(r.markerStart=i[3]),o&16&&(r.markerEnd=i[4]),o&32&&(r.interactionWidth=i[5]),o&4&&(r.style=i[2]),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){$(e,i)}}}function _h(t,e,n){let i,o,r;const l=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];Ee(e,l);let{label:s=void 0}=e,{labelStyle:u=void 0}=e,{style:a=void 0}=e,{markerStart:f=void 0}=e,{markerEnd:d=void 0}=e,{interactionWidth:c=void 0}=e,{sourceX:h}=e,{sourceY:y}=e,{sourcePosition:m}=e,{targetX:b}=e,{targetY:g}=e,{targetPosition:C}=e;return t.$$set=k=>{e=ve(ve({},e),Ve(k)),n(15,Ee(e,l)),"label"in k&&n(0,s=k.label),"labelStyle"in k&&n(1,u=k.labelStyle),"style"in k&&n(2,a=k.style),"markerStart"in k&&n(3,f=k.markerStart),"markerEnd"in k&&n(4,d=k.markerEnd),"interactionWidth"in k&&n(5,c=k.interactionWidth),"sourceX"in k&&n(9,h=k.sourceX),"sourceY"in k&&n(10,y=k.sourceY),"sourcePosition"in k&&n(11,m=k.sourcePosition),"targetX"in k&&n(12,b=k.targetX),"targetY"in k&&n(13,g=k.targetY),"targetPosition"in k&&n(14,C=k.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,r]=zi({sourceX:h,sourceY:y,targetX:b,targetY:g,sourcePosition:m,targetPosition:C,borderRadius:0}),i,(n(7,o),n(9,h),n(10,y),n(12,b),n(13,g),n(11,m),n(14,C)),(n(6,r),n(9,h),n(10,y),n(12,b),n(13,g),n(11,m),n(14,C)))},[s,u,a,f,d,c,r,o,i,h,y,m,b,g,C]}class bh extends fe{constructor(e){super(),ae(this,e,_h,yh,ce,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}function wh(t,e){const n=t.set,i=e.set,o=K(t),r=K(e);let s=o.length===0&&r.length>0?r:o;t.set(s);const u=a=>{const f=n(a);return s=f,i(s),f};t.set=e.set=u,t.update=e.update=a=>u(a(s))}function kh(t,e){const n=t.set,i=e.set;let o=K(e);t.set(o);const r=l=>{n(l),i(l),o=l};t.set=e.set=r,t.update=e.update=l=>r(l(o))}const vh=(t,e,n)=>{if(!n)return;const i=K(t),o=e.set,r=n.set;let l=n?K(n):{x:0,y:0,zoom:1};e.set(l),e.set=s=>(o(s),r(s),l=s,s),n.set=s=>(i==null||i.syncViewport(s),o(s),r(s),l=s,s),e.update=s=>{e.set(s(l))},n.update=s=>{n.set(s(l))}},ph=(t,e,n,i=[0,0],o=ki)=>{const{subscribe:r,set:l,update:s}=ge([]);let u=t,a={},f=!0;const d=m=>($l(m,e,n,{elevateNodesOnSelect:f,nodeOrigin:i,nodeExtent:o,defaults:a,checkEquality:!1}),u=m,l(u),u),c=m=>d(m(u)),h=m=>{a=m},y=m=>{f=m.elevateNodesOnSelect??f};return d(u),{subscribe:r,set:d,update:c,setDefaultOptions:h,setOptions:y}},Ch=(t,e,n,i)=>{const{subscribe:o,set:r,update:l}=ge([]);let s=t,u={};const a=c=>{const h=u?c.map(y=>({...u,...y})):c;ts(e,n,h),s=h,r(s)},f=c=>a(c(s)),d=c=>{u=c};return a(s),{subscribe:o,set:a,update:f,setDefaultOptions:d}},gs={input:Fd,output:qd,default:fs,group:Jd},ms={straight:mh,smoothstep:dh,default:hs,step:bh},Sh=({nodes:t=[],edges:e=[],width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:l})=>{const s=new Map,u=new Map,a=new Map,f=new Map,d=r??[0,0],c=l??ki;$l(t,s,u,{nodeExtent:c,nodeOrigin:d,elevateNodesOnSelect:!1,checkEquality:!1}),ts(a,f,e);let h={x:0,y:0,zoom:1};if(o&&n&&i){const y=Fn(s,{filter:m=>!!((m.width||m.initialWidth)&&(m.height||m.initialHeight))});h=Eo(y,n,i,.5,2,.1)}return{flowId:ge(null),nodes:ph(t,s,u,d,c),nodeLookup:it(s),parentLookup:it(u),edgeLookup:it(f),visibleNodes:it([]),edges:Ch(e,a,f),visibleEdges:it([]),connectionLookup:it(a),height:ge(500),width:ge(500),minZoom:ge(.5),maxZoom:ge(2),nodeOrigin:ge(d),nodeDragThreshold:ge(1),nodeExtent:ge(c),translateExtent:ge(ki),autoPanOnNodeDrag:ge(!0),autoPanOnConnect:ge(!0),fitViewOnInit:ge(!1),fitViewOnInitDone:ge(!1),fitViewOptions:ge(void 0),panZoom:ge(null),snapGrid:ge(null),dragging:ge(!1),selectionRect:ge(null),selectionKeyPressed:ge(!1),multiselectionKeyPressed:ge(!1),deleteKeyPressed:ge(!1),panActivationKeyPressed:ge(!1),zoomActivationKeyPressed:ge(!1),selectionRectMode:ge(null),selectionMode:ge(vi.Partial),nodeTypes:ge(gs),edgeTypes:ge(ms),viewport:ge(h),connectionMode:ge(Kt.Strict),domNode:ge(null),connection:it(co),connectionLineType:ge(un.Bezier),connectionRadius:ge(20),isValidConnection:ge(()=>!0),nodesDraggable:ge(!0),nodesConnectable:ge(!0),elementsSelectable:ge(!0),selectNodesOnDrag:ge(!0),markers:it([]),defaultMarkerColor:ge("#b1b1b7"),lib:it("svelte"),onlyRenderVisibleElements:ge(!1),onerror:ge(Zc),ondelete:ge(void 0),onedgecreate:ge(void 0),onconnect:ge(void 0),onconnectstart:ge(void 0),onconnectend:ge(void 0),onbeforedelete:ge(void 0),nodesInitialized:ge(!1),edgesInitialized:ge(!1),viewportInitialized:ge(!1),initialized:it(!1)}};function Eh(t){const e=rn([t.edges,t.nodes,t.nodeLookup,t.onlyRenderVisibleElements,t.viewport,t.width,t.height],([n,,i,o,r,l,s])=>o&&l&&s?n.filter(a=>{const f=i.get(a.source),d=i.get(a.target);return f&&d&&xc({sourceNode:f,targetNode:d,width:l,height:s,transform:[r.x,r.y,r.zoom]})}):n);return rn([e,t.nodes,t.nodeLookup,t.connectionMode,t.onerror],([n,,i,o,r])=>n.reduce((s,u)=>{const a=i.get(u.source),f=i.get(u.target);if(!a||!f)return s;const d=rd({id:u.id,sourceNode:a,targetNode:f,sourceHandle:u.sourceHandle||null,targetHandle:u.targetHandle||null,connectionMode:o,onError:r});return d&&s.push({...u,zIndex:jc({selected:u.selected,zIndex:u.zIndex,sourceNode:a,targetNode:f,elevateOnSelect:!1}),...d}),s},[]))}function zh(t){return rn([t.nodeLookup,t.onlyRenderVisibleElements,t.width,t.height,t.viewport,t.nodes],([e,n,i,o,r])=>{const l=[r.x,r.y,r.zoom];return n?Fl(e,{x:0,y:0,width:i,height:o},l,!0):Array.from(e.values())})}const Wi=Symbol();function ys({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:l}){const s=Sh({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:l});function u(p){s.nodeTypes.set({...gs,...p})}function a(p){s.edgeTypes.set({...ms,...p})}function f(p){const M=K(s.edges);s.edges.set(td(p,M))}const d=(p,M=!1)=>{var P;const I=K(s.nodeLookup);for(const[Y,U]of p){const j=(P=I.get(Y))==null?void 0:P.internals.userNode;j&&(j.position=U.position,j.dragging=M)}s.nodes.update(Y=>Y)};function c(p){var U,j,ie;const M=K(s.nodeLookup),I=K(s.parentLookup),{changes:P,updatedInternals:Y}=dd(p,M,K(s.parentLookup),K(s.domNode),K(s.nodeOrigin));if(Y){if(ud(M,I,{nodeOrigin:r,nodeExtent:l}),!K(s.fitViewOnInitDone)&&K(s.fitViewOnInit)){const V=K(s.fitViewOptions),ne=y({...V,nodes:V==null?void 0:V.nodes});s.fitViewOnInitDone.set(ne)}for(const V of P){const ne=(U=M.get(V.id))==null?void 0:U.internals.userNode;if(ne)switch(V.type){case"dimensions":{const re={...ne.measured,...V.dimensions};V.setAttributes&&(ne.width=((j=V.dimensions)==null?void 0:j.width)??ne.width,ne.height=((ie=V.dimensions)==null?void 0:ie.height)??ne.height),ne.measured=re;break}case"position":ne.position=V.position??ne.position;break}}s.nodes.update(V=>V),K(s.nodesInitialized)||s.nodesInitialized.set(!0)}}function h(p){const M=K(s.panZoom),I=K(s.domNode);if(!M||!I)return Promise.resolve(!1);const{width:P,height:Y}=zo(I),U=ur(K(s.nodeLookup),p);return ar({nodes:U,width:P,height:Y,minZoom:K(s.minZoom),maxZoom:K(s.maxZoom),panZoom:M},p)}function y(p){const M=K(s.panZoom);if(!M)return!1;const I=ur(K(s.nodeLookup),p);return ar({nodes:I,width:K(s.width),height:K(s.height),minZoom:K(s.minZoom),maxZoom:K(s.maxZoom),panZoom:M},p),I.size>0}function m(p,M){const I=K(s.panZoom);return I?I.scaleBy(p,M):Promise.resolve(!1)}function b(p){return m(1.2,p)}function g(p){return m(1/1.2,p)}function C(p){const M=K(s.panZoom);M&&(M.setScaleExtent([p,K(s.maxZoom)]),s.minZoom.set(p))}function k(p){const M=K(s.panZoom);M&&(M.setScaleExtent([K(s.minZoom),p]),s.maxZoom.set(p))}function S(p){const M=K(s.panZoom);M&&(M.setTranslateExtent(p),s.translateExtent.set(p))}function N(p){let M=!1;return p.forEach(I=>{I.selected&&(I.selected=!1,M=!0)}),M}function T(p){var M;(M=K(s.panZoom))==null||M.setClickDistance(p)}function v(p){N((p==null?void 0:p.nodes)||K(s.nodes))&&s.nodes.set(K(s.nodes)),N((p==null?void 0:p.edges)||K(s.edges))&&s.edges.set(K(s.edges))}s.deleteKeyPressed.subscribe(async p=>{var M;if(p){const I=K(s.nodes),P=K(s.edges),Y=I.filter(V=>V.selected),U=P.filter(V=>V.selected),{nodes:j,edges:ie}=await Zl({nodesToRemove:Y,edgesToRemove:U,nodes:I,edges:P,onBeforeDelete:K(s.onbeforedelete)});(j.length||ie.length)&&(s.nodes.update(V=>V.filter(ne=>!j.some(re=>re.id===ne.id))),s.edges.update(V=>V.filter(ne=>!ie.some(re=>re.id===ne.id))),(M=K(s.ondelete))==null||M({nodes:j,edges:ie}))}});function E(p){const M=K(s.multiselectionKeyPressed);s.nodes.update(I=>I.map(P=>{const Y=p.includes(P.id),U=M&&P.selected||Y;return P.selected=U,P})),M||s.edges.update(I=>I.map(P=>(P.selected=!1,P)))}function z(p){const M=K(s.multiselectionKeyPressed);s.edges.update(I=>I.map(P=>{const Y=p.includes(P.id),U=M&&P.selected||Y;return P.selected=U,P})),M||s.nodes.update(I=>I.map(P=>(P.selected=!1,P)))}function A(p){var I;const M=(I=K(s.nodes))==null?void 0:I.find(P=>P.id===p);if(!M){console.warn("012",Bn.error012(p));return}s.selectionRect.set(null),s.selectionRectMode.set(null),M.selected?M.selected&&K(s.multiselectionKeyPressed)&&v({nodes:[M],edges:[]}):E([p])}function W(p){const M=K(s.viewport);return hd({delta:p,panZoom:K(s.panZoom),transform:[M.x,M.y,M.zoom],translateExtent:K(s.translateExtent),width:K(s.width),height:K(s.height)})}const B=ge(co),F=p=>{B.set({...p})};function w(){B.set(co)}function L(){s.fitViewOnInitDone.set(!1),s.selectionRect.set(null),s.selectionRectMode.set(null),s.snapGrid.set(null),s.isValidConnection.set(()=>!0),v(),w()}return{...s,visibleEdges:Eh(s),visibleNodes:zh(s),connection:rn([B,s.viewport],([p,M])=>p.inProgress?{...p,to:Zn(p.to,[M.x,M.y,M.zoom])}:{...p}),markers:rn([s.edges,s.defaultMarkerColor,s.flowId],([p,M,I])=>ld(p,{defaultColor:M,id:I})),initialized:(()=>{let p=!1;const M=K(s.nodes).length,I=K(s.edges).length;return rn([s.nodesInitialized,s.edgesInitialized,s.viewportInitialized],([P,Y,U])=>p||(M===0?p=U:I===0?p=U&&P:p=U&&P&&Y,p))})(),syncNodeStores:p=>wh(s.nodes,p),syncEdgeStores:p=>kh(s.edges,p),syncViewport:p=>vh(s.panZoom,s.viewport,p),setNodeTypes:u,setEdgeTypes:a,addEdge:f,updateNodePositions:d,updateNodeInternals:c,zoomIn:b,zoomOut:g,fitView:p=>h(p),setMinZoom:C,setMaxZoom:k,setTranslateExtent:S,setPaneClickDistance:T,unselectNodesAndEdges:v,addSelectedNodes:E,addSelectedEdges:z,handleNodeSelection:A,panBy:W,updateConnection:F,cancelConnection:w,reset:L}}function Ae(){const t=Tn(Wi);if(!t)throw new Error("In order to use useStore you need to wrap your component in a <SvelteFlowProvider />");return t.getStore()}function Mh({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:l}){const s=ys({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:r,nodeExtent:l});return Hn(Wi,{getStore:()=>s}),s}function Ph(t,e){const{panZoom:n,minZoom:i,maxZoom:o,initialViewport:r,viewport:l,dragging:s,translateExtent:u,paneClickDistance:a}=e,f=Nd({domNode:t,minZoom:i,maxZoom:o,translateExtent:u,viewport:r,paneClickDistance:a,onDraggingChange:s.set}),d=f.getViewport();return l.set(d),n.set(f),f.update(e),{update(c){f.update(c)}}}function Oh(t){let e,n,i,o,r;const l=t[35].default,s=We(l,t,t[34],null);return{c(){e=he("div"),s&&s.c(),_(e,"class","svelte-flow__zoom svelte-4xkw84")},m(u,a){G(u,e,a),s&&s.m(e,null),i=!0,o||(r=qe(n=Ph.call(null,e,{viewport:t[18],minZoom:t[12],maxZoom:t[13],initialViewport:t[11],dragging:t[23],panZoom:t[19],onPanZoomStart:t[0],onPanZoom:t[1],onPanZoomEnd:t[2],zoomOnScroll:t[5],zoomOnDoubleClick:t[6],zoomOnPinch:t[7],panOnScroll:t[9],panOnDrag:t[10],panOnScrollSpeed:.5,panOnScrollMode:t[3]||dt.Free,zoomActivationKeyPressed:t[14],preventScrolling:typeof t[4]=="boolean"?t[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:!!t[15],translateExtent:t[16],lib:t[17],paneClickDistance:t[8],onTransformChange:t[29]})),o=!0)},p(u,a){s&&s.p&&(!i||a[1]&8)&&Be(s,l,u,u[34],i?Ye(l,u[34],a,null):Ke(u[34]),null),n&&He(n.update)&&a[0]&262143&&n.update.call(null,{viewport:u[18],minZoom:u[12],maxZoom:u[13],initialViewport:u[11],dragging:u[23],panZoom:u[19],onPanZoomStart:u[0],onPanZoom:u[1],onPanZoomEnd:u[2],zoomOnScroll:u[5],zoomOnDoubleClick:u[6],zoomOnPinch:u[7],panOnScroll:u[9],panOnDrag:u[10],panOnScrollSpeed:.5,panOnScrollMode:u[3]||dt.Free,zoomActivationKeyPressed:u[14],preventScrolling:typeof u[4]=="boolean"?u[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:!!u[15],translateExtent:u[16],lib:u[17],paneClickDistance:u[8],onTransformChange:u[29]})},i(u){i||(R(s,u),i=!0)},o(u){X(s,u),i=!1},d(u){u&&Z(e),s&&s.d(u),o=!1,r()}}}function Nh(t,e,n){let i,o,r,l,s,u,a,f,d,c,h,{$$slots:y={},$$scope:m}=e,{initialViewport:b=void 0}=e,{onMoveStart:g=void 0}=e,{onMove:C=void 0}=e,{onMoveEnd:k=void 0}=e,{panOnScrollMode:S}=e,{preventScrolling:N}=e,{zoomOnScroll:T}=e,{zoomOnDoubleClick:v}=e,{zoomOnPinch:E}=e,{panOnDrag:z}=e,{panOnScroll:A}=e,{paneClickDistance:W}=e;const{viewport:B,panZoom:F,selectionRect:w,minZoom:L,maxZoom:p,dragging:M,translateExtent:I,lib:P,panActivationKeyPressed:Y,zoomActivationKeyPressed:U,viewportInitialized:j}=Ae();Q(t,w,V=>n(15,d=V)),Q(t,L,V=>n(12,u=V)),Q(t,p,V=>n(13,a=V)),Q(t,I,V=>n(16,c=V)),Q(t,P,V=>n(17,h=V)),Q(t,Y,V=>n(33,s=V)),Q(t,U,V=>n(14,f=V)),Q(t,j,V=>n(36,l=V));const ie=V=>B.set({x:V[0],y:V[1],zoom:V[2]});return pn(()=>{ci(j,l=!0,l)}),t.$$set=V=>{"initialViewport"in V&&n(30,b=V.initialViewport),"onMoveStart"in V&&n(0,g=V.onMoveStart),"onMove"in V&&n(1,C=V.onMove),"onMoveEnd"in V&&n(2,k=V.onMoveEnd),"panOnScrollMode"in V&&n(3,S=V.panOnScrollMode),"preventScrolling"in V&&n(4,N=V.preventScrolling),"zoomOnScroll"in V&&n(5,T=V.zoomOnScroll),"zoomOnDoubleClick"in V&&n(6,v=V.zoomOnDoubleClick),"zoomOnPinch"in V&&n(7,E=V.zoomOnPinch),"panOnDrag"in V&&n(31,z=V.panOnDrag),"panOnScroll"in V&&n(32,A=V.panOnScroll),"paneClickDistance"in V&&n(8,W=V.paneClickDistance),"$$scope"in V&&n(34,m=V.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&1073741824&&n(11,i=b||{x:0,y:0,zoom:1}),t.$$.dirty[1]&5&&n(10,o=s||z),t.$$.dirty[1]&6&&n(9,r=s||A)},[g,C,k,S,N,T,v,E,W,r,o,i,u,a,f,d,c,h,B,F,w,L,p,M,I,P,Y,U,j,ie,b,z,A,s,m,y]}class Hh extends fe{constructor(e){super(),ae(this,e,Nh,Oh,ce,{initialViewport:30,onMoveStart:0,onMove:1,onMoveEnd:2,panOnScrollMode:3,preventScrolling:4,zoomOnScroll:5,zoomOnDoubleClick:6,zoomOnPinch:7,panOnDrag:31,panOnScroll:32,paneClickDistance:8},null,[-1,-1])}}function Th(t){let e,n,i,o;const r=t[28].default,l=We(r,t,t[27],null);return{c(){e=he("div"),l&&l.c(),_(e,"class","svelte-flow__pane svelte-1esy7hx"),be(e,"draggable",t[0]===!0||Array.isArray(t[0])&&t[0].includes(0)),be(e,"dragging",t[4]),be(e,"selection",t[1])},m(s,u){G(s,e,u),l&&l.m(e,null),t[29](e),n=!0,i||(o=[Ce(e,"click",function(){He(t[3]?void 0:ii(t[15],t[2]))&&(t[3]?void 0:ii(t[15],t[2])).apply(this,arguments)}),Ce(e,"pointerdown",function(){He(t[3]?t[16]:void 0)&&(t[3]?t[16]:void 0).apply(this,arguments)}),Ce(e,"pointermove",function(){He(t[3]?t[17]:void 0)&&(t[3]?t[17]:void 0).apply(this,arguments)}),Ce(e,"pointerup",function(){He(t[3]?t[18]:void 0)&&(t[3]?t[18]:void 0).apply(this,arguments)}),Ce(e,"contextmenu",function(){He(ii(t[19],t[2]))&&ii(t[19],t[2]).apply(this,arguments)})],i=!0)},p(s,u){t=s,l&&l.p&&(!n||u[0]&134217728)&&Be(l,r,t,t[27],n?Ye(r,t[27],u,null):Ke(t[27]),null),(!n||u[0]&1)&&be(e,"draggable",t[0]===!0||Array.isArray(t[0])&&t[0].includes(0)),(!n||u[0]&16)&&be(e,"dragging",t[4]),(!n||u[0]&2)&&be(e,"selection",t[1])},i(s){n||(R(l,s),n=!0)},o(s){X(l,s),n=!1},d(s){s&&Z(e),l&&l.d(s),t[29](null),i=!1,Ue(o)}}}function ii(t,e){return n=>{n.target===e&&(t==null||t(n))}}function Er(t){return e=>{const n=t.includes(e.id);return e.selected!==n&&(e.selected=n),e}}function Ih(t,e,n){let i,o,r,l,s,u,a,f,d,c,h,y,m,{$$slots:b={},$$scope:g}=e,{panOnDrag:C=void 0}=e,{selectionOnDrag:k=void 0}=e;const S=Hi(),{nodes:N,nodeLookup:T,edges:v,viewport:E,dragging:z,elementsSelectable:A,selectionRect:W,selectionRectMode:B,selectionKeyPressed:F,selectionMode:w,panActivationKeyPressed:L,unselectNodesAndEdges:p}=Ae();Q(t,T,D=>n(36,d=D)),Q(t,v,D=>n(33,u=D)),Q(t,E,D=>n(35,f=D)),Q(t,z,D=>n(4,m=D)),Q(t,A,D=>n(25,h=D)),Q(t,W,D=>n(24,c=D)),Q(t,B,D=>n(23,s=D)),Q(t,F,D=>n(22,l=D)),Q(t,w,D=>n(34,a=D)),Q(t,L,D=>n(26,y=D));let M,I=null,P=[],Y=!1;function U(D){if(Y){Y=!1;return}S("paneclick",{event:D}),p(),B.set(null)}function j(D){var ee,ye;if(I=M.getBoundingClientRect(),!A||!o||D.button!==0||D.target!==M||!I)return;(ye=(ee=D.target)==null?void 0:ee.setPointerCapture)==null||ye.call(ee,D.pointerId);const{x:de,y:H}=vt(D,I);p(),W.set({width:0,height:0,startX:de,startY:H,x:de,y:H})}function ie(D){if(!o||!I||!c)return;Y=!0;const de=vt(D,I),H=c.startX??0,ee=c.startY??0,ye={...c,x:de.x<H?de.x:H,y:de.y<ee?de.y:ee,width:Math.abs(de.x-H),height:Math.abs(de.y-ee)},we=P.map(Pe=>Pe.id),ze=ho(P,u).map(Pe=>Pe.id);P=Fl(d,ye,[f.x,f.y,f.zoom],a===vi.Partial,!0);const q=ho(P,u).map(Pe=>Pe.id),Ne=P.map(Pe=>Pe.id);(we.length!==Ne.length||Ne.some(Pe=>!we.includes(Pe)))&&N.update(Pe=>Pe.map(Er(Ne))),(ze.length!==q.length||q.some(Pe=>!ze.includes(Pe)))&&v.update(Pe=>Pe.map(Er(q))),B.set("user"),W.set(ye)}function V(D){var de,H;D.button===0&&((H=(de=D.target)==null?void 0:de.releasePointerCapture)==null||H.call(de,D.pointerId),!o&&s==="user"&&D.target===M&&(U==null||U(D)),W.set(null),P.length>0&&ci(B,s="nodes",s),l&&(Y=!1))}const ne=D=>{if(Array.isArray(i)&&(i!=null&&i.includes(2))){D.preventDefault();return}S("panecontextmenu",{event:D})};function re(D){Yt[D?"unshift":"push"](()=>{M=D,n(2,M)})}return t.$$set=D=>{"panOnDrag"in D&&n(0,C=D.panOnDrag),"selectionOnDrag"in D&&n(20,k=D.selectionOnDrag),"$$scope"in D&&n(27,g=D.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&67108865&&n(21,i=y||C),t.$$.dirty[0]&24117248&&n(1,o=l||c||k&&i!==!0),t.$$.dirty[0]&41943042&&n(3,r=h&&(o||s==="user"))},[C,o,M,r,m,T,v,E,z,A,W,B,F,w,L,U,j,ie,V,ne,k,i,l,s,c,h,y,g,b,re]}class Ah extends fe{constructor(e){super(),ae(this,e,Ih,Th,ce,{panOnDrag:0,selectionOnDrag:20},null,[-1,-1])}}function Dh(t){let e,n;const i=t[3].default,o=We(i,t,t[2],null);return{c(){e=he("div"),o&&o.c(),_(e,"class","svelte-flow__viewport xyflow__viewport svelte-1floaup"),le(e,"transform","translate("+t[0].x+"px, "+t[0].y+"px) scale("+t[0].zoom+")")},m(r,l){G(r,e,l),o&&o.m(e,null),n=!0},p(r,[l]){o&&o.p&&(!n||l&4)&&Be(o,i,r,r[2],n?Ye(i,r[2],l,null):Ke(r[2]),null),(!n||l&1)&&le(e,"transform","translate("+r[0].x+"px, "+r[0].y+"px) scale("+r[0].zoom+")")},i(r){n||(R(o,r),n=!0)},o(r){X(o,r),n=!1},d(r){r&&Z(e),o&&o.d(r)}}}function Rh(t,e,n){let i,{$$slots:o={},$$scope:r}=e;const{viewport:l}=Ae();return Q(t,l,s=>n(0,i=s)),t.$$set=s=>{"$$scope"in s&&n(2,r=s.$$scope)},[i,l,r,o]}class Lh extends fe{constructor(e){super(),ae(this,e,Rh,Dh,ce,{})}}function _s(t,e){const{store:n,onDrag:i,onDragStart:o,onDragStop:r,onNodeMouseDown:l}=e,s=md({onDrag:i,onDragStart:o,onDragStop:r,onNodeMouseDown:l,getStoreItems:()=>{const a=K(n.snapGrid),f=K(n.viewport);return{nodes:K(n.nodes),nodeLookup:K(n.nodeLookup),edges:K(n.edges),nodeExtent:K(n.nodeExtent),snapGrid:a||[0,0],snapToGrid:!!a,nodeOrigin:K(n.nodeOrigin),multiSelectionActive:K(n.multiselectionKeyPressed),domNode:K(n.domNode),transform:[f.x,f.y,f.zoom],autoPanOnNodeDrag:K(n.autoPanOnNodeDrag),nodesDraggable:K(n.nodesDraggable),selectNodesOnDrag:K(n.selectNodesOnDrag),nodeDragThreshold:K(n.nodeDragThreshold),unselectNodesAndEdges:n.unselectNodesAndEdges,updateNodePositions:n.updateNodePositions,panBy:n.panBy}}});function u(a,f){if(f.disabled){s.destroy();return}s.update({domNode:a,noDragClassName:f.noDragClass,handleSelector:f.handleSelector,nodeId:f.nodeId,isSelectable:f.isSelectable,nodeClickDistance:f.nodeClickDistance})}return u(t,e),{update(a){u(t,a)},destroy(){s.destroy()}}}function Vh({width:t,height:e,initialWidth:n,initialHeight:i,measuredWidth:o,measuredHeight:r}){if(o===void 0&&r===void 0){const l=t??n,s=e??i;return{width:l?`width:${l}px;`:"",height:s?`height:${s}px;`:""}}return{width:t?`width:${t}px;`:"",height:e?`height:${e}px;`:""}}function zr(t){let e,n,i,o,r,l=`translate(${t[12]}px, ${t[13]}px)`,s,u,a;var f=t[27];function d(c,h){return{props:{data:c[2],id:c[1],selected:c[3],selectable:c[5],deletable:c[7],sourcePosition:c[14],targetPosition:c[15],zIndex:c[16],dragging:c[9],draggable:c[4],dragHandle:c[19],parentId:c[21],type:c[25],isConnectable:c[28],positionAbsoluteX:c[12],positionAbsoluteY:c[13],width:c[17],height:c[18]}}}return f&&(n=di(f,d(t))),{c(){e=he("div"),n&&te(n.$$.fragment),_(e,"data-id",t[1]),_(e,"class",i=Me(["svelte-flow__node",`svelte-flow__node-${t[25]}`,t[23]])),_(e,"style",o=(t[10]??"")+";"+t[26].width+t[26].height),be(e,"dragging",t[9]),be(e,"selected",t[3]),be(e,"draggable",t[4]),be(e,"connectable",t[6]),be(e,"selectable",t[5]),be(e,"nopan",t[4]),be(e,"parent",t[11]),le(e,"z-index",t[16]),le(e,"transform",l),le(e,"visibility",t[20]?"visible":"hidden")},m(c,h){G(c,e,h),n&&x(n,e,null),t[50](e),s=!0,u||(a=[qe(r=_s.call(null,e,{nodeId:t[1],isSelectable:t[5],disabled:!1,handleSelector:t[19],noDragClass:"nodrag",nodeClickDistance:t[22],onNodeMouseDown:t[31],onDrag:t[47],onDragStart:t[48],onDragStop:t[49],store:t[29]})),Ce(e,"click",t[34]),Ce(e,"mouseenter",t[51]),Ce(e,"mouseleave",t[52]),Ce(e,"mousemove",t[53]),Ce(e,"contextmenu",t[54])],u=!0)},p(c,h){if(h[0]&134217728&&f!==(f=c[27])){if(n){Te();const m=n;X(m.$$.fragment,1,0,()=>{$(m,1)}),Ie()}f?(n=di(f,d(c)),te(n.$$.fragment),R(n.$$.fragment,1),x(n,e,null)):n=null}else if(f){const m={};h[0]&4&&(m.data=c[2]),h[0]&2&&(m.id=c[1]),h[0]&8&&(m.selected=c[3]),h[0]&32&&(m.selectable=c[5]),h[0]&128&&(m.deletable=c[7]),h[0]&16384&&(m.sourcePosition=c[14]),h[0]&32768&&(m.targetPosition=c[15]),h[0]&65536&&(m.zIndex=c[16]),h[0]&512&&(m.dragging=c[9]),h[0]&16&&(m.draggable=c[4]),h[0]&524288&&(m.dragHandle=c[19]),h[0]&2097152&&(m.parentId=c[21]),h[0]&33554432&&(m.type=c[25]),h[0]&268435456&&(m.isConnectable=c[28]),h[0]&4096&&(m.positionAbsoluteX=c[12]),h[0]&8192&&(m.positionAbsoluteY=c[13]),h[0]&131072&&(m.width=c[17]),h[0]&262144&&(m.height=c[18]),n.$set(m)}(!s||h[0]&2)&&_(e,"data-id",c[1]),(!s||h[0]&41943040&&i!==(i=Me(["svelte-flow__node",`svelte-flow__node-${c[25]}`,c[23]])))&&_(e,"class",i),(!s||h[0]&67109888&&o!==(o=(c[10]??"")+";"+c[26].width+c[26].height))&&_(e,"style",o),r&&He(r.update)&&h[0]&4718626&&r.update.call(null,{nodeId:c[1],isSelectable:c[5],disabled:!1,handleSelector:c[19],noDragClass:"nodrag",nodeClickDistance:c[22],onNodeMouseDown:c[31],onDrag:c[47],onDragStart:c[48],onDragStop:c[49],store:c[29]}),(!s||h[0]&41943552)&&be(e,"dragging",c[9]),(!s||h[0]&41943048)&&be(e,"selected",c[3]),(!s||h[0]&41943056)&&be(e,"draggable",c[4]),(!s||h[0]&41943104)&&be(e,"connectable",c[6]),(!s||h[0]&41943072)&&be(e,"selectable",c[5]),(!s||h[0]&41943056)&&be(e,"nopan",c[4]),(!s||h[0]&41945088)&&be(e,"parent",c[11]);const y=h[0]&67109888;(h[0]&67175424||y)&&le(e,"z-index",c[16]),(h[0]&67122176&&l!==(l=`translate(${c[12]}px, ${c[13]}px)`)||y)&&le(e,"transform",l),(h[0]&68158464||y)&&le(e,"visibility",c[20]?"visible":"hidden")},i(c){s||(n&&R(n.$$.fragment,c),s=!0)},o(c){n&&X(n.$$.fragment,c),s=!1},d(c){c&&Z(e),n&&$(n),t[50](null),u=!1,Ue(a)}}}function Xh(t){let e,n,i=!t[8]&&zr(t);return{c(){i&&i.c(),e=De()},m(o,r){i&&i.m(o,r),G(o,e,r),n=!0},p(o,r){o[8]?i&&(Te(),X(i,1,1,()=>{i=null}),Ie()):i?(i.p(o,r),r[0]&256&&R(i,1)):(i=zr(o),i.c(),R(i,1),i.m(e.parentNode,e))},i(o){n||(R(i),n=!0)},o(o){X(i),n=!1},d(o){o&&Z(e),i&&i.d(o)}}}function Wh(t,e,n){let i,o,r,l,s,u,{node:a}=e,{id:f}=e,{data:d={}}=e,{selected:c=!1}=e,{draggable:h=void 0}=e,{selectable:y=void 0}=e,{connectable:m=!0}=e,{deletable:b=!0}=e,{hidden:g=!1}=e,{dragging:C=!1}=e,{resizeObserver:k=null}=e,{style:S=void 0}=e,{type:N="default"}=e,{isParent:T=!1}=e,{positionX:v}=e,{positionY:E}=e,{sourcePosition:z=void 0}=e,{targetPosition:A=void 0}=e,{zIndex:W}=e,{measuredWidth:B=void 0}=e,{measuredHeight:F=void 0}=e,{initialWidth:w=void 0}=e,{initialHeight:L=void 0}=e,{width:p=void 0}=e,{height:M=void 0}=e,{dragHandle:I=void 0}=e,{initialized:P=!1}=e,{parentId:Y=void 0}=e,{nodeClickDistance:U=void 0}=e,{class:j=""}=e;const ie=Ae(),{nodeTypes:V,nodeDragThreshold:ne,selectNodesOnDrag:re,handleNodeSelection:D,updateNodeInternals:de}=ie;Q(t,V,J=>n(46,s=J));let H,ee=null;const ye=Hi(),we=ge(m);Q(t,we,J=>n(28,u=J));let ze,q,Ne;Hn("svelteflow__node_id",f),Hn("svelteflow__node_connectable",we),Ni(()=>{ee&&(k==null||k.unobserve(ee))});function Pe(J){y&&(!K(re)||!h||K(ne)>0)&&D(f),ye("nodeclick",{node:a.internals.userNode,event:J})}const tt=(J,Pt,Fe,Je)=>{ye("nodedrag",{event:J,targetNode:Fe,nodes:Je})},xe=(J,Pt,Fe,Je)=>{ye("nodedragstart",{event:J,targetNode:Fe,nodes:Je})},yt=(J,Pt,Fe,Je)=>{ye("nodedragstop",{event:J,targetNode:Fe,nodes:Je})};function Xe(J){Yt[J?"unshift":"push"](()=>{H=J,n(24,H)})}const _t=J=>ye("nodemouseenter",{node:a,event:J}),ue=J=>ye("nodemouseleave",{node:a,event:J}),zt=J=>ye("nodemousemove",{node:a,event:J}),Mt=J=>ye("nodecontextmenu",{node:a,event:J});return t.$$set=J=>{"node"in J&&n(0,a=J.node),"id"in J&&n(1,f=J.id),"data"in J&&n(2,d=J.data),"selected"in J&&n(3,c=J.selected),"draggable"in J&&n(4,h=J.draggable),"selectable"in J&&n(5,y=J.selectable),"connectable"in J&&n(6,m=J.connectable),"deletable"in J&&n(7,b=J.deletable),"hidden"in J&&n(8,g=J.hidden),"dragging"in J&&n(9,C=J.dragging),"resizeObserver"in J&&n(35,k=J.resizeObserver),"style"in J&&n(10,S=J.style),"type"in J&&n(36,N=J.type),"isParent"in J&&n(11,T=J.isParent),"positionX"in J&&n(12,v=J.positionX),"positionY"in J&&n(13,E=J.positionY),"sourcePosition"in J&&n(14,z=J.sourcePosition),"targetPosition"in J&&n(15,A=J.targetPosition),"zIndex"in J&&n(16,W=J.zIndex),"measuredWidth"in J&&n(37,B=J.measuredWidth),"measuredHeight"in J&&n(38,F=J.measuredHeight),"initialWidth"in J&&n(39,w=J.initialWidth),"initialHeight"in J&&n(40,L=J.initialHeight),"width"in J&&n(17,p=J.width),"height"in J&&n(18,M=J.height),"dragHandle"in J&&n(19,I=J.dragHandle),"initialized"in J&&n(20,P=J.initialized),"parentId"in J&&n(21,Y=J.parentId),"nodeClickDistance"in J&&n(22,U=J.nodeClickDistance),"class"in J&&n(23,j=J.class)},t.$$.update=()=>{t.$$.dirty[1]&32&&n(25,i=N||"default"),t.$$.dirty[0]&33554432|t.$$.dirty[1]&32768&&n(45,o=!!s[i]),t.$$.dirty[0]&33554432|t.$$.dirty[1]&32768&&n(27,r=s[i]||fs),t.$$.dirty[1]&16416&&(o||console.warn("003",Bn.error003(N))),t.$$.dirty[0]&393216|t.$$.dirty[1]&960&&n(26,l=Vh({width:p,height:M,initialWidth:w,initialHeight:L,measuredWidth:B,measuredHeight:F})),t.$$.dirty[0]&64&&we.set(!!m),t.$$.dirty[0]&50380802|t.$$.dirty[1]&14336&&((ze&&i!==ze||q&&z!==q||Ne&&A!==Ne)&&requestAnimationFrame(()=>de(new Map([[f,{id:f,nodeElement:H,force:!0}]]))),n(42,ze=i),n(43,q=z),n(44,Ne=A)),t.$$.dirty[0]&17825792|t.$$.dirty[1]&1040&&k&&(H!==ee||!P)&&(ee&&k.unobserve(ee),H&&k.observe(H),n(41,ee=H))},[a,f,d,c,h,y,m,b,g,C,S,T,v,E,z,A,W,p,M,I,P,Y,U,j,H,i,l,r,u,ie,V,D,ye,we,Pe,k,N,B,F,w,L,ee,ze,q,Ne,o,s,tt,xe,yt,Xe,_t,ue,zt,Mt]}class Yh extends fe{constructor(e){super(),ae(this,e,Wh,Xh,cl,{node:0,id:1,data:2,selected:3,draggable:4,selectable:5,connectable:6,deletable:7,hidden:8,dragging:9,resizeObserver:35,style:10,type:36,isParent:11,positionX:12,positionY:13,sourcePosition:14,targetPosition:15,zIndex:16,measuredWidth:37,measuredHeight:38,initialWidth:39,initialHeight:40,width:17,height:18,dragHandle:19,initialized:20,parentId:21,nodeClickDistance:22,class:23},null,[-1,-1])}}const{Map:Bh}=Qs;function Mr(t,e,n){const i=t.slice();return i[21]=e[n],i}function Pr(t,e){let n,i,o;return i=new Yh({props:{node:e[21],id:e[21].id,data:e[21].data,selected:!!e[21].selected,hidden:!!e[21].hidden,draggable:!!(e[21].draggable||e[2]&&typeof e[21].draggable>"u"),selectable:!!(e[21].selectable||e[3]&&typeof e[21].selectable>"u"),connectable:!!(e[21].connectable||e[4]&&typeof e[21].connectable>"u"),deletable:e[21].deletable??!0,positionX:e[21].internals.positionAbsolute.x,positionY:e[21].internals.positionAbsolute.y,isParent:e[5].has(e[21].id),style:e[21].style,class:e[21].class,type:e[21].type??"default",sourcePosition:e[21].sourcePosition,targetPosition:e[21].targetPosition,dragging:e[21].dragging,zIndex:e[21].internals.z??0,dragHandle:e[21].dragHandle,initialized:Ei(e[21]),width:e[21].width,height:e[21].height,initialWidth:e[21].initialWidth,initialHeight:e[21].initialHeight,measuredWidth:e[21].measured.width,measuredHeight:e[21].measured.height,parentId:e[21].parentId,resizeObserver:e[11],nodeClickDistance:e[0]}}),i.$on("nodeclick",e[12]),i.$on("nodemouseenter",e[13]),i.$on("nodemousemove",e[14]),i.$on("nodemouseleave",e[15]),i.$on("nodedrag",e[16]),i.$on("nodedragstart",e[17]),i.$on("nodedragstop",e[18]),i.$on("nodecontextmenu",e[19]),{key:t,first:null,c(){n=De(),te(i.$$.fragment),this.first=n},m(r,l){G(r,n,l),x(i,r,l),o=!0},p(r,l){e=r;const s={};l&2&&(s.node=e[21]),l&2&&(s.id=e[21].id),l&2&&(s.data=e[21].data),l&2&&(s.selected=!!e[21].selected),l&2&&(s.hidden=!!e[21].hidden),l&6&&(s.draggable=!!(e[21].draggable||e[2]&&typeof e[21].draggable>"u")),l&10&&(s.selectable=!!(e[21].selectable||e[3]&&typeof e[21].selectable>"u")),l&18&&(s.connectable=!!(e[21].connectable||e[4]&&typeof e[21].connectable>"u")),l&2&&(s.deletable=e[21].deletable??!0),l&2&&(s.positionX=e[21].internals.positionAbsolute.x),l&2&&(s.positionY=e[21].internals.positionAbsolute.y),l&34&&(s.isParent=e[5].has(e[21].id)),l&2&&(s.style=e[21].style),l&2&&(s.class=e[21].class),l&2&&(s.type=e[21].type??"default"),l&2&&(s.sourcePosition=e[21].sourcePosition),l&2&&(s.targetPosition=e[21].targetPosition),l&2&&(s.dragging=e[21].dragging),l&2&&(s.zIndex=e[21].internals.z??0),l&2&&(s.dragHandle=e[21].dragHandle),l&2&&(s.initialized=Ei(e[21])),l&2&&(s.width=e[21].width),l&2&&(s.height=e[21].height),l&2&&(s.initialWidth=e[21].initialWidth),l&2&&(s.initialHeight=e[21].initialHeight),l&2&&(s.measuredWidth=e[21].measured.width),l&2&&(s.measuredHeight=e[21].measured.height),l&2&&(s.parentId=e[21].parentId),l&1&&(s.nodeClickDistance=e[0]),i.$set(s)},i(r){o||(R(i.$$.fragment,r),o=!0)},o(r){X(i.$$.fragment,r),o=!1},d(r){r&&Z(n),$(i,r)}}}function Kh(t){let e,n=[],i=new Bh,o,r=rt(t[1]);const l=s=>s[21].id;for(let s=0;s<r.length;s+=1){let u=Mr(t,r,s),a=l(u);i.set(a,n[s]=Pr(a,u))}return{c(){e=he("div");for(let s=0;s<n.length;s+=1)n[s].c();_(e,"class","svelte-flow__nodes svelte-tf4uy4")},m(s,u){G(s,e,u);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(e,null);o=!0},p(s,[u]){u&2111&&(r=rt(s[1]),Te(),n=hn(n,u,l,1,s,r,i,e,dn,Pr,null,Mr),Ie())},i(s){if(!o){for(let u=0;u<r.length;u+=1)R(n[u]);o=!0}},o(s){for(let u=0;u<n.length;u+=1)X(n[u]);o=!1},d(s){s&&Z(e);for(let u=0;u<n.length;u+=1)n[u].d()}}}function Fh(t,e,n){let i,o,r,l,s,{nodeClickDistance:u=0}=e;const{visibleNodes:a,nodesDraggable:f,nodesConnectable:d,elementsSelectable:c,updateNodeInternals:h,parentLookup:y}=Ae();Q(t,a,E=>n(1,i=E)),Q(t,f,E=>n(2,o=E)),Q(t,d,E=>n(4,l=E)),Q(t,c,E=>n(3,r=E)),Q(t,y,E=>n(5,s=E));const m=typeof ResizeObserver>"u"?null:new ResizeObserver(E=>{const z=new Map;E.forEach(A=>{const W=A.target.getAttribute("data-id");z.set(W,{id:W,nodeElement:A.target,force:!0})}),h(z)});Ni(()=>{m==null||m.disconnect()});function b(E){Se.call(this,t,E)}function g(E){Se.call(this,t,E)}function C(E){Se.call(this,t,E)}function k(E){Se.call(this,t,E)}function S(E){Se.call(this,t,E)}function N(E){Se.call(this,t,E)}function T(E){Se.call(this,t,E)}function v(E){Se.call(this,t,E)}return t.$$set=E=>{"nodeClickDistance"in E&&n(0,u=E.nodeClickDistance)},[u,i,o,r,l,s,a,f,d,c,y,m,b,g,C,k,S,N,T,v]}class Zh extends fe{constructor(e){super(),ae(this,e,Fh,Kh,ce,{nodeClickDistance:0})}}function Or(t){let e,n,i,o,r,l,s,u;var a=t[27];function f(d,c){return{props:{id:d[0],source:d[1],target:d[2],sourceX:d[14],sourceY:d[15],targetX:d[16],targetY:d[17],sourcePosition:d[18],targetPosition:d[19],animated:d[6],selected:d[7],label:d[10],labelStyle:d[11],data:d[3],style:d[4],interactionWidth:d[21],selectable:d[24],deletable:d[8]??!0,type:d[23],sourceHandleId:d[12],targetHandleId:d[13],markerStart:d[26],markerEnd:d[25]}}}return a&&(i=di(a,f(t))),{c(){e=ke("svg"),n=ke("g"),i&&te(i.$$.fragment),_(n,"class",o=Me(["svelte-flow__edge",t[22]])),_(n,"data-id",t[0]),_(n,"aria-label",r=t[20]===null?void 0:t[20]?t[20]:`Edge from ${t[1]} to ${t[2]}`),_(n,"role","img"),be(n,"animated",t[6]),be(n,"selected",t[7]),be(n,"selectable",t[24]),le(e,"z-index",t[5])},m(d,c){G(d,e,c),oe(e,n),i&&x(i,n,null),l=!0,s||(u=[Ce(n,"click",t[32]),Ce(n,"contextmenu",t[41]),Ce(n,"mouseenter",t[42]),Ce(n,"mouseleave",t[43])],s=!0)},p(d,c){if(c[0]&134217728&&a!==(a=d[27])){if(i){Te();const h=i;X(h.$$.fragment,1,0,()=>{$(h,1)}),Ie()}a?(i=di(a,f(d)),te(i.$$.fragment),R(i.$$.fragment,1),x(i,n,null)):i=null}else if(a){const h={};c[0]&1&&(h.id=d[0]),c[0]&2&&(h.source=d[1]),c[0]&4&&(h.target=d[2]),c[0]&16384&&(h.sourceX=d[14]),c[0]&32768&&(h.sourceY=d[15]),c[0]&65536&&(h.targetX=d[16]),c[0]&131072&&(h.targetY=d[17]),c[0]&262144&&(h.sourcePosition=d[18]),c[0]&524288&&(h.targetPosition=d[19]),c[0]&64&&(h.animated=d[6]),c[0]&128&&(h.selected=d[7]),c[0]&1024&&(h.label=d[10]),c[0]&2048&&(h.labelStyle=d[11]),c[0]&8&&(h.data=d[3]),c[0]&16&&(h.style=d[4]),c[0]&2097152&&(h.interactionWidth=d[21]),c[0]&16777216&&(h.selectable=d[24]),c[0]&256&&(h.deletable=d[8]??!0),c[0]&8388608&&(h.type=d[23]),c[0]&4096&&(h.sourceHandleId=d[12]),c[0]&8192&&(h.targetHandleId=d[13]),c[0]&67108864&&(h.markerStart=d[26]),c[0]&33554432&&(h.markerEnd=d[25]),i.$set(h)}(!l||c[0]&4194304&&o!==(o=Me(["svelte-flow__edge",d[22]])))&&_(n,"class",o),(!l||c[0]&1)&&_(n,"data-id",d[0]),(!l||c[0]&1048582&&r!==(r=d[20]===null?void 0:d[20]?d[20]:`Edge from ${d[1]} to ${d[2]}`))&&_(n,"aria-label",r),(!l||c[0]&4194368)&&be(n,"animated",d[6]),(!l||c[0]&4194432)&&be(n,"selected",d[7]),(!l||c[0]&20971520)&&be(n,"selectable",d[24]),c[0]&32&&le(e,"z-index",d[5])},i(d){l||(i&&R(i.$$.fragment,d),l=!0)},o(d){i&&X(i.$$.fragment,d),l=!1},d(d){d&&Z(e),i&&$(i),s=!1,Ue(u)}}}function Gh(t){let e,n,i=!t[9]&&Or(t);return{c(){i&&i.c(),e=De()},m(o,r){i&&i.m(o,r),G(o,e,r),n=!0},p(o,r){o[9]?i&&(Te(),X(i,1,1,()=>{i=null}),Ie()):i?(i.p(o,r),r[0]&512&&R(i,1)):(i=Or(o),i.c(),R(i,1),i.m(e.parentNode,e))},i(o){n||(R(i),n=!0)},o(o){X(i),n=!1},d(o){o&&Z(e),i&&i.d(o)}}}function qh(t,e,n){let i,o,r,l,s,u,a,f,d,{id:c}=e,{type:h="default"}=e,{source:y=""}=e,{target:m=""}=e,{data:b={}}=e,{style:g=void 0}=e,{zIndex:C=void 0}=e,{animated:k=!1}=e,{selected:S=!1}=e,{selectable:N=void 0}=e,{deletable:T=void 0}=e,{hidden:v=!1}=e,{label:E=void 0}=e,{labelStyle:z=void 0}=e,{markerStart:A=void 0}=e,{markerEnd:W=void 0}=e,{sourceHandle:B=void 0}=e,{targetHandle:F=void 0}=e,{sourceX:w}=e,{sourceY:L}=e,{targetX:p}=e,{targetY:M}=e,{sourcePosition:I}=e,{targetPosition:P}=e,{ariaLabel:Y=void 0}=e,{interactionWidth:U=void 0}=e,{class:j=""}=e;Hn("svelteflow__edge_id",c);const{edgeLookup:ie,edgeTypes:V,flowId:ne,elementsSelectable:re}=Ae();Q(t,ie,q=>n(44,u=q)),Q(t,V,q=>n(40,d=q)),Q(t,ne,q=>n(39,f=q)),Q(t,re,q=>n(38,a=q));const D=Hi(),de=ds();function H(q){const Ne=u.get(c);Ne&&(de(c),D("edgeclick",{event:q,edge:Ne}))}function ee(q,Ne){const Pe=u.get(c);Pe&&D(Ne,{event:q,edge:Pe})}const ye=q=>{ee(q,"edgecontextmenu")},we=q=>{ee(q,"edgemouseenter")},ze=q=>{ee(q,"edgemouseleave")};return t.$$set=q=>{"id"in q&&n(0,c=q.id),"type"in q&&n(34,h=q.type),"source"in q&&n(1,y=q.source),"target"in q&&n(2,m=q.target),"data"in q&&n(3,b=q.data),"style"in q&&n(4,g=q.style),"zIndex"in q&&n(5,C=q.zIndex),"animated"in q&&n(6,k=q.animated),"selected"in q&&n(7,S=q.selected),"selectable"in q&&n(35,N=q.selectable),"deletable"in q&&n(8,T=q.deletable),"hidden"in q&&n(9,v=q.hidden),"label"in q&&n(10,E=q.label),"labelStyle"in q&&n(11,z=q.labelStyle),"markerStart"in q&&n(36,A=q.markerStart),"markerEnd"in q&&n(37,W=q.markerEnd),"sourceHandle"in q&&n(12,B=q.sourceHandle),"targetHandle"in q&&n(13,F=q.targetHandle),"sourceX"in q&&n(14,w=q.sourceX),"sourceY"in q&&n(15,L=q.sourceY),"targetX"in q&&n(16,p=q.targetX),"targetY"in q&&n(17,M=q.targetY),"sourcePosition"in q&&n(18,I=q.sourcePosition),"targetPosition"in q&&n(19,P=q.targetPosition),"ariaLabel"in q&&n(20,Y=q.ariaLabel),"interactionWidth"in q&&n(21,U=q.interactionWidth),"class"in q&&n(22,j=q.class)},t.$$.update=()=>{t.$$.dirty[1]&8&&n(23,i=h||"default"),t.$$.dirty[0]&8388608|t.$$.dirty[1]&512&&n(27,o=d[i]||hs),t.$$.dirty[1]&288&&n(26,r=A?`url('#${mo(A,f)}')`:void 0),t.$$.dirty[1]&320&&n(25,l=W?`url('#${mo(W,f)}')`:void 0),t.$$.dirty[1]&144&&n(24,s=N??a)},[c,y,m,b,g,C,k,S,T,v,E,z,B,F,w,L,p,M,I,P,Y,U,j,i,s,l,r,o,ie,V,ne,re,H,ee,h,N,A,W,a,f,d,ye,we,ze]}class Uh extends fe{constructor(e){super(),ae(this,e,qh,Gh,cl,{id:0,type:34,source:1,target:2,data:3,style:4,zIndex:5,animated:6,selected:7,selectable:35,deletable:8,hidden:9,label:10,labelStyle:11,markerStart:36,markerEnd:37,sourceHandle:12,targetHandle:13,sourceX:14,sourceY:15,targetX:16,targetY:17,sourcePosition:18,targetPosition:19,ariaLabel:20,interactionWidth:21,class:22},null,[-1,-1])}}function Jh(t,e,n){let{onMount:i=void 0}=e,{onDestroy:o=void 0}=e;return pn(()=>(i==null||i(),o)),t.$$set=r=>{"onMount"in r&&n(0,i=r.onMount),"onDestroy"in r&&n(1,o=r.onDestroy)},[i,o]}class Qh extends fe{constructor(e){super(),ae(this,e,Jh,null,ce,{onMount:0,onDestroy:1})}}function Nr(t,e,n){const i=t.slice();return i[2]=e[n],i}function Hr(t,e){let n,i,o;const r=[e[2]];let l={};for(let s=0;s<r.length;s+=1)l=ve(l,r[s]);return i=new og({props:l}),{key:t,first:null,c(){n=De(),te(i.$$.fragment),this.first=n},m(s,u){G(s,n,u),x(i,s,u),o=!0},p(s,u){e=s;const a=u&1?Ct(r,[gn(e[2])]):{};i.$set(a)},i(s){o||(R(i.$$.fragment,s),o=!0)},o(s){X(i.$$.fragment,s),o=!1},d(s){s&&Z(n),$(i,s)}}}function jh(t){let e,n=[],i=new Map,o,r=rt(t[0]);const l=s=>s[2].id;for(let s=0;s<r.length;s+=1){let u=Nr(t,r,s),a=l(u);i.set(a,n[s]=Hr(a,u))}return{c(){e=ke("defs");for(let s=0;s<n.length;s+=1)n[s].c()},m(s,u){G(s,e,u);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(e,null);o=!0},p(s,[u]){u&1&&(r=rt(s[0]),Te(),n=hn(n,u,l,1,s,r,i,e,dn,Hr,null,Nr),Ie())},i(s){if(!o){for(let u=0;u<r.length;u+=1)R(n[u]);o=!0}},o(s){for(let u=0;u<n.length;u+=1)X(n[u]);o=!1},d(s){s&&Z(e);for(let u=0;u<n.length;u+=1)n[u].d()}}}function xh(t,e,n){let i;const{markers:o}=Ae();return Q(t,o,r=>n(0,i=r)),[i,o]}class $h extends fe{constructor(e){super(),ae(this,e,xh,jh,ce,{})}}function eg(t){let e;return{c(){e=ke("polyline"),_(e,"stroke",t[6]),_(e,"stroke-linecap","round"),_(e,"stroke-linejoin","round"),_(e,"stroke-width",t[7]),_(e,"fill",t[6]),_(e,"points","-5,-4 0,0 -5,4 -5,-4")},m(n,i){G(n,e,i)},p(n,i){i&64&&_(e,"stroke",n[6]),i&128&&_(e,"stroke-width",n[7]),i&64&&_(e,"fill",n[6])},d(n){n&&Z(e)}}}function tg(t){let e;return{c(){e=ke("polyline"),_(e,"stroke",t[6]),_(e,"stroke-linecap","round"),_(e,"stroke-linejoin","round"),_(e,"stroke-width",t[7]),_(e,"fill","none"),_(e,"points","-5,-4 0,0 -5,4")},m(n,i){G(n,e,i)},p(n,i){i&64&&_(e,"stroke",n[6]),i&128&&_(e,"stroke-width",n[7])},d(n){n&&Z(e)}}}function ng(t){let e,n,i;function o(s,u){if(s[1]===pi.Arrow)return tg;if(s[1]===pi.ArrowClosed)return eg}let r=o(t),l=r&&r(t);return{c(){e=ke("marker"),l&&l.c(),_(e,"class","svelte-flow__arrowhead"),_(e,"id",t[0]),_(e,"markerWidth",n=`${t[2]}`),_(e,"markerHeight",i=`${t[3]}`),_(e,"viewBox","-10 -10 20 20"),_(e,"markerUnits",t[4]),_(e,"orient",t[5]),_(e,"refX","0"),_(e,"refY","0")},m(s,u){G(s,e,u),l&&l.m(e,null)},p(s,[u]){r===(r=o(s))&&l?l.p(s,u):(l&&l.d(1),l=r&&r(s),l&&(l.c(),l.m(e,null))),u&1&&_(e,"id",s[0]),u&4&&n!==(n=`${s[2]}`)&&_(e,"markerWidth",n),u&8&&i!==(i=`${s[3]}`)&&_(e,"markerHeight",i),u&16&&_(e,"markerUnits",s[4]),u&32&&_(e,"orient",s[5])},i:me,o:me,d(s){s&&Z(e),l&&l.d()}}}function ig(t,e,n){let{id:i}=e,{type:o}=e,{width:r=12.5}=e,{height:l=12.5}=e,{markerUnits:s="strokeWidth"}=e,{orient:u="auto-start-reverse"}=e,{color:a=void 0}=e,{strokeWidth:f=void 0}=e;return t.$$set=d=>{"id"in d&&n(0,i=d.id),"type"in d&&n(1,o=d.type),"width"in d&&n(2,r=d.width),"height"in d&&n(3,l=d.height),"markerUnits"in d&&n(4,s=d.markerUnits),"orient"in d&&n(5,u=d.orient),"color"in d&&n(6,a=d.color),"strokeWidth"in d&&n(7,f=d.strokeWidth)},[i,o,r,l,s,u,a,f]}class og extends fe{constructor(e){super(),ae(this,e,ig,ng,ce,{id:0,type:1,width:2,height:3,markerUnits:4,orient:5,color:6,strokeWidth:7})}}function Tr(t,e,n){const i=t.slice();return i[14]=e[n],i}function Ir(t,e){let n,i,o;return i=new Uh({props:{id:e[14].id,source:e[14].source,target:e[14].target,data:e[14].data,style:e[14].style,animated:e[14].animated,selected:e[14].selected,selectable:e[14].selectable??e[1],deletable:e[14].deletable,hidden:e[14].hidden,label:e[14].label,labelStyle:e[14].labelStyle,markerStart:e[14].markerStart,markerEnd:e[14].markerEnd,sourceHandle:e[14].sourceHandle,targetHandle:e[14].targetHandle,sourceX:e[14].sourceX,sourceY:e[14].sourceY,targetX:e[14].targetX,targetY:e[14].targetY,sourcePosition:e[14].sourcePosition,targetPosition:e[14].targetPosition,ariaLabel:e[14].ariaLabel,interactionWidth:e[14].interactionWidth,class:e[14].class,type:e[14].type||"default",zIndex:e[14].zIndex}}),i.$on("edgeclick",e[7]),i.$on("edgecontextmenu",e[8]),i.$on("edgemouseenter",e[9]),i.$on("edgemouseleave",e[10]),{key:t,first:null,c(){n=De(),te(i.$$.fragment),this.first=n},m(r,l){G(r,n,l),x(i,r,l),o=!0},p(r,l){e=r;const s={};l&1&&(s.id=e[14].id),l&1&&(s.source=e[14].source),l&1&&(s.target=e[14].target),l&1&&(s.data=e[14].data),l&1&&(s.style=e[14].style),l&1&&(s.animated=e[14].animated),l&1&&(s.selected=e[14].selected),l&3&&(s.selectable=e[14].selectable??e[1]),l&1&&(s.deletable=e[14].deletable),l&1&&(s.hidden=e[14].hidden),l&1&&(s.label=e[14].label),l&1&&(s.labelStyle=e[14].labelStyle),l&1&&(s.markerStart=e[14].markerStart),l&1&&(s.markerEnd=e[14].markerEnd),l&1&&(s.sourceHandle=e[14].sourceHandle),l&1&&(s.targetHandle=e[14].targetHandle),l&1&&(s.sourceX=e[14].sourceX),l&1&&(s.sourceY=e[14].sourceY),l&1&&(s.targetX=e[14].targetX),l&1&&(s.targetY=e[14].targetY),l&1&&(s.sourcePosition=e[14].sourcePosition),l&1&&(s.targetPosition=e[14].targetPosition),l&1&&(s.ariaLabel=e[14].ariaLabel),l&1&&(s.interactionWidth=e[14].interactionWidth),l&1&&(s.class=e[14].class),l&1&&(s.type=e[14].type||"default"),l&1&&(s.zIndex=e[14].zIndex),i.$set(s)},i(r){o||(R(i.$$.fragment,r),o=!0)},o(r){X(i.$$.fragment,r),o=!1},d(r){r&&Z(n),$(i,r)}}}function Ar(t){let e,n;return e=new Qh({props:{onMount:t[11],onDestroy:t[12]}}),{c(){te(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},p(i,o){const r={};o&4&&(r.onMount=i[11]),o&4&&(r.onDestroy=i[12]),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){$(e,i)}}}function rg(t){let e,n,i,o,r=[],l=new Map,s,u;i=new $h({});let a=rt(t[0]);const f=c=>c[14].id;for(let c=0;c<a.length;c+=1){let h=Tr(t,a,c),y=f(h);l.set(y,r[c]=Ir(y,h))}let d=t[0].length>0&&Ar(t);return{c(){e=he("div"),n=ke("svg"),te(i.$$.fragment),o=pe();for(let c=0;c<r.length;c+=1)r[c].c();s=pe(),d&&d.c(),_(n,"class","svelte-flow__marker"),_(e,"class","svelte-flow__edges")},m(c,h){G(c,e,h),oe(e,n),x(i,n,null),oe(e,o);for(let y=0;y<r.length;y+=1)r[y]&&r[y].m(e,null);oe(e,s),d&&d.m(e,null),u=!0},p(c,[h]){h&3&&(a=rt(c[0]),Te(),r=hn(r,h,f,1,c,a,l,e,dn,Ir,s,Tr),Ie()),c[0].length>0?d?(d.p(c,h),h&1&&R(d,1)):(d=Ar(c),d.c(),R(d,1),d.m(e,null)):d&&(Te(),X(d,1,1,()=>{d=null}),Ie())},i(c){if(!u){R(i.$$.fragment,c);for(let h=0;h<a.length;h+=1)R(r[h]);R(d),u=!0}},o(c){X(i.$$.fragment,c);for(let h=0;h<r.length;h+=1)X(r[h]);X(d),u=!1},d(c){c&&Z(e),$(i);for(let h=0;h<r.length;h+=1)r[h].d();d&&d.d()}}}function lg(t,e,n){let i,o,r,{defaultEdgeOptions:l}=e;const{visibleEdges:s,edgesInitialized:u,edges:{setDefaultOptions:a},elementsSelectable:f}=Ae();Q(t,s,g=>n(0,i=g)),Q(t,u,g=>n(2,r=g)),Q(t,f,g=>n(1,o=g)),pn(()=>{l&&a(l)});function d(g){Se.call(this,t,g)}function c(g){Se.call(this,t,g)}function h(g){Se.call(this,t,g)}function y(g){Se.call(this,t,g)}const m=()=>{ci(u,r=!0,r)},b=()=>{ci(u,r=!1,r)};return t.$$set=g=>{"defaultEdgeOptions"in g&&n(6,l=g.defaultEdgeOptions)},[i,o,r,s,u,f,l,d,c,h,y,m,b]}class sg extends fe{constructor(e){super(),ae(this,e,lg,rg,ce,{defaultEdgeOptions:6})}}function Dr(t){let e;return{c(){e=he("div"),_(e,"class","svelte-flow__selection svelte-1iugwpu"),le(e,"width",typeof t[2]=="string"?t[2]:`${t[2]}px`),le(e,"height",typeof t[3]=="string"?t[3]:`${t[3]}px`),le(e,"transform",`translate(${t[0]}px, ${t[1]}px)`)},m(n,i){G(n,e,i)},p(n,i){i&4&&le(e,"width",typeof n[2]=="string"?n[2]:`${n[2]}px`),i&8&&le(e,"height",typeof n[3]=="string"?n[3]:`${n[3]}px`),i&3&&le(e,"transform",`translate(${n[0]}px, ${n[1]}px)`)},d(n){n&&Z(e)}}}function ug(t){let e,n=t[4]&&Dr(t);return{c(){n&&n.c(),e=De()},m(i,o){n&&n.m(i,o),G(i,e,o)},p(i,[o]){i[4]?n?n.p(i,o):(n=Dr(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:me,o:me,d(i){i&&Z(e),n&&n.d(i)}}}function ag(t,e,n){let{x:i=0}=e,{y:o=0}=e,{width:r=0}=e,{height:l=0}=e,{isVisible:s=!0}=e;return t.$$set=u=>{"x"in u&&n(0,i=u.x),"y"in u&&n(1,o=u.y),"width"in u&&n(2,r=u.width),"height"in u&&n(3,l=u.height),"isVisible"in u&&n(4,s=u.isVisible)},[i,o,r,l,s]}class bs extends fe{constructor(e){super(),ae(this,e,ag,ug,ce,{x:0,y:1,width:2,height:3,isVisible:4})}}function fg(t){var i,o,r,l;let e,n;return e=new bs({props:{isVisible:!!(t[0]&&t[1]==="user"),width:(i=t[0])==null?void 0:i.width,height:(o=t[0])==null?void 0:o.height,x:(r=t[0])==null?void 0:r.x,y:(l=t[0])==null?void 0:l.y}}),{c(){te(e.$$.fragment)},m(s,u){x(e,s,u),n=!0},p(s,[u]){var f,d,c,h;const a={};u&3&&(a.isVisible=!!(s[0]&&s[1]==="user")),u&1&&(a.width=(f=s[0])==null?void 0:f.width),u&1&&(a.height=(d=s[0])==null?void 0:d.height),u&1&&(a.x=(c=s[0])==null?void 0:c.x),u&1&&(a.y=(h=s[0])==null?void 0:h.y),e.$set(a)},i(s){n||(R(e.$$.fragment,s),n=!0)},o(s){X(e.$$.fragment,s),n=!1},d(s){$(e,s)}}}function cg(t,e,n){let i,o;const{selectionRect:r,selectionRectMode:l}=Ae();return Q(t,r,s=>n(0,i=s)),Q(t,l,s=>n(1,o=s)),[i,o,r,l]}class dg extends fe{constructor(e){super(),ae(this,e,cg,fg,ce,{})}}function Rr(t){let e,n,i,o,r;return n=new bs({props:{width:"100%",height:"100%",x:0,y:0}}),{c(){e=he("div"),te(n.$$.fragment),_(e,"class","selection-wrapper nopan svelte-5pxri"),le(e,"width",t[1].width+"px"),le(e,"height",t[1].height+"px"),le(e,"transform","translate("+t[1].x+"px, "+t[1].y+"px)"),_(e,"role","button"),_(e,"tabindex","-1")},m(l,s){G(l,e,s),x(n,e,null),i=!0,o||(r=[qe(_s.call(null,e,{disabled:!1,store:t[2],onDrag:t[11],onDragStart:t[12],onDragStop:t[13]})),Ce(e,"contextmenu",t[7]),Ce(e,"click",t[8]),Ce(e,"keyup",gg)],o=!0)},p(l,s){(!i||s&2)&&le(e,"width",l[1].width+"px"),(!i||s&2)&&le(e,"height",l[1].height+"px"),(!i||s&2)&&le(e,"transform","translate("+l[1].x+"px, "+l[1].y+"px)")},i(l){i||(R(n.$$.fragment,l),i=!0)},o(l){X(n.$$.fragment,l),i=!1},d(l){l&&Z(e),$(n),o=!1,Ue(r)}}}function hg(t){let e=t[0]==="nodes"&&t[1]&&ut(t[1].x)&&ut(t[1].y),n,i,o=e&&Rr(t);return{c(){o&&o.c(),n=De()},m(r,l){o&&o.m(r,l),G(r,n,l),i=!0},p(r,[l]){l&3&&(e=r[0]==="nodes"&&r[1]&&ut(r[1].x)&&ut(r[1].y)),e?o?(o.p(r,l),l&3&&R(o,1)):(o=Rr(r),o.c(),R(o,1),o.m(n.parentNode,n)):o&&(Te(),X(o,1,1,()=>{o=null}),Ie())},i(r){i||(R(o),i=!0)},o(r){X(o),i=!1},d(r){r&&Z(n),o&&o.d(r)}}}const gg=()=>{};function mg(t,e,n){let i,o,r;const l=Ae(),{selectionRectMode:s,nodes:u,nodeLookup:a}=l;Q(t,s,g=>n(0,r=g)),Q(t,u,g=>n(9,i=g)),Q(t,a,g=>n(10,o=g));const f=Hi();let d=null;function c(g){const C=i.filter(k=>k.selected);f("selectioncontextmenu",{nodes:C,event:g})}function h(g){const C=i.filter(k=>k.selected);f("selectionclick",{nodes:C,event:g})}const y=(g,C,k,S)=>{f("nodedrag",{event:g,targetNode:null,nodes:S})},m=(g,C,k,S)=>{f("nodedragstart",{event:g,targetNode:null,nodes:S})},b=(g,C,k,S)=>{f("nodedragstop",{event:g,targetNode:null,nodes:S})};return t.$$.update=()=>{t.$$.dirty&1537&&r==="nodes"&&n(1,d=Fn(o,{filter:g=>!!g.selected}))},[r,d,l,s,u,a,f,c,h,i,o,y,m,b]}class yg extends fe{constructor(e){super(),ae(this,e,mg,hg,ce,{})}}function ft(t,e){let{enabled:n=!0,trigger:i,type:o="keydown"}=e;function r(l){const s=Array.isArray(i)?i:[i],u={alt:l.altKey,ctrl:l.ctrlKey,shift:l.shiftKey,meta:l.metaKey};for(const a of s){const f={modifier:[],preventDefault:!1,enabled:!0,...a},{modifier:d,key:c,callback:h,preventDefault:y,enabled:m}=f;if(m){if(d.length&&!(Array.isArray(d)?d:[d]).map(C=>typeof C=="string"?[C]:C).some(C=>C.every(k=>u[k])))continue;if(l.key===c){y&&l.preventDefault();const b={node:t,trigger:f,originalEvent:l};t.dispatchEvent(new CustomEvent("shortcut",{detail:b})),h==null||h(b)}}}}return n&&t.addEventListener(o,r),{update:l=>{const{enabled:s=!0,type:u="keydown"}=l;n&&(!s||o!==u)?t.removeEventListener(o,r):!n&&s&&t.addEventListener(u,r),n=s,o=u,i=l.trigger},destroy:()=>{t.removeEventListener(o,r)}}}function _g(t){let e,n,i,o,r,l,s,u,a,f,d,c;return{c:me,m(h,y){d||(c=[qe(e=ft.call(null,window,{trigger:Re(t[0],t[11]),type:"keydown"})),qe(n=ft.call(null,window,{trigger:Re(t[0],t[12]),type:"keyup"})),qe(i=ft.call(null,window,{trigger:Re(t[1],t[13]),type:"keydown"})),qe(o=ft.call(null,window,{trigger:Re(t[1],t[14]),type:"keyup"})),qe(r=ft.call(null,window,{trigger:Re(t[2],t[15]),type:"keydown"})),qe(l=ft.call(null,window,{trigger:Re(t[2],t[16]),type:"keyup"})),qe(s=ft.call(null,window,{trigger:Re(t[3],t[17]),type:"keydown"})),qe(u=ft.call(null,window,{trigger:Re(t[3],t[18]),type:"keyup"})),qe(a=ft.call(null,window,{trigger:Re(t[4],t[19]),type:"keydown"})),qe(f=ft.call(null,window,{trigger:Re(t[4],t[20]),type:"keyup"})),Ce(window,"blur",t[10]),Ce(window,"contextmenu",t[10])],d=!0)},p(h,[y]){e&&He(e.update)&&y&1&&e.update.call(null,{trigger:Re(h[0],h[11]),type:"keydown"}),n&&He(n.update)&&y&1&&n.update.call(null,{trigger:Re(h[0],h[12]),type:"keyup"}),i&&He(i.update)&&y&2&&i.update.call(null,{trigger:Re(h[1],h[13]),type:"keydown"}),o&&He(o.update)&&y&2&&o.update.call(null,{trigger:Re(h[1],h[14]),type:"keyup"}),r&&He(r.update)&&y&4&&r.update.call(null,{trigger:Re(h[2],h[15]),type:"keydown"}),l&&He(l.update)&&y&4&&l.update.call(null,{trigger:Re(h[2],h[16]),type:"keyup"}),s&&He(s.update)&&y&8&&s.update.call(null,{trigger:Re(h[3],h[17]),type:"keydown"}),u&&He(u.update)&&y&8&&u.update.call(null,{trigger:Re(h[3],h[18]),type:"keyup"}),a&&He(a.update)&&y&16&&a.update.call(null,{trigger:Re(h[4],h[19]),type:"keydown"}),f&&He(f.update)&&y&16&&f.update.call(null,{trigger:Re(h[4],h[20]),type:"keyup"})},i:me,o:me,d(h){d=!1,Ue(c)}}}function ws(t){return t!==null&&typeof t=="object"}function bg(t){return ws(t)?t.modifier||[]:[]}function wg(t){return t==null?"":ws(t)?t.key:t}function Re(t,e){return(Array.isArray(t)?t:[t]).map(i=>{const o=wg(i);return{key:o,modifier:bg(i),enabled:o!==null,callback:e}})}function kg(t,e,n){let{selectionKey:i="Shift"}=e,{multiSelectionKey:o=Si()?"Meta":"Control"}=e,{deleteKey:r="Backspace"}=e,{panActivationKey:l=" "}=e,{zoomActivationKey:s=Si()?"Meta":"Control"}=e;const{selectionKeyPressed:u,multiselectionKeyPressed:a,deleteKeyPressed:f,panActivationKeyPressed:d,zoomActivationKeyPressed:c,selectionRect:h}=Ae();function y(){h.set(null),u.set(!1),a.set(!1),f.set(!1),d.set(!1),c.set(!1)}const m=()=>u.set(!0),b=()=>u.set(!1),g=()=>a.set(!0),C=()=>a.set(!1),k=z=>{!(z.originalEvent.ctrlKey||z.originalEvent.metaKey||z.originalEvent.shiftKey)&&!Jc(z.originalEvent)&&f.set(!0)},S=()=>f.set(!1),N=()=>d.set(!0),T=()=>d.set(!1),v=()=>c.set(!0),E=()=>c.set(!1);return t.$$set=z=>{"selectionKey"in z&&n(0,i=z.selectionKey),"multiSelectionKey"in z&&n(1,o=z.multiSelectionKey),"deleteKey"in z&&n(2,r=z.deleteKey),"panActivationKey"in z&&n(3,l=z.panActivationKey),"zoomActivationKey"in z&&n(4,s=z.zoomActivationKey)},[i,o,r,l,s,u,a,f,d,c,y,m,b,g,C,k,S,N,T,v,E]}class vg extends fe{constructor(e){super(),ae(this,e,kg,_g,ce,{selectionKey:0,multiSelectionKey:1,deleteKey:2,panActivationKey:3,zoomActivationKey:4})}}const pg=t=>({}),Lr=t=>({});function Vr(t){let e,n,i,o;const r=t[13].connectionLine,l=We(r,t,t[12],Lr);let s=!t[2]&&Xr(t);return{c(){e=ke("svg"),n=ke("g"),l&&l.c(),s&&s.c(),_(n,"class",i=Me(["svelte-flow__connection",sr(t[3].isValid)])),_(e,"width",t[5]),_(e,"height",t[6]),_(e,"class","svelte-flow__connectionline"),_(e,"style",t[0])},m(u,a){G(u,e,a),oe(e,n),l&&l.m(n,null),s&&s.m(n,null),o=!0},p(u,a){l&&l.p&&(!o||a&4096)&&Be(l,r,u,u[12],o?Ye(r,u[12],a,pg):Ke(u[12]),Lr),u[2]?s&&(s.d(1),s=null):s?s.p(u,a):(s=Xr(u),s.c(),s.m(n,null)),(!o||a&8&&i!==(i=Me(["svelte-flow__connection",sr(u[3].isValid)])))&&_(n,"class",i),(!o||a&32)&&_(e,"width",u[5]),(!o||a&64)&&_(e,"height",u[6]),(!o||a&1)&&_(e,"style",u[0])},i(u){o||(R(l,u),o=!0)},o(u){X(l,u),o=!1},d(u){u&&Z(e),l&&l.d(u),s&&s.d()}}}function Xr(t){let e;return{c(){e=ke("path"),_(e,"d",t[4]),_(e,"style",t[1]),_(e,"fill","none"),_(e,"class","svelte-flow__connection-path")},m(n,i){G(n,e,i)},p(n,i){i&16&&_(e,"d",n[4]),i&2&&_(e,"style",n[1])},d(n){n&&Z(e)}}}function Cg(t){let e,n,i=t[3].inProgress&&Vr(t);return{c(){i&&i.c(),e=De()},m(o,r){i&&i.m(o,r),G(o,e,r),n=!0},p(o,[r]){o[3].inProgress?i?(i.p(o,r),r&8&&R(i,1)):(i=Vr(o),i.c(),R(i,1),i.m(e.parentNode,e)):i&&(Te(),X(i,1,1,()=>{i=null}),Ie())},i(o){n||(R(i),n=!0)},o(o){X(i),n=!1},d(o){o&&Z(e),i&&i.d(o)}}}function Sg(t,e,n){let i,o,r,l,{$$slots:s={},$$scope:u}=e,{containerStyle:a=""}=e,{style:f=""}=e,{isCustomComponent:d=!1}=e;const{width:c,height:h,connection:y,connectionLineType:m}=Ae();Q(t,c,g=>n(5,r=g)),Q(t,h,g=>n(6,l=g)),Q(t,y,g=>n(3,o=g)),Q(t,m,g=>n(11,i=g));let b=null;return t.$$set=g=>{"containerStyle"in g&&n(0,a=g.containerStyle),"style"in g&&n(1,f=g.style),"isCustomComponent"in g&&n(2,d=g.isCustomComponent),"$$scope"in g&&n(12,u=g.$$scope)},t.$$.update=()=>{if(t.$$.dirty&2060&&o.inProgress&&!d){const{from:g,to:C,fromPosition:k,toPosition:S}=o,N={sourceX:g.x,sourceY:g.y,sourcePosition:k,targetX:C.x,targetY:C.y,targetPosition:S};switch(i){case un.Bezier:n(4,[b]=Mo(N),b);break;case un.Step:n(4,[b]=zi({...N,borderRadius:0}),b);break;case un.SmoothStep:n(4,[b]=zi(N),b);break;default:n(4,[b]=xl(N),b)}}},[a,f,d,o,b,r,l,c,h,y,m,i,u,s]}class Eg extends fe{constructor(e){super(),ae(this,e,Sg,Cg,ce,{containerStyle:0,style:1,isCustomComponent:2})}}function zg(t){let e,n,i;const o=t[8].default,r=We(o,t,t[7],null);let l=[{class:n=Me(["svelte-flow__panel",t[1],...t[2]])},{style:t[0]},t[5]],s={};for(let u=0;u<l.length;u+=1)s=ve(s,l[u]);return{c(){e=he("div"),r&&r.c(),cn(e,s),le(e,"pointer-events",t[3]?"none":"")},m(u,a){G(u,e,a),r&&r.m(e,null),i=!0},p(u,[a]){r&&r.p&&(!i||a&128)&&Be(r,o,u,u[7],i?Ye(o,u[7],a,null):Ke(u[7]),null),cn(e,s=Ct(l,[(!i||a&6&&n!==(n=Me(["svelte-flow__panel",u[1],...u[2]])))&&{class:n},(!i||a&1)&&{style:u[0]},a&32&&u[5]])),le(e,"pointer-events",u[3]?"none":"")},i(u){i||(R(r,u),i=!0)},o(u){X(r,u),i=!1},d(u){u&&Z(e),r&&r.d(u)}}}function Mg(t,e,n){let i;const o=["position","style","class"];let r=Ee(e,o),l,{$$slots:s={},$$scope:u}=e,{position:a="top-right"}=e,{style:f=void 0}=e,{class:d=void 0}=e;const{selectionRectMode:c}=Ae();return Q(t,c,h=>n(3,l=h)),t.$$set=h=>{e=ve(ve({},e),Ve(h)),n(5,r=Ee(e,o)),"position"in h&&n(6,a=h.position),"style"in h&&n(0,f=h.style),"class"in h&&n(1,d=h.class),"$$scope"in h&&n(7,u=h.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,i=`${a}`.split("-"))},[f,d,i,l,c,r,a,u,s]}class Ho extends fe{constructor(e){super(),ae(this,e,Mg,zg,ce,{position:6,style:0,class:1})}}function Wr(t){let e,n;return e=new Ho({props:{position:t[1],class:"svelte-flow__attribution","data-message":"Feel free to remove the attribution or check out how you could support us: https://svelteflow.dev/support-us",$$slots:{default:[Pg]},$$scope:{ctx:t}}}),{c(){te(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},p(i,o){const r={};o&2&&(r.position=i[1]),o&4&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){$(e,i)}}}function Pg(t){let e;return{c(){e=he("a"),e.textContent="Svelte Flow",_(e,"href","https://svelteflow.dev"),_(e,"target","_blank"),_(e,"rel","noopener noreferrer"),_(e,"aria-label","Svelte Flow attribution")},m(n,i){G(n,e,i)},p:me,d(n){n&&Z(e)}}}function Og(t){var o;let e,n,i=!((o=t[0])!=null&&o.hideAttribution)&&Wr(t);return{c(){i&&i.c(),e=De()},m(r,l){i&&i.m(r,l),G(r,e,l),n=!0},p(r,[l]){var s;(s=r[0])!=null&&s.hideAttribution?i&&(Te(),X(i,1,1,()=>{i=null}),Ie()):i?(i.p(r,l),l&1&&R(i,1)):(i=Wr(r),i.c(),R(i,1),i.m(e.parentNode,e))},i(r){n||(R(i),n=!0)},o(r){X(i),n=!1},d(r){r&&Z(e),i&&i.d(r)}}}function Ng(t,e,n){let{proOptions:i=void 0}=e,{position:o="bottom-right"}=e;return t.$$set=r=>{"proOptions"in r&&n(0,i=r.proOptions),"position"in r&&n(1,o=r.position)},[i,o]}class Hg extends fe{constructor(e){super(),ae(this,e,Ng,Og,ce,{proOptions:0,position:1})}}function Yr(t,{nodeTypes:e,edgeTypes:n,minZoom:i,maxZoom:o,translateExtent:r,paneClickDistance:l}){e!==void 0&&t.setNodeTypes(e),n!==void 0&&t.setEdgeTypes(n),i!==void 0&&t.setMinZoom(i),o!==void 0&&t.setMaxZoom(o),r!==void 0&&t.setTranslateExtent(r),l!==void 0&&t.setPaneClickDistance(l)}const Tg=t=>Object.keys(t);function Ig(t,e){Tg(e).forEach(n=>{const i=e[n];i!==void 0&&t[n].set(i)})}function Ag(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function Dg(t="light"){return it("light",n=>{if(t!=="system"){n(t);return}const i=Ag(),o=()=>n(i!=null&&i.matches?"dark":"light");return n(i!=null&&i.matches?"dark":"light"),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}})}const Rg=t=>({}),Br=t=>({slot:"connectionLine"});function Lg(t){let e;const n=t[75].connectionLine,i=We(n,t,t[99],Br);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,r){i&&i.p&&(!e||r[3]&64)&&Be(i,n,o,o[99],e?Ye(n,o[99],r,Rg):Ke(o[99]),Br)},i(o){e||(R(i,o),e=!0)},o(o){X(i,o),e=!1},d(o){i&&i.d(o)}}}function Vg(t){let e,n,i,o,r,l,s,u,a,f,d,c;return e=new sg({props:{defaultEdgeOptions:t[21]}}),e.$on("edgeclick",t[78]),e.$on("edgecontextmenu",t[79]),e.$on("edgemouseenter",t[80]),e.$on("edgemouseleave",t[81]),i=new Eg({props:{containerStyle:t[7],style:t[6],isCustomComponent:t[34].connectionLine,$$slots:{connectionLine:[Lg]},$$scope:{ctx:t}}}),a=new Zh({props:{nodeClickDistance:t[23]}}),a.$on("nodeclick",t[82]),a.$on("nodemouseenter",t[83]),a.$on("nodemousemove",t[84]),a.$on("nodemouseleave",t[85]),a.$on("nodedragstart",t[86]),a.$on("nodedrag",t[87]),a.$on("nodedragstop",t[88]),a.$on("nodecontextmenu",t[89]),d=new yg({}),d.$on("selectionclick",t[90]),d.$on("selectioncontextmenu",t[91]),d.$on("nodedragstart",t[92]),d.$on("nodedrag",t[93]),d.$on("nodedragstop",t[94]),{c(){te(e.$$.fragment),n=pe(),te(i.$$.fragment),o=pe(),r=he("div"),l=pe(),s=he("div"),u=pe(),te(a.$$.fragment),f=pe(),te(d.$$.fragment),_(r,"class","svelte-flow__edgelabel-renderer"),_(s,"class","svelte-flow__viewport-portal")},m(h,y){x(e,h,y),G(h,n,y),x(i,h,y),G(h,o,y),G(h,r,y),G(h,l,y),G(h,s,y),G(h,u,y),x(a,h,y),G(h,f,y),x(d,h,y),c=!0},p(h,y){const m={};y[0]&2097152&&(m.defaultEdgeOptions=h[21]),e.$set(m);const b={};y[0]&128&&(b.containerStyle=h[7]),y[0]&64&&(b.style=h[6]),y[1]&8&&(b.isCustomComponent=h[34].connectionLine),y[3]&64&&(b.$$scope={dirty:y,ctx:h}),i.$set(b);const g={};y[0]&8388608&&(g.nodeClickDistance=h[23]),a.$set(g)},i(h){c||(R(e.$$.fragment,h),R(i.$$.fragment,h),R(a.$$.fragment,h),R(d.$$.fragment,h),c=!0)},o(h){X(e.$$.fragment,h),X(i.$$.fragment,h),X(a.$$.fragment,h),X(d.$$.fragment,h),c=!1},d(h){h&&(Z(n),Z(o),Z(r),Z(l),Z(s),Z(u),Z(f)),$(e,h),$(i,h),$(a,h),$(d,h)}}}function Xg(t){let e,n,i,o;return e=new Lh({props:{$$slots:{default:[Vg]},$$scope:{ctx:t}}}),i=new dg({}),{c(){te(e.$$.fragment),n=pe(),te(i.$$.fragment)},m(r,l){x(e,r,l),G(r,n,l),x(i,r,l),o=!0},p(r,l){const s={};l[0]&10485952|l[1]&8|l[3]&64&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(r){o||(R(e.$$.fragment,r),R(i.$$.fragment,r),o=!0)},o(r){X(e.$$.fragment,r),X(i.$$.fragment,r),o=!1},d(r){r&&Z(n),$(e,r),$(i,r)}}}function Wg(t){let e,n;return e=new Ah({props:{panOnDrag:t[17]===void 0?!0:t[17],selectionOnDrag:t[18],$$slots:{default:[Xg]},$$scope:{ctx:t}}}),e.$on("paneclick",t[95]),e.$on("panecontextmenu",t[96]),{c(){te(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},p(i,o){const r={};o[0]&131072&&(r.panOnDrag=i[17]===void 0?!0:i[17]),o[0]&262144&&(r.selectionOnDrag=i[18]),o[0]&10485952|o[1]&8|o[3]&64&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){$(e,i)}}}function Yg(t){let e,n,i,o,r,l,s,u,a,f,d,c;n=new vg({props:{selectionKey:t[1],deleteKey:t[5],panActivationKey:t[2],multiSelectionKey:t[3],zoomActivationKey:t[4]}}),o=new Hh({props:{initialViewport:t[31],onMoveStart:t[8],onMove:t[9],onMoveEnd:t[10],panOnScrollMode:t[11]===void 0?dt.Free:t[11],preventScrolling:t[12]===void 0?!0:t[12],zoomOnScroll:t[13]===void 0?!0:t[13],zoomOnDoubleClick:t[14]===void 0?!0:t[14],zoomOnPinch:t[15]===void 0?!0:t[15],panOnScroll:t[16]===void 0?!1:t[16],panOnDrag:t[17]===void 0?!0:t[17],paneClickDistance:t[22]===void 0?0:t[22],$$slots:{default:[Wg]},$$scope:{ctx:t}}}),l=new Hg({props:{proOptions:t[20],position:t[19]}});const h=t[75].default,y=We(h,t,t[99],null);let m=[{style:t[24]},{class:u=Me(["svelte-flow",t[25],t[30]])},{"data-testid":"svelte-flow__wrapper"},t[33],{role:"application"}],b={};for(let g=0;g<m.length;g+=1)b=ve(b,m[g]);return{c(){e=he("div"),te(n.$$.fragment),i=pe(),te(o.$$.fragment),r=pe(),te(l.$$.fragment),s=pe(),y&&y.c(),cn(e,b),hi(()=>t[98].call(e)),be(e,"svelte-12wlba6",!0)},m(g,C){G(g,e,C),x(n,e,null),oe(e,i),x(o,e,null),oe(e,r),x(l,e,null),oe(e,s),y&&y.m(e,null),t[97](e),a=eu(e,t[98].bind(e)),f=!0,d||(c=[Ce(e,"dragover",t[76]),Ce(e,"drop",t[77])],d=!0)},p(g,C){const k={};C[0]&2&&(k.selectionKey=g[1]),C[0]&32&&(k.deleteKey=g[5]),C[0]&4&&(k.panActivationKey=g[2]),C[0]&8&&(k.multiSelectionKey=g[3]),C[0]&16&&(k.zoomActivationKey=g[4]),n.$set(k);const S={};C[0]&256&&(S.onMoveStart=g[8]),C[0]&512&&(S.onMove=g[9]),C[0]&1024&&(S.onMoveEnd=g[10]),C[0]&2048&&(S.panOnScrollMode=g[11]===void 0?dt.Free:g[11]),C[0]&4096&&(S.preventScrolling=g[12]===void 0?!0:g[12]),C[0]&8192&&(S.zoomOnScroll=g[13]===void 0?!0:g[13]),C[0]&16384&&(S.zoomOnDoubleClick=g[14]===void 0?!0:g[14]),C[0]&32768&&(S.zoomOnPinch=g[15]===void 0?!0:g[15]),C[0]&65536&&(S.panOnScroll=g[16]===void 0?!1:g[16]),C[0]&131072&&(S.panOnDrag=g[17]===void 0?!0:g[17]),C[0]&4194304&&(S.paneClickDistance=g[22]===void 0?0:g[22]),C[0]&10879168|C[1]&8|C[3]&64&&(S.$$scope={dirty:C,ctx:g}),o.$set(S);const N={};C[0]&1048576&&(N.proOptions=g[20]),C[0]&524288&&(N.position=g[19]),l.$set(N),y&&y.p&&(!f||C[3]&64)&&Be(y,h,g,g[99],f?Ye(h,g[99],C,null):Ke(g[99]),null),cn(e,b=Ct(m,[(!f||C[0]&16777216)&&{style:g[24]},(!f||C[0]&1107296256&&u!==(u=Me(["svelte-flow",g[25],g[30]])))&&{class:u},{"data-testid":"svelte-flow__wrapper"},C[1]&4&&g[33],{role:"application"}])),be(e,"svelte-12wlba6",!0)},i(g){f||(R(n.$$.fragment,g),R(o.$$.fragment,g),R(l.$$.fragment,g),R(y,g),f=!0)},o(g){X(n.$$.fragment,g),X(o.$$.fragment,g),X(l.$$.fragment,g),X(y,g),f=!1},d(g){g&&Z(e),$(n),$(o),$(l),y&&y.d(g),t[97](null),a(),d=!1,Ue(c)}}}function Bg(t,e,n){let i;const o=["id","nodes","edges","fitView","fitViewOptions","minZoom","maxZoom","initialViewport","viewport","nodeTypes","edgeTypes","selectionKey","selectionMode","panActivationKey","multiSelectionKey","zoomActivationKey","nodesDraggable","nodesConnectable","nodeDragThreshold","elementsSelectable","snapGrid","deleteKey","connectionRadius","connectionLineType","connectionMode","connectionLineStyle","connectionLineContainerStyle","onMoveStart","onMove","onMoveEnd","isValidConnection","translateExtent","nodeExtent","onlyRenderVisibleElements","panOnScrollMode","preventScrolling","zoomOnScroll","zoomOnDoubleClick","zoomOnPinch","panOnScroll","panOnDrag","selectionOnDrag","autoPanOnConnect","autoPanOnNodeDrag","onerror","ondelete","onedgecreate","attributionPosition","proOptions","defaultEdgeOptions","width","height","colorMode","onconnect","onconnectstart","onconnectend","onbeforedelete","oninit","nodeOrigin","paneClickDistance","nodeClickDistance","defaultMarkerColor","style","class"];let r=Ee(e,o),l,s,u=me,a=()=>(u(),u=On(E,O=>n(100,s=O)),E),f,d=me,c=()=>(d(),d=On(i,O=>n(30,f=O)),i);t.$$.on_destroy.push(()=>u()),t.$$.on_destroy.push(()=>d());let{$$slots:h={},$$scope:y}=e;const m=Js(h);let{id:b="1"}=e,{nodes:g}=e,{edges:C}=e,{fitView:k=void 0}=e,{fitViewOptions:S=void 0}=e,{minZoom:N=void 0}=e,{maxZoom:T=void 0}=e,{initialViewport:v=void 0}=e,{viewport:E=void 0}=e;a();let{nodeTypes:z=void 0}=e,{edgeTypes:A=void 0}=e,{selectionKey:W=void 0}=e,{selectionMode:B=void 0}=e,{panActivationKey:F=void 0}=e,{multiSelectionKey:w=void 0}=e,{zoomActivationKey:L=void 0}=e,{nodesDraggable:p=void 0}=e,{nodesConnectable:M=void 0}=e,{nodeDragThreshold:I=void 0}=e,{elementsSelectable:P=void 0}=e,{snapGrid:Y=void 0}=e,{deleteKey:U=void 0}=e,{connectionRadius:j=void 0}=e,{connectionLineType:ie=void 0}=e,{connectionMode:V=Kt.Strict}=e,{connectionLineStyle:ne=""}=e,{connectionLineContainerStyle:re=""}=e,{onMoveStart:D=void 0}=e,{onMove:de=void 0}=e,{onMoveEnd:H=void 0}=e,{isValidConnection:ee=void 0}=e,{translateExtent:ye=void 0}=e,{nodeExtent:we=void 0}=e,{onlyRenderVisibleElements:ze=void 0}=e,{panOnScrollMode:q=dt.Free}=e,{preventScrolling:Ne=!0}=e,{zoomOnScroll:Pe=!0}=e,{zoomOnDoubleClick:tt=!0}=e,{zoomOnPinch:xe=!0}=e,{panOnScroll:yt=!1}=e,{panOnDrag:Xe=!0}=e,{selectionOnDrag:_t=void 0}=e,{autoPanOnConnect:ue=!0}=e,{autoPanOnNodeDrag:zt=!0}=e,{onerror:Mt=void 0}=e,{ondelete:J=void 0}=e,{onedgecreate:Pt=void 0}=e,{attributionPosition:Fe=void 0}=e,{proOptions:Je=void 0}=e,{defaultEdgeOptions:se=void 0}=e,{width:bt=void 0}=e,{height:Qe=void 0}=e,{colorMode:Ze="light"}=e,{onconnect:Zt=void 0}=e,{onconnectstart:Gt=void 0}=e,{onconnectend:qt=void 0}=e,{onbeforedelete:Ut=void 0}=e,{oninit:Ot=void 0}=e,{nodeOrigin:Dt=void 0}=e,{paneClickDistance:qn=0}=e,{nodeClickDistance:Ao=0}=e,{defaultMarkerColor:Yi="#b1b1b7"}=e,{style:Do=void 0}=e,{class:Ro=void 0}=e,Un,Jt,Qt;const ps=s||v,Ge=nu(Wi)?Ae():Mh({nodes:K(g),edges:K(C),width:bt,height:Qe,fitView:k,nodeOrigin:Dt,nodeExtent:we});pn(()=>(Ge.width.set(Jt),Ge.height.set(Qt),Ge.domNode.set(Un),Ge.syncNodeStores(g),Ge.syncEdgeStores(C),Ge.syncViewport(E),k!==void 0&&Ge.fitViewOnInit.set(k),S&&Ge.fitViewOptions.set(S),Yr(Ge,{nodeTypes:z,edgeTypes:A,minZoom:N,maxZoom:T,translateExtent:ye,paneClickDistance:qn}),()=>{Ge.reset()}));const{initialized:Lo}=Ge;Q(t,Lo,O=>n(74,l=O));let Bi=!1;function Cs(O){Se.call(this,t,O)}function Ss(O){Se.call(this,t,O)}function Es(O){Se.call(this,t,O)}function zs(O){Se.call(this,t,O)}function Ms(O){Se.call(this,t,O)}function Ps(O){Se.call(this,t,O)}function Os(O){Se.call(this,t,O)}function Ns(O){Se.call(this,t,O)}function Hs(O){Se.call(this,t,O)}function Ts(O){Se.call(this,t,O)}function Is(O){Se.call(this,t,O)}function As(O){Se.call(this,t,O)}function Ds(O){Se.call(this,t,O)}function Rs(O){Se.call(this,t,O)}function Ls(O){Se.call(this,t,O)}function Vs(O){Se.call(this,t,O)}function Xs(O){Se.call(this,t,O)}function Ws(O){Se.call(this,t,O)}function Ys(O){Se.call(this,t,O)}function Bs(O){Se.call(this,t,O)}function Ks(O){Se.call(this,t,O)}function Fs(O){Yt[O?"unshift":"push"](()=>{Un=O,n(28,Un)})}function Zs(){Jt=this.clientWidth,Qt=this.clientHeight,n(26,Jt),n(27,Qt)}return t.$$set=O=>{e=ve(ve({},e),Ve(O)),n(33,r=Ee(e,o)),"id"in O&&n(35,b=O.id),"nodes"in O&&n(36,g=O.nodes),"edges"in O&&n(37,C=O.edges),"fitView"in O&&n(38,k=O.fitView),"fitViewOptions"in O&&n(39,S=O.fitViewOptions),"minZoom"in O&&n(40,N=O.minZoom),"maxZoom"in O&&n(41,T=O.maxZoom),"initialViewport"in O&&n(42,v=O.initialViewport),"viewport"in O&&a(n(0,E=O.viewport)),"nodeTypes"in O&&n(43,z=O.nodeTypes),"edgeTypes"in O&&n(44,A=O.edgeTypes),"selectionKey"in O&&n(1,W=O.selectionKey),"selectionMode"in O&&n(45,B=O.selectionMode),"panActivationKey"in O&&n(2,F=O.panActivationKey),"multiSelectionKey"in O&&n(3,w=O.multiSelectionKey),"zoomActivationKey"in O&&n(4,L=O.zoomActivationKey),"nodesDraggable"in O&&n(46,p=O.nodesDraggable),"nodesConnectable"in O&&n(47,M=O.nodesConnectable),"nodeDragThreshold"in O&&n(48,I=O.nodeDragThreshold),"elementsSelectable"in O&&n(49,P=O.elementsSelectable),"snapGrid"in O&&n(50,Y=O.snapGrid),"deleteKey"in O&&n(5,U=O.deleteKey),"connectionRadius"in O&&n(51,j=O.connectionRadius),"connectionLineType"in O&&n(52,ie=O.connectionLineType),"connectionMode"in O&&n(53,V=O.connectionMode),"connectionLineStyle"in O&&n(6,ne=O.connectionLineStyle),"connectionLineContainerStyle"in O&&n(7,re=O.connectionLineContainerStyle),"onMoveStart"in O&&n(8,D=O.onMoveStart),"onMove"in O&&n(9,de=O.onMove),"onMoveEnd"in O&&n(10,H=O.onMoveEnd),"isValidConnection"in O&&n(54,ee=O.isValidConnection),"translateExtent"in O&&n(55,ye=O.translateExtent),"nodeExtent"in O&&n(56,we=O.nodeExtent),"onlyRenderVisibleElements"in O&&n(57,ze=O.onlyRenderVisibleElements),"panOnScrollMode"in O&&n(11,q=O.panOnScrollMode),"preventScrolling"in O&&n(12,Ne=O.preventScrolling),"zoomOnScroll"in O&&n(13,Pe=O.zoomOnScroll),"zoomOnDoubleClick"in O&&n(14,tt=O.zoomOnDoubleClick),"zoomOnPinch"in O&&n(15,xe=O.zoomOnPinch),"panOnScroll"in O&&n(16,yt=O.panOnScroll),"panOnDrag"in O&&n(17,Xe=O.panOnDrag),"selectionOnDrag"in O&&n(18,_t=O.selectionOnDrag),"autoPanOnConnect"in O&&n(58,ue=O.autoPanOnConnect),"autoPanOnNodeDrag"in O&&n(59,zt=O.autoPanOnNodeDrag),"onerror"in O&&n(60,Mt=O.onerror),"ondelete"in O&&n(61,J=O.ondelete),"onedgecreate"in O&&n(62,Pt=O.onedgecreate),"attributionPosition"in O&&n(19,Fe=O.attributionPosition),"proOptions"in O&&n(20,Je=O.proOptions),"defaultEdgeOptions"in O&&n(21,se=O.defaultEdgeOptions),"width"in O&&n(63,bt=O.width),"height"in O&&n(64,Qe=O.height),"colorMode"in O&&n(65,Ze=O.colorMode),"onconnect"in O&&n(66,Zt=O.onconnect),"onconnectstart"in O&&n(67,Gt=O.onconnectstart),"onconnectend"in O&&n(68,qt=O.onconnectend),"onbeforedelete"in O&&n(69,Ut=O.onbeforedelete),"oninit"in O&&n(70,Ot=O.oninit),"nodeOrigin"in O&&n(71,Dt=O.nodeOrigin),"paneClickDistance"in O&&n(22,qn=O.paneClickDistance),"nodeClickDistance"in O&&n(23,Ao=O.nodeClickDistance),"defaultMarkerColor"in O&&n(72,Yi=O.defaultMarkerColor),"style"in O&&n(24,Do=O.style),"class"in O&&n(25,Ro=O.class),"$$scope"in O&&n(99,y=O.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&201326592&&Jt!==void 0&&Qt!==void 0&&(Ge.width.set(Jt),Ge.height.set(Qt)),t.$$.dirty[2]&6400&&!Bi&&l&&(Ot==null||Ot(),n(73,Bi=!0)),t.$$.dirty[1]&2097135632|t.$$.dirty[2]&1777&&Ig(Ge,{flowId:b,connectionLineType:ie,connectionRadius:j,selectionMode:B,snapGrid:Y,defaultMarkerColor:Yi,nodesDraggable:p,nodesConnectable:M,elementsSelectable:P,onlyRenderVisibleElements:ze,isValidConnection:ee,autoPanOnConnect:ue,autoPanOnNodeDrag:zt,onerror:Mt,ondelete:J,onedgecreate:Pt,connectionMode:V,nodeDragThreshold:I,onconnect:Zt,onconnectstart:Gt,onconnectend:qt,onbeforedelete:Ut,nodeOrigin:Dt}),t.$$.dirty[0]&4194304|t.$$.dirty[1]&16791040&&Yr(Ge,{nodeTypes:z,edgeTypes:A,minZoom:N,maxZoom:T,translateExtent:ye,paneClickDistance:qn}),t.$$.dirty[2]&8&&c(n(29,i=Dg(Ze)))},[E,W,F,w,L,U,ne,re,D,de,H,q,Ne,Pe,tt,xe,yt,Xe,_t,Fe,Je,se,qn,Ao,Do,Ro,Jt,Qt,Un,i,f,ps,Lo,r,m,b,g,C,k,S,N,T,v,z,A,B,p,M,I,P,Y,j,ie,V,ee,ye,we,ze,ue,zt,Mt,J,Pt,bt,Qe,Ze,Zt,Gt,qt,Ut,Ot,Dt,Yi,Bi,l,h,Cs,Ss,Es,zs,Ms,Ps,Os,Ns,Hs,Ts,Is,As,Ds,Rs,Ls,Vs,Xs,Ws,Ys,Bs,Ks,Fs,Zs,y]}class Kg extends fe{constructor(e){super(),ae(this,e,Bg,Yg,ce,{id:35,nodes:36,edges:37,fitView:38,fitViewOptions:39,minZoom:40,maxZoom:41,initialViewport:42,viewport:0,nodeTypes:43,edgeTypes:44,selectionKey:1,selectionMode:45,panActivationKey:2,multiSelectionKey:3,zoomActivationKey:4,nodesDraggable:46,nodesConnectable:47,nodeDragThreshold:48,elementsSelectable:49,snapGrid:50,deleteKey:5,connectionRadius:51,connectionLineType:52,connectionMode:53,connectionLineStyle:6,connectionLineContainerStyle:7,onMoveStart:8,onMove:9,onMoveEnd:10,isValidConnection:54,translateExtent:55,nodeExtent:56,onlyRenderVisibleElements:57,panOnScrollMode:11,preventScrolling:12,zoomOnScroll:13,zoomOnDoubleClick:14,zoomOnPinch:15,panOnScroll:16,panOnDrag:17,selectionOnDrag:18,autoPanOnConnect:58,autoPanOnNodeDrag:59,onerror:60,ondelete:61,onedgecreate:62,attributionPosition:19,proOptions:20,defaultEdgeOptions:21,width:63,height:64,colorMode:65,onconnect:66,onconnectstart:67,onconnectend:68,onbeforedelete:69,oninit:70,nodeOrigin:71,paneClickDistance:22,nodeClickDistance:23,defaultMarkerColor:72,style:24,class:25},null,[-1,-1,-1,-1])}}function Fg(t){let e;const n=t[7].default,i=We(n,t,t[6],null);return{c(){i&&i.c()},m(o,r){i&&i.m(o,r),e=!0},p(o,[r]){i&&i.p&&(!e||r&64)&&Be(i,n,o,o[6],e?Ye(n,o[6],r,null):Ke(o[6]),null)},i(o){e||(R(i,o),e=!0)},o(o){X(i,o),e=!1},d(o){i&&i.d(o)}}}function Zg(t,e,n){let{$$slots:i={},$$scope:o}=e,{initialNodes:r=void 0}=e,{initialEdges:l=void 0}=e,{initialWidth:s=void 0}=e,{initialHeight:u=void 0}=e,{fitView:a=void 0}=e,{nodeOrigin:f=void 0}=e;const d=ys({nodes:r,edges:l,width:s,height:u,nodeOrigin:f,fitView:a});return Hn(Wi,{getStore:()=>d}),Ni(()=>{d.reset()}),t.$$set=c=>{"initialNodes"in c&&n(0,r=c.initialNodes),"initialEdges"in c&&n(1,l=c.initialEdges),"initialWidth"in c&&n(2,s=c.initialWidth),"initialHeight"in c&&n(3,u=c.initialHeight),"fitView"in c&&n(4,a=c.fitView),"nodeOrigin"in c&&n(5,f=c.nodeOrigin),"$$scope"in c&&n(6,o=c.$$scope)},[r,l,s,u,a,f,o,i]}class Gg extends fe{constructor(e){super(),ae(this,e,Zg,Fg,ce,{initialNodes:0,initialEdges:1,initialWidth:2,initialHeight:3,fitView:4,nodeOrigin:5})}}const qg=t=>({}),Kr=t=>({class:"button-svg"});function Ug(t){let e,n,i,o,r;const l=t[8].default,s=We(l,t,t[7],Kr);let u=[{type:"button"},{class:n=Me(["svelte-flow__controls-button",t[0]])},t[6]],a={};for(let f=0;f<u.length;f+=1)a=ve(a,u[f]);return{c(){e=he("button"),s&&s.c(),cn(e,a),le(e,"--xy-controls-button-background-color-props",t[1]),le(e,"--xy-controls-button-background-color-hover-props",t[2]),le(e,"--xy-controls-button-color-props",t[3]),le(e,"--xy-controls-button-color-hover-props",t[4]),le(e,"--xy-controls-button-border-color-props",t[5])},m(f,d){G(f,e,d),s&&s.m(e,null),e.autofocus&&e.focus(),i=!0,o||(r=Ce(e,"click",t[9]),o=!0)},p(f,[d]){s&&s.p&&(!i||d&128)&&Be(s,l,f,f[7],i?Ye(l,f[7],d,qg):Ke(f[7]),Kr),cn(e,a=Ct(u,[{type:"button"},(!i||d&1&&n!==(n=Me(["svelte-flow__controls-button",f[0]])))&&{class:n},d&64&&f[6]])),le(e,"--xy-controls-button-background-color-props",f[1]),le(e,"--xy-controls-button-background-color-hover-props",f[2]),le(e,"--xy-controls-button-color-props",f[3]),le(e,"--xy-controls-button-color-hover-props",f[4]),le(e,"--xy-controls-button-border-color-props",f[5])},i(f){i||(R(s,f),i=!0)},o(f){X(s,f),i=!1},d(f){f&&Z(e),s&&s.d(f),o=!1,r()}}}function Jg(t,e,n){const i=["class"];let o=Ee(e,i),{$$slots:r={},$$scope:l}=e,{class:s=void 0}=e,u,a,f,d,c;function h(y){Se.call(this,t,y)}return t.$$set=y=>{e=ve(ve({},e),Ve(y)),n(6,o=Ee(e,i)),"class"in y&&n(0,s=y.class),"$$scope"in y&&n(7,l=y.$$scope)},[s,u,a,f,d,c,o,l,r,h]}class Mi extends fe{constructor(e){super(),ae(this,e,Jg,Ug,ce,{class:0})}}function Qg(t){let e,n;return{c(){e=ke("svg"),n=ke("path"),_(n,"d","M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 0 32 32")},m(i,o){G(i,e,o),oe(e,n)},p:me,i:me,o:me,d(i){i&&Z(e)}}}class jg extends fe{constructor(e){super(),ae(this,e,null,Qg,ce,{})}}function xg(t){let e,n;return{c(){e=ke("svg"),n=ke("path"),_(n,"d","M0 0h32v4.2H0z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 0 32 5")},m(i,o){G(i,e,o),oe(e,n)},p:me,i:me,o:me,d(i){i&&Z(e)}}}class $g extends fe{constructor(e){super(),ae(this,e,null,xg,ce,{})}}function e0(t){let e,n;return{c(){e=ke("svg"),n=ke("path"),_(n,"d","M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 0 32 30")},m(i,o){G(i,e,o),oe(e,n)},p:me,i:me,o:me,d(i){i&&Z(e)}}}class t0 extends fe{constructor(e){super(),ae(this,e,null,e0,ce,{})}}function n0(t){let e,n;return{c(){e=ke("svg"),n=ke("path"),_(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 0 25 32")},m(i,o){G(i,e,o),oe(e,n)},p:me,i:me,o:me,d(i){i&&Z(e)}}}class i0 extends fe{constructor(e){super(),ae(this,e,null,n0,ce,{})}}function o0(t){let e,n;return{c(){e=ke("svg"),n=ke("path"),_(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox","0 0 25 32")},m(i,o){G(i,e,o),oe(e,n)},p:me,i:me,o:me,d(i){i&&Z(e)}}}class r0 extends fe{constructor(e){super(),ae(this,e,null,o0,ce,{})}}const l0=t=>({}),Fr=t=>({}),s0=t=>({}),Zr=t=>({});function Gr(t){let e,n,i,o;const r=[{class:"svelte-flow__controls-zoomin"},{title:"zoom in"},{"aria-label":"zoom in"},{disabled:t[9]},t[17]];let l={$$slots:{default:[u0]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)l=ve(l,r[a]);e=new Mi({props:l}),e.$on("click",t[18]);const s=[{class:"svelte-flow__controls-zoomout"},{title:"zoom out"},{"aria-label":"zoom out"},{disabled:t[10]},t[17]];let u={$$slots:{default:[a0]},$$scope:{ctx:t}};for(let a=0;a<s.length;a+=1)u=ve(u,s[a]);return i=new Mi({props:u}),i.$on("click",t[19]),{c(){te(e.$$.fragment),n=pe(),te(i.$$.fragment)},m(a,f){x(e,a,f),G(a,n,f),x(i,a,f),o=!0},p(a,f){const d=f[0]&131584?Ct(r,[r[0],r[1],r[2],f[0]&512&&{disabled:a[9]},f[0]&131072&&gn(a[17])]):{};f[1]&32&&(d.$$scope={dirty:f,ctx:a}),e.$set(d);const c=f[0]&132096?Ct(s,[s[0],s[1],s[2],f[0]&1024&&{disabled:a[10]},f[0]&131072&&gn(a[17])]):{};f[1]&32&&(c.$$scope={dirty:f,ctx:a}),i.$set(c)},i(a){o||(R(e.$$.fragment,a),R(i.$$.fragment,a),o=!0)},o(a){X(e.$$.fragment,a),X(i.$$.fragment,a),o=!1},d(a){a&&Z(n),$(e,a),$(i,a)}}}function u0(t){let e,n;return e=new jg({}),{c(){te(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){$(e,i)}}}function a0(t){let e,n;return e=new $g({}),{c(){te(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){$(e,i)}}}function qr(t){let e,n;const i=[{class:"svelte-flow__controls-fitview"},{title:"fit view"},{"aria-label":"fit view"},t[17]];let o={$$slots:{default:[f0]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=ve(o,i[r]);return e=new Mi({props:o}),e.$on("click",t[20]),{c(){te(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,l){const s=l[0]&131072?Ct(i,[i[0],i[1],i[2],gn(r[17])]):{};l[1]&32&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(r){n||(R(e.$$.fragment,r),n=!0)},o(r){X(e.$$.fragment,r),n=!1},d(r){$(e,r)}}}function f0(t){let e,n;return e=new t0({}),{c(){te(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){$(e,i)}}}function Ur(t){let e,n;const i=[{class:"svelte-flow__controls-interactive"},{title:"toggle interactivity"},{"aria-label":"toggle interactivity"},t[17]];let o={$$slots:{default:[h0]},$$scope:{ctx:t}};for(let r=0;r<i.length;r+=1)o=ve(o,i[r]);return e=new Mi({props:o}),e.$on("click",t[21]),{c(){te(e.$$.fragment)},m(r,l){x(e,r,l),n=!0},p(r,l){const s=l[0]&131072?Ct(i,[i[0],i[1],i[2],gn(r[17])]):{};l[0]&256|l[1]&32&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(r){n||(R(e.$$.fragment,r),n=!0)},o(r){X(e.$$.fragment,r),n=!1},d(r){$(e,r)}}}function c0(t){let e,n;return e=new i0({}),{c(){te(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){$(e,i)}}}function d0(t){let e,n;return e=new r0({}),{c(){te(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){$(e,i)}}}function h0(t){let e,n,i,o;const r=[d0,c0],l=[];function s(u,a){return u[8]?0:1}return e=s(t),n=l[e]=r[e](t),{c(){n.c(),i=De()},m(u,a){l[e].m(u,a),G(u,i,a),o=!0},p(u,a){let f=e;e=s(u),e!==f&&(Te(),X(l[f],1,1,()=>{l[f]=null}),Ie(),n=l[e],n||(n=l[e]=r[e](u),n.c()),R(n,1),n.m(i.parentNode,i))},i(u){o||(R(n),o=!0)},o(u){X(n),o=!1},d(u){u&&Z(i),l[e].d(u)}}}function g0(t){let e,n,i,o,r,l;const s=t[35].before,u=We(s,t,t[36],Zr);let a=t[1]&&Gr(t),f=t[2]&&qr(t),d=t[3]&&Ur(t);const c=t[35].default,h=We(c,t,t[36],null),y=t[35].after,m=We(y,t,t[36],Fr);return{c(){u&&u.c(),e=pe(),a&&a.c(),n=pe(),f&&f.c(),i=pe(),d&&d.c(),o=pe(),h&&h.c(),r=pe(),m&&m.c()},m(b,g){u&&u.m(b,g),G(b,e,g),a&&a.m(b,g),G(b,n,g),f&&f.m(b,g),G(b,i,g),d&&d.m(b,g),G(b,o,g),h&&h.m(b,g),G(b,r,g),m&&m.m(b,g),l=!0},p(b,g){u&&u.p&&(!l||g[1]&32)&&Be(u,s,b,b[36],l?Ye(s,b[36],g,s0):Ke(b[36]),Zr),b[1]?a?(a.p(b,g),g[0]&2&&R(a,1)):(a=Gr(b),a.c(),R(a,1),a.m(n.parentNode,n)):a&&(Te(),X(a,1,1,()=>{a=null}),Ie()),b[2]?f?(f.p(b,g),g[0]&4&&R(f,1)):(f=qr(b),f.c(),R(f,1),f.m(i.parentNode,i)):f&&(Te(),X(f,1,1,()=>{f=null}),Ie()),b[3]?d?(d.p(b,g),g[0]&8&&R(d,1)):(d=Ur(b),d.c(),R(d,1),d.m(o.parentNode,o)):d&&(Te(),X(d,1,1,()=>{d=null}),Ie()),h&&h.p&&(!l||g[1]&32)&&Be(h,c,b,b[36],l?Ye(c,b[36],g,null):Ke(b[36]),null),m&&m.p&&(!l||g[1]&32)&&Be(m,y,b,b[36],l?Ye(y,b[36],g,l0):Ke(b[36]),Fr)},i(b){l||(R(u,b),R(a),R(f),R(d),R(h,b),R(m,b),l=!0)},o(b){X(u,b),X(a),X(f),X(d),X(h,b),X(m,b),l=!1},d(b){b&&(Z(e),Z(n),Z(i),Z(o),Z(r)),u&&u.d(b),a&&a.d(b),f&&f.d(b),d&&d.d(b),h&&h.d(b),m&&m.d(b)}}}function m0(t){let e,n;return e=new Ho({props:{class:Me(["svelte-flow__controls",t[7],t[6]]),position:t[0],"data-testid":"svelte-flow__controls","aria-label":t[4]??"Svelte Flow controls",style:t[5],$$slots:{default:[g0]},$$scope:{ctx:t}}}),{c(){te(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},p(i,o){const r={};o[0]&192&&(r.class=Me(["svelte-flow__controls",i[7],i[6]])),o[0]&1&&(r.position=i[0]),o[0]&16&&(r["aria-label"]=i[4]??"Svelte Flow controls"),o[0]&32&&(r.style=i[5]),o[0]&1806|o[1]&32&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){$(e,i)}}}function y0(t,e,n){let i,o,r,l,s,u,a,f,d,c,{$$slots:h={},$$scope:y}=e,{position:m="bottom-left"}=e,{showZoom:b=!0}=e,{showFitView:g=!0}=e,{showLock:C=!0}=e,{buttonBgColor:k=void 0}=e,{buttonBgColorHover:S=void 0}=e,{buttonColor:N=void 0}=e,{buttonColorHover:T=void 0}=e,{buttonBorderColor:v=void 0}=e,{ariaLabel:E=void 0}=e,{style:z=void 0}=e,{orientation:A="vertical"}=e,{fitViewOptions:W=void 0}=e,{class:B=""}=e;const{zoomIn:F,zoomOut:w,fitView:L,viewport:p,minZoom:M,maxZoom:I,nodesDraggable:P,nodesConnectable:Y,elementsSelectable:U}=Ae();Q(t,p,D=>n(30,u=D)),Q(t,M,D=>n(31,a=D)),Q(t,I,D=>n(29,s=D)),Q(t,P,D=>n(34,c=D)),Q(t,Y,D=>n(33,d=D)),Q(t,U,D=>n(32,f=D));const j={bgColor:k,bgColorHover:S,color:N,colorHover:T,borderColor:v},ie=()=>{F()},V=()=>{w()},ne=()=>{L(W)},re=()=>{n(8,i=!i),P.set(i),Y.set(i),U.set(i)};return t.$$set=D=>{"position"in D&&n(0,m=D.position),"showZoom"in D&&n(1,b=D.showZoom),"showFitView"in D&&n(2,g=D.showFitView),"showLock"in D&&n(3,C=D.showLock),"buttonBgColor"in D&&n(22,k=D.buttonBgColor),"buttonBgColorHover"in D&&n(23,S=D.buttonBgColorHover),"buttonColor"in D&&n(24,N=D.buttonColor),"buttonColorHover"in D&&n(25,T=D.buttonColorHover),"buttonBorderColor"in D&&n(26,v=D.buttonBorderColor),"ariaLabel"in D&&n(4,E=D.ariaLabel),"style"in D&&n(5,z=D.style),"orientation"in D&&n(27,A=D.orientation),"fitViewOptions"in D&&n(28,W=D.fitViewOptions),"class"in D&&n(6,B=D.class),"$$scope"in D&&n(36,y=D.$$scope)},t.$$.update=()=>{t.$$.dirty[1]&14&&n(8,i=c||d||f),t.$$.dirty[0]&1073741824|t.$$.dirty[1]&1&&n(10,o=u.zoom<=a),t.$$.dirty[0]&1610612736&&n(9,r=u.zoom>=s),t.$$.dirty[0]&134217728&&n(7,l=A==="horizontal"?"horizontal":"vertical")},[m,b,g,C,E,z,B,l,i,r,o,p,M,I,P,Y,U,j,ie,V,ne,re,k,S,N,T,v,A,W,s,u,a,f,d,c,h,y]}class _0 extends fe{constructor(e){super(),ae(this,e,y0,m0,ce,{position:0,showZoom:1,showFitView:2,showLock:3,buttonBgColor:22,buttonBgColorHover:23,buttonColor:24,buttonColorHover:25,buttonBorderColor:26,ariaLabel:4,style:5,orientation:27,fitViewOptions:28,class:6},null,[-1,-1])}}var pt;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(pt||(pt={}));function b0(t){let e,n;return{c(){e=ke("circle"),_(e,"cx",t[0]),_(e,"cy",t[0]),_(e,"r",t[0]),_(e,"class",n=Me(["svelte-flow__background-pattern","dots",t[1]]))},m(i,o){G(i,e,o)},p(i,[o]){o&1&&_(e,"cx",i[0]),o&1&&_(e,"cy",i[0]),o&1&&_(e,"r",i[0]),o&2&&n!==(n=Me(["svelte-flow__background-pattern","dots",i[1]]))&&_(e,"class",n)},i:me,o:me,d(i){i&&Z(e)}}}function w0(t,e,n){let{radius:i=5}=e,{class:o=""}=e;return t.$$set=r=>{"radius"in r&&n(0,i=r.radius),"class"in r&&n(1,o=r.class)},[i,o]}class k0 extends fe{constructor(e){super(),ae(this,e,w0,b0,ce,{radius:0,class:1})}}function v0(t){let e,n,i;return{c(){e=ke("path"),_(e,"stroke-width",t[0]),_(e,"d",n=`M${t[1][0]/2} 0 V${t[1][1]} M0 ${t[1][1]/2} H${t[1][0]}`),_(e,"class",i=Me(["svelte-flow__background-pattern",t[2],t[3]]))},m(o,r){G(o,e,r)},p(o,[r]){r&1&&_(e,"stroke-width",o[0]),r&2&&n!==(n=`M${o[1][0]/2} 0 V${o[1][1]} M0 ${o[1][1]/2} H${o[1][0]}`)&&_(e,"d",n),r&12&&i!==(i=Me(["svelte-flow__background-pattern",o[2],o[3]]))&&_(e,"class",i)},i:me,o:me,d(o){o&&Z(e)}}}function p0(t,e,n){let{lineWidth:i=1}=e,{dimensions:o}=e,{variant:r=void 0}=e,{class:l=""}=e;return t.$$set=s=>{"lineWidth"in s&&n(0,i=s.lineWidth),"dimensions"in s&&n(1,o=s.dimensions),"variant"in s&&n(2,r=s.variant),"class"in s&&n(3,l=s.class)},[i,o,r,l]}class C0 extends fe{constructor(e){super(),ae(this,e,p0,v0,ce,{lineWidth:0,dimensions:1,variant:2,class:3})}}function S0(t){let e,n;return e=new C0({props:{dimensions:t[6],variant:t[0],lineWidth:t[1],class:t[4]}}),{c(){te(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},p(i,o){const r={};o&64&&(r.dimensions=i[6]),o&1&&(r.variant=i[0]),o&2&&(r.lineWidth=i[1]),o&16&&(r.class=i[4]),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){$(e,i)}}}function E0(t){let e,n;return e=new k0({props:{radius:t[7]/2,class:t[4]}}),{c(){te(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},p(i,o){const r={};o&128&&(r.radius=i[7]/2),o&16&&(r.class=i[4]),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){$(e,i)}}}function z0(t){let e,n,i,o,r,l,s,u,a,f,d,c,h;const y=[E0,S0],m=[];function b(g,C){return g[14]?0:1}return i=b(t),o=m[i]=y[i](t),{c(){e=ke("svg"),n=ke("pattern"),o.c(),f=ke("rect"),_(n,"id",t[11]),_(n,"x",r=t[9].x%t[8][0]),_(n,"y",l=t[9].y%t[8][1]),_(n,"width",s=t[8][0]),_(n,"height",u=t[8][1]),_(n,"patternUnits","userSpaceOnUse"),_(n,"patternTransform",a=`translate(-${t[10][0]},-${t[10][1]})`),_(f,"x","0"),_(f,"y","0"),_(f,"width","100%"),_(f,"height","100%"),_(f,"fill",d=`url(#${t[11]})`),_(e,"class",c=Xo(Me(["svelte-flow__background",t[5]]))+" svelte-1r7pe8d"),_(e,"data-testid","svelte-flow__background"),le(e,"--xy-background-color-props",t[2]),le(e,"--xy-background-pattern-color-props",t[3])},m(g,C){G(g,e,C),oe(e,n),m[i].m(n,null),oe(e,f),h=!0},p(g,[C]){o.p(g,C),(!h||C&2048)&&_(n,"id",g[11]),(!h||C&768&&r!==(r=g[9].x%g[8][0]))&&_(n,"x",r),(!h||C&768&&l!==(l=g[9].y%g[8][1]))&&_(n,"y",l),(!h||C&256&&s!==(s=g[8][0]))&&_(n,"width",s),(!h||C&256&&u!==(u=g[8][1]))&&_(n,"height",u),(!h||C&1024&&a!==(a=`translate(-${g[10][0]},-${g[10][1]})`))&&_(n,"patternTransform",a),(!h||C&2048&&d!==(d=`url(#${g[11]})`))&&_(f,"fill",d),(!h||C&32&&c!==(c=Xo(Me(["svelte-flow__background",g[5]]))+" svelte-1r7pe8d"))&&_(e,"class",c),C&4&&le(e,"--xy-background-color-props",g[2]),C&8&&le(e,"--xy-background-pattern-color-props",g[3])},i(g){h||(R(o),h=!0)},o(g){X(o),h=!1},d(g){g&&Z(e),m[i].d()}}}const M0={[pt.Dots]:1,[pt.Lines]:1,[pt.Cross]:6};function P0(t,e,n){let i,o,r,l,s,u,a,{id:f=void 0}=e,{variant:d=pt.Dots}=e,{gap:c=20}=e,{size:h=1}=e,{lineWidth:y=1}=e,{bgColor:m=void 0}=e,{patternColor:b=void 0}=e,{patternClass:g=void 0}=e,{class:C=""}=e;const{viewport:k,flowId:S}=Ae();Q(t,k,z=>n(9,u=z)),Q(t,S,z=>n(18,a=z));const N=h||M0[d],T=d===pt.Dots,v=d===pt.Cross,E=Array.isArray(c)?c:[c,c];return t.$$set=z=>{"id"in z&&n(15,f=z.id),"variant"in z&&n(0,d=z.variant),"gap"in z&&n(16,c=z.gap),"size"in z&&n(17,h=z.size),"lineWidth"in z&&n(1,y=z.lineWidth),"bgColor"in z&&n(2,m=z.bgColor),"patternColor"in z&&n(3,b=z.patternColor),"patternClass"in z&&n(4,g=z.patternClass),"class"in z&&n(5,C=z.class)},t.$$.update=()=>{t.$$.dirty&294912&&n(11,i=`background-pattern-${a}-${f||""}`),t.$$.dirty&512&&n(8,o=[E[0]*u.zoom||1,E[1]*u.zoom||1]),t.$$.dirty&512&&n(7,r=N*u.zoom),t.$$.dirty&384&&n(6,l=v?[r,r]:o),t.$$.dirty&192&&n(10,s=T?[r/2,r/2]:[l[0]/2,l[1]/2])},[d,y,m,b,g,C,l,r,o,u,s,i,k,S,T,f,c,h,a]}class O0 extends fe{constructor(e){super(),ae(this,e,P0,z0,ce,{id:15,variant:0,gap:16,size:17,lineWidth:1,bgColor:2,patternColor:3,patternClass:4,class:5})}}function N0(t){let e,n,i;return{c(){e=ke("rect"),_(e,"class",n=Me(["svelte-flow__minimap-node",t[10]])),_(e,"x",t[0]),_(e,"y",t[1]),_(e,"rx",t[4]),_(e,"ry",t[4]),_(e,"width",t[2]),_(e,"height",t[3]),_(e,"style",i=`${t[5]?`fill: ${t[5]};`:""}${t[7]?`stroke: ${t[7]};`:""}${t[8]?`stroke-width: ${t[8]};`:""}`),_(e,"shape-rendering",t[6]),be(e,"selected",t[9])},m(o,r){G(o,e,r)},p(o,[r]){r&1024&&n!==(n=Me(["svelte-flow__minimap-node",o[10]]))&&_(e,"class",n),r&1&&_(e,"x",o[0]),r&2&&_(e,"y",o[1]),r&16&&_(e,"rx",o[4]),r&16&&_(e,"ry",o[4]),r&4&&_(e,"width",o[2]),r&8&&_(e,"height",o[3]),r&416&&i!==(i=`${o[5]?`fill: ${o[5]};`:""}${o[7]?`stroke: ${o[7]};`:""}${o[8]?`stroke-width: ${o[8]};`:""}`)&&_(e,"style",i),r&64&&_(e,"shape-rendering",o[6]),r&1536&&be(e,"selected",o[9])},i:me,o:me,d(o){o&&Z(e)}}}function H0(t,e,n){let{x:i}=e,{y:o}=e,{width:r=0}=e,{height:l=0}=e,{borderRadius:s=5}=e,{color:u=void 0}=e,{shapeRendering:a}=e,{strokeColor:f=void 0}=e,{strokeWidth:d=2}=e,{selected:c=!1}=e,{class:h=""}=e;return t.$$set=y=>{"x"in y&&n(0,i=y.x),"y"in y&&n(1,o=y.y),"width"in y&&n(2,r=y.width),"height"in y&&n(3,l=y.height),"borderRadius"in y&&n(4,s=y.borderRadius),"color"in y&&n(5,u=y.color),"shapeRendering"in y&&n(6,a=y.shapeRendering),"strokeColor"in y&&n(7,f=y.strokeColor),"strokeWidth"in y&&n(8,d=y.strokeWidth),"selected"in y&&n(9,c=y.selected),"class"in y&&n(10,h=y.class)},[i,o,r,l,s,u,a,f,d,c,h]}class T0 extends fe{constructor(e){super(),ae(this,e,H0,N0,ce,{x:0,y:1,width:2,height:3,borderRadius:4,color:5,shapeRendering:6,strokeColor:7,strokeWidth:8,selected:9,class:10})}}function I0(t,e){const n=pd({domNode:t,panZoom:e.panZoom,getTransform:()=>{const o=K(e.viewport);return[o.x,o.y,o.zoom]},getViewScale:e.getViewScale});function i(o){n.update({translateExtent:o.translateExtent,width:o.width,height:o.height,inversePan:o.inversePan,zoomStep:o.zoomStep,pannable:o.pannable,zoomable:o.zoomable})}return{update:i,destroy(){n.destroy()}}}function Jr(t,e,n){const i=t.slice();i[55]=e[n];const o=i[20].get(i[55].id);return i[56]=o,i}function xi(t){const e=t.slice(),n=At(e[56]);return e[59]=n,e}function Qr(t){let e,n,i=[],o=new Map,r,l,s,u,a,f,d,c=t[1]&&jr(t),h=rt(t[19]);const y=m=>m[55].id;for(let m=0;m<h.length;m+=1){let b=Jr(t,h,m),g=y(b);o.set(g,i[m]=$r(g,b))}return{c(){e=ke("svg"),c&&c.c(),n=De();for(let m=0;m<i.length;m+=1)i[m].c();r=ke("path"),_(r,"class","svelte-flow__minimap-mask"),_(r,"d",l="M"+(t[26]-t[15])+","+(t[25]-t[15])+"h"+(t[24]+t[15]*2)+"v"+(t[23]+t[15]*2)+"h"+(-t[24]-t[15]*2)+`z
      M`+t[18].x+","+t[18].y+"h"+t[18].width+"v"+t[18].height+"h"+-t[18].width+"z"),_(r,"fill-rule","evenodd"),_(r,"pointer-events","none"),_(e,"width",t[17]),_(e,"height",t[16]),_(e,"viewBox",s=t[26]+" "+t[25]+" "+t[24]+" "+t[23]),_(e,"class","svelte-flow__minimap-svg"),_(e,"role","img"),_(e,"aria-labelledby",t[41]),le(e,"--xy-minimap-mask-background-color-props",t[5]),le(e,"--xy-minimap-mask-stroke-color-props",t[6]),le(e,"--xy-minimap-mask-stroke-width-props",t[7]?t[7]*t[14]:void 0)},m(m,b){G(m,e,b),c&&c.m(e,null),oe(e,n);for(let g=0;g<i.length;g+=1)i[g]&&i[g].m(e,null);oe(e,r),a=!0,f||(d=qe(u=I0.call(null,e,{panZoom:t[27],viewport:t[31],getViewScale:t[42],translateExtent:t[28],width:t[22],height:t[21],inversePan:t[10],zoomStep:t[11],pannable:t[8],zoomable:t[9]})),f=!0)},p(m,b){m[1]?c?c.p(m,b):(c=jr(m),c.c(),c.m(e,n)):c&&(c.d(1),c=null),b[0]&1572876|b[1]&960&&(h=rt(m[19]),Te(),i=hn(i,b,y,1,m,h,o,e,dn,$r,r,Jr),Ie()),(!a||b[0]&126124032&&l!==(l="M"+(m[26]-m[15])+","+(m[25]-m[15])+"h"+(m[24]+m[15]*2)+"v"+(m[23]+m[15]*2)+"h"+(-m[24]-m[15]*2)+`z
      M`+m[18].x+","+m[18].y+"h"+m[18].width+"v"+m[18].height+"h"+-m[18].width+"z"))&&_(r,"d",l),(!a||b[0]&131072)&&_(e,"width",m[17]),(!a||b[0]&65536)&&_(e,"height",m[16]),(!a||b[0]&125829120&&s!==(s=m[26]+" "+m[25]+" "+m[24]+" "+m[23]))&&_(e,"viewBox",s),u&&He(u.update)&&b[0]&408948480&&u.update.call(null,{panZoom:m[27],viewport:m[31],getViewScale:m[42],translateExtent:m[28],width:m[22],height:m[21],inversePan:m[10],zoomStep:m[11],pannable:m[8],zoomable:m[9]}),b[0]&32&&le(e,"--xy-minimap-mask-background-color-props",m[5]),b[0]&64&&le(e,"--xy-minimap-mask-stroke-color-props",m[6]),b[0]&16512&&le(e,"--xy-minimap-mask-stroke-width-props",m[7]?m[7]*m[14]:void 0)},i(m){if(!a){for(let b=0;b<h.length;b+=1)R(i[b]);a=!0}},o(m){for(let b=0;b<i.length;b+=1)X(i[b]);a=!1},d(m){m&&Z(e),c&&c.d();for(let b=0;b<i.length;b+=1)i[b].d();f=!1,d()}}}function jr(t){let e,n;return{c(){e=ke("title"),n=It(t[1]),_(e,"id",t[41])},m(i,o){G(i,e,o),oe(e,n)},p(i,o){o[0]&2&&kn(n,i[1])},d(i){i&&Z(e)}}}function xr(t){var r;let e,n;const i=[{x:t[56].internals.positionAbsolute.x},{y:t[56].internals.positionAbsolute.y},t[59],{selected:t[56].selected},{color:(r=t[37])==null?void 0:r.call(t,t[56])},{borderRadius:t[2]},{strokeColor:t[38](t[56])},{strokeWidth:t[3]},{shapeRendering:t[40]},{class:t[39](t[56])}];let o={};for(let l=0;l<i.length;l+=1)o=ve(o,i[l]);return e=new T0({props:o}),{c(){te(e.$$.fragment)},m(l,s){x(e,l,s),n=!0},p(l,s){var a;const u=s[0]&1572876|s[1]&960?Ct(i,[s[0]&1572864&&{x:l[56].internals.positionAbsolute.x},s[0]&1572864&&{y:l[56].internals.positionAbsolute.y},s[0]&1572864&&gn(l[59]),s[0]&1572864&&{selected:l[56].selected},s[0]&1572864|s[1]&64&&{color:(a=l[37])==null?void 0:a.call(l,l[56])},s[0]&4&&{borderRadius:l[2]},s[0]&1572864|s[1]&128&&{strokeColor:l[38](l[56])},s[0]&8&&{strokeWidth:l[3]},s[1]&512&&{shapeRendering:l[40]},s[0]&1572864|s[1]&256&&{class:l[39](l[56])}]):{};e.$set(u)},i(l){n||(R(e.$$.fragment,l),n=!0)},o(l){X(e.$$.fragment,l),n=!1},d(l){$(e,l)}}}function $r(t,e){let n,i=e[56]&&Ei(e[56]),o,r,l=i&&xr(xi(e));return{key:t,first:null,c(){n=De(),l&&l.c(),o=De(),this.first=n},m(s,u){G(s,n,u),l&&l.m(s,u),G(s,o,u),r=!0},p(s,u){e=s,u[0]&1572864&&(i=e[56]&&Ei(e[56])),i?l?(l.p(xi(e),u),u[0]&1572864&&R(l,1)):(l=xr(xi(e)),l.c(),R(l,1),l.m(o.parentNode,o)):l&&(Te(),X(l,1,1,()=>{l=null}),Ie())},i(s){r||(R(l),r=!0)},o(s){X(l),r=!1},d(s){s&&(Z(n),Z(o)),l&&l.d(s)}}}function A0(t){let e,n,i=t[27]&&Qr(t);return{c(){i&&i.c(),e=De()},m(o,r){i&&i.m(o,r),G(o,e,r),n=!0},p(o,r){o[27]?i?(i.p(o,r),r[0]&134217728&&R(i,1)):(i=Qr(o),i.c(),R(i,1),i.m(e.parentNode,e)):i&&(Te(),X(i,1,1,()=>{i=null}),Ie())},i(o){n||(R(i),n=!0)},o(o){X(i),n=!1},d(o){o&&Z(e),i&&i.d(o)}}}function D0(t){let e,n;return e=new Ho({props:{position:t[0],style:t[12]+(t[4]?`;--xy-minimap-background-color-props:${t[4]}`:""),class:Me(["svelte-flow__minimap",t[13]]),"data-testid":"svelte-flow__minimap",$$slots:{default:[A0]},$$scope:{ctx:t}}}),{c(){te(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},p(i,o){const r={};o[0]&1&&(r.position=i[0]),o[0]&4112&&(r.style=i[12]+(i[4]?`;--xy-minimap-background-color-props:${i[4]}`:"")),o[0]&8192&&(r.class=Me(["svelte-flow__minimap",i[13]])),o[0]&536858606|o[1]&536870912&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){$(e,i)}}}const $i=t=>t instanceof Function?t:()=>t,R0=200,L0=150;function V0(t,e,n){let i,o,r,l,s,u,a,f,d,c,h,y,m,b,g,C,k,S,N,T,v,{position:E="bottom-right"}=e,{ariaLabel:z="Mini map"}=e,{nodeStrokeColor:A="transparent"}=e,{nodeColor:W=void 0}=e,{nodeClass:B=""}=e,{nodeBorderRadius:F=5}=e,{nodeStrokeWidth:w=2}=e,{bgColor:L=void 0}=e,{maskColor:p=void 0}=e,{maskStrokeColor:M=void 0}=e,{maskStrokeWidth:I=void 0}=e,{width:P=void 0}=e,{height:Y=void 0}=e,{pannable:U=!0}=e,{zoomable:j=!0}=e,{inversePan:ie=void 0}=e,{zoomStep:V=void 0}=e,{style:ne=""}=e,{class:re=""}=e;const{nodes:D,nodeLookup:de,viewport:H,width:ee,height:ye,flowId:we,panZoom:ze,translateExtent:q}=Ae();Q(t,D,ue=>n(19,b=ue)),Q(t,de,ue=>n(20,g=ue)),Q(t,H,ue=>n(53,C=ue)),Q(t,ee,ue=>n(22,S=ue)),Q(t,ye,ue=>n(21,k=ue)),Q(t,we,ue=>n(54,N=ue)),Q(t,ze,ue=>n(27,T=ue)),Q(t,q,ue=>n(28,v=ue));const Ne=W===void 0?void 0:$i(W),Pe=$i(A),tt=$i(B),xe=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision",yt=`svelte-flow__minimap-desc-${N}`;let Xe=i;const _t=()=>u;return t.$$set=ue=>{"position"in ue&&n(0,E=ue.position),"ariaLabel"in ue&&n(1,z=ue.ariaLabel),"nodeStrokeColor"in ue&&n(43,A=ue.nodeStrokeColor),"nodeColor"in ue&&n(44,W=ue.nodeColor),"nodeClass"in ue&&n(45,B=ue.nodeClass),"nodeBorderRadius"in ue&&n(2,F=ue.nodeBorderRadius),"nodeStrokeWidth"in ue&&n(3,w=ue.nodeStrokeWidth),"bgColor"in ue&&n(4,L=ue.bgColor),"maskColor"in ue&&n(5,p=ue.maskColor),"maskStrokeColor"in ue&&n(6,M=ue.maskStrokeColor),"maskStrokeWidth"in ue&&n(7,I=ue.maskStrokeWidth),"width"in ue&&n(46,P=ue.width),"height"in ue&&n(47,Y=ue.height),"pannable"in ue&&n(8,U=ue.pannable),"zoomable"in ue&&n(9,j=ue.zoomable),"inversePan"in ue&&n(10,ie=ue.inversePan),"zoomStep"in ue&&n(11,V=ue.zoomStep),"style"in ue&&n(12,ne=ue.style),"class"in ue&&n(13,re=ue.class)},t.$$.update=()=>{t.$$.dirty[0]&6291456|t.$$.dirty[1]&4194304&&n(18,i={x:-C.x/C.zoom,y:-C.y/C.zoom,width:S/C.zoom,height:k/C.zoom}),t.$$.dirty[0]&1835008&&n(48,Xe=g.size>0?Ul(Fn(g),i):i),t.$$.dirty[1]&32768&&n(17,o=P??R0),t.$$.dirty[1]&65536&&n(16,r=Y??L0),t.$$.dirty[0]&131072|t.$$.dirty[1]&131072&&n(52,l=Xe.width/o),t.$$.dirty[0]&65536|t.$$.dirty[1]&131072&&n(51,s=Xe.height/r),t.$$.dirty[1]&3145728&&n(14,u=Math.max(l,s)),t.$$.dirty[0]&147456&&n(50,a=u*o),t.$$.dirty[0]&81920&&n(49,f=u*r),t.$$.dirty[0]&16384&&n(15,d=5*u),t.$$.dirty[0]&32768|t.$$.dirty[1]&655360&&n(26,c=Xe.x-(a-Xe.width)/2-d),t.$$.dirty[0]&32768|t.$$.dirty[1]&393216&&n(25,h=Xe.y-(f-Xe.height)/2-d),t.$$.dirty[0]&32768|t.$$.dirty[1]&524288&&n(24,y=a+d*2),t.$$.dirty[0]&32768|t.$$.dirty[1]&262144&&n(23,m=f+d*2)},[E,z,F,w,L,p,M,I,U,j,ie,V,ne,re,u,d,r,o,i,b,g,k,S,m,y,h,c,T,v,D,de,H,ee,ye,we,ze,q,Ne,Pe,tt,xe,yt,_t,A,W,B,P,Y,Xe,f,a,s,l,C]}class X0 extends fe{constructor(e){super(),ae(this,e,V0,D0,ce,{position:0,ariaLabel:1,nodeStrokeColor:43,nodeColor:44,nodeClass:45,nodeBorderRadius:2,nodeStrokeWidth:3,bgColor:4,maskColor:5,maskStrokeColor:6,maskStrokeWidth:7,width:46,height:47,pannable:8,zoomable:9,inversePan:10,zoomStep:11,style:12,class:13},null,[-1,-1])}}const el=t=>Bc(t);function W0(){const{zoomIn:t,zoomOut:e,fitView:n,onbeforedelete:i,snapGrid:o,viewport:r,width:l,height:s,minZoom:u,maxZoom:a,panZoom:f,nodes:d,edges:c,domNode:h,nodeLookup:y,nodeOrigin:m,edgeLookup:b,connectionLookup:g}=Ae(),C=N=>{var A,W;const T=K(y),v=el(N)?N:T.get(N.id),E=v.parentId?Gc(v.position,v.measured,v.parentId,T,K(m)):v.position,z={id:v.id,position:E,width:((A=v.measured)==null?void 0:A.width)??v.width,height:((W=v.measured)==null?void 0:W.height)??v.height,data:v.data};return bn(z)},k=(N,T,v={replace:!1})=>{var A;const E=(A=K(y).get(N))==null?void 0:A.internals.userNode;if(!E)return;const z=typeof T=="function"?T(E):T;v.replace?d.update(W=>W.map(B=>B.id===N?el(z)?z:{...B,...z}:B)):(Object.assign(E,z),d.update(W=>W))},S=N=>K(y).get(N);return{zoomIn:t,zoomOut:e,getInternalNode:S,getNode:N=>{var T;return(T=S(N))==null?void 0:T.internals.userNode},getNodes:N=>N===void 0?K(d):tl(K(y),N),getEdge:N=>K(b).get(N),getEdges:N=>N===void 0?K(c):tl(K(b),N),setZoom:(N,T)=>{const v=K(f);return v?v.scaleTo(N,{duration:T==null?void 0:T.duration}):Promise.resolve(!1)},getZoom:()=>K(r).zoom,setViewport:async(N,T)=>{const v=K(r),E=K(f);return E?(await E.setViewport({x:N.x??v.x,y:N.y??v.y,zoom:N.zoom??v.zoom},{duration:T==null?void 0:T.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>K(r),setCenter:async(N,T,v)=>{const E=typeof(v==null?void 0:v.zoom)<"u"?v.zoom:K(a),z=K(f);return z?(await z.setViewport({x:K(l)/2-N*E,y:K(s)/2-T*E,zoom:E},{duration:v==null?void 0:v.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitView:n,fitBounds:async(N,T)=>{const v=K(f);if(!v)return Promise.resolve(!1);const E=Eo(N,K(l),K(s),K(u),K(a),(T==null?void 0:T.padding)??.1);return await v.setViewport(E,{duration:T==null?void 0:T.duration}),Promise.resolve(!0)},getIntersectingNodes:(N,T=!0,v)=>{const E=cr(N),z=E?N:C(N);return z?(v||K(d)).filter(A=>{const W=K(y).get(A.id);if(!W||!E&&A.id===N.id)return!1;const B=bn(W),F=Vn(B,z);return T&&F>0||F>=z.width*z.height}):[]},isNodeIntersecting:(N,T,v=!0)=>{const z=cr(N)?N:C(N);if(!z)return!1;const A=Vn(z,T);return v&&A>0||A>=z.width*z.height},deleteElements:async({nodes:N=[],edges:T=[]})=>{const{nodes:v,edges:E}=await Zl({nodesToRemove:N,edgesToRemove:T,nodes:K(d),edges:K(c),onBeforeDelete:K(i)});return v&&d.update(z=>z.filter(A=>!v.some(({id:W})=>W===A.id))),E&&c.update(z=>z.filter(A=>!E.some(({id:W})=>W===A.id))),{deletedNodes:v,deletedEdges:E}},screenToFlowPosition:(N,T={snapToGrid:!0})=>{const v=K(h);if(!v)return N;const E=T.snapToGrid?K(o):!1,{x:z,y:A,zoom:W}=K(r),{x:B,y:F}=v.getBoundingClientRect(),w={x:N.x-B,y:N.y-F};return Zn(w,[z,A,W],E!==null,E||[1,1])},flowToScreenPosition:N=>{const T=K(h);if(!T)return N;const{x:v,y:E,zoom:z}=K(r),{x:A,y:W}=T.getBoundingClientRect(),B=Jl(N,[v,E,z]);return{x:B.x+A,y:B.y+W}},toObject:()=>({nodes:K(d).map(N=>({...N,position:{...N.position},data:{...N.data}})),edges:K(c).map(N=>({...N})),viewport:{...K(r)}}),updateNode:k,updateNodeData:(N,T,v)=>{var A;const E=(A=K(y).get(N))==null?void 0:A.internals.userNode;if(!E)return;const z=typeof T=="function"?T(E):T;E.data=v!=null&&v.replace?z:{...E.data,...z},d.update(W=>W)},getNodesBounds:N=>{const T=K(y),v=K(m);return Kc(N,{nodeLookup:T,nodeOrigin:v})},getHandleConnections:({type:N,id:T,nodeId:v})=>{var E;return Array.from(((E=K(g).get(`${v}-${N}-${T??null}`))==null?void 0:E.values())??[])},viewport:r}}function tl(t,e){var i;const n=[];for(const o of e){const r=t.get(o);if(r){const l="internals"in r?(i=r.internals)==null?void 0:i.userNode:r;n.push(l)}}return n}function Y0(t){let e,n,i;const o=t[33].default,r=We(o,t,t[32],null);return{c(){e=he("div"),r&&r.c(),_(e,"class",n=Me(["svelte-flow__resize-control","nodrag",...t[4],t[0],t[1]])),_(e,"style",t[3])},m(l,s){G(l,e,s),r&&r.m(e,null),t[34](e),i=!0},p(l,s){r&&r.p&&(!i||s[1]&2)&&Be(r,o,l,l[32],i?Ye(o,l[32],s,null):Ke(l[32]),null),(!i||s[0]&19&&n!==(n=Me(["svelte-flow__resize-control","nodrag",...l[4],l[0],l[1]])))&&_(e,"class",n),(!i||s[0]&8)&&_(e,"style",l[3])},i(l){i||(R(r,l),i=!0)},o(l){X(r,l),i=!1},d(l){l&&Z(e),r&&r.d(l),t[34](null)}}}function B0(t,e,n){let i,o,r,l,s,u,a,f,d,c,h,y,m,b,g,C,{$$slots:k={},$$scope:S}=e,{nodeId:N=void 0}=e,{position:T=void 0}=e,{variant:v=an.Handle}=e,{color:E=void 0}=e,{minWidth:z=10}=e,{minHeight:A=10}=e,{maxWidth:W=Number.MAX_VALUE}=e,{maxHeight:B=Number.MAX_VALUE}=e,{keepAspectRatio:F=!1}=e,{shouldResize:w=void 0}=e,{onResizeStart:L=void 0}=e,{onResize:p=void 0}=e,{onResizeEnd:M=void 0}=e,{style:I=""}=e,{class:P=""}=e;const{nodeLookup:Y,snapGrid:U,viewport:j,nodes:ie,nodeOrigin:V}=Ae();Q(t,Y,H=>n(37,m=H)),Q(t,U,H=>n(39,g=H)),Q(t,j,H=>n(40,C=H)),Q(t,ie,H=>n(36,y=H)),Q(t,V,H=>n(38,b=H));const ne=Tn("svelteflow__node_id");let re,D=null;pn(()=>(re&&n(23,D=Ld({domNode:re,nodeId:s,getStoreItems:()=>({nodeLookup:m,transform:[C.x,C.y,C.zoom],snapGrid:g??void 0,snapToGrid:!!g,nodeOrigin:b}),onChange:(H,ee)=>{var we,ze;const ye=(we=m.get(s))==null?void 0:we.internals.userNode;if(ye){H.x!==void 0&&H.y!==void 0&&(ye.position={x:H.x,y:H.y}),H.width!==void 0&&H.height!==void 0&&(ye.width=H.width,ye.height=H.height);for(const q of ee){const Ne=(ze=m.get(q.id))==null?void 0:ze.internals.userNode;Ne&&(Ne.position=q.position)}ie.set(y)}}})),()=>{D==null||D.destroy()}));function de(H){Yt[H?"unshift":"push"](()=>{re=H,n(2,re)})}return t.$$set=H=>{"nodeId"in H&&n(10,N=H.nodeId),"position"in H&&n(11,T=H.position),"variant"in H&&n(0,v=H.variant),"color"in H&&n(12,E=H.color),"minWidth"in H&&n(13,z=H.minWidth),"minHeight"in H&&n(14,A=H.minHeight),"maxWidth"in H&&n(15,W=H.maxWidth),"maxHeight"in H&&n(16,B=H.maxHeight),"keepAspectRatio"in H&&n(17,F=H.keepAspectRatio),"shouldResize"in H&&n(18,w=H.shouldResize),"onResizeStart"in H&&n(19,L=H.onResizeStart),"onResize"in H&&n(20,p=H.onResize),"onResizeEnd"in H&&n(21,M=H.onResizeEnd),"style"in H&&n(22,I=H.style),"class"in H&&n(1,P=H.class),"$$scope"in H&&n(32,S=H.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&n(27,i=z??10),t.$$.dirty[0]&16384&&n(26,o=A??10),t.$$.dirty[0]&32768&&n(25,r=W??Number.MAX_VALUE),t.$$.dirty[0]&65536&&n(24,l=B??Number.MAX_VALUE),t.$$.dirty[0]&1024&&(s=typeof N=="string"?N:ne),t.$$.dirty[0]&1&&n(31,u=v===an.Line?"right":"bottom-right"),t.$$.dirty[0]&2048|t.$$.dirty[1]&1&&n(28,a=T??u),t.$$.dirty[0]&268435456&&n(4,f=a.split("-")),t.$$.dirty[0]&1&&n(30,d=v===an.Line?"border-color":"background-color"),t.$$.dirty[0]&4194304&&n(29,c=I??""),t.$$.dirty[0]&1610616832&&n(3,h=E?`${c} ${d}: ${E};`:c),t.$$.dirty[0]&532545536&&(D==null||D.update({controlPosition:a,boundaries:{minWidth:i,minHeight:o,maxWidth:r,maxHeight:l},keepAspectRatio:!!F,onResizeStart:L,onResize:p,onResizeEnd:M,shouldResize:w}))},[v,P,re,h,f,Y,U,j,ie,V,N,T,E,z,A,W,B,F,w,L,p,M,I,D,l,r,o,i,a,c,d,u,S,k,de]}class ks extends fe{constructor(e){super(),ae(this,e,B0,Y0,ce,{nodeId:10,position:11,variant:0,color:12,minWidth:13,minHeight:14,maxWidth:15,maxHeight:16,keepAspectRatio:17,shouldResize:18,onResizeStart:19,onResize:20,onResizeEnd:21,style:22,class:1},null,[-1,-1])}}function nl(t,e,n){const i=t.slice();return i[20]=e[n],i}function il(t,e,n){const i=t.slice();return i[20]=e[n],i}function ol(t){let e=[],n=new Map,i,o=[],r=new Map,l,s,u=rt(vr);const a=c=>c[20];for(let c=0;c<u.length;c+=1){let h=il(t,u,c),y=a(h);n.set(y,e[c]=rl(y,h))}let f=rt(kr);const d=c=>c[20];for(let c=0;c<f.length;c+=1){let h=nl(t,f,c),y=d(h);r.set(y,o[c]=ll(y,h))}return{c(){for(let c=0;c<e.length;c+=1)e[c].c();i=pe();for(let c=0;c<o.length;c+=1)o[c].c();l=De()},m(c,h){for(let y=0;y<e.length;y+=1)e[y]&&e[y].m(c,h);G(c,i,h);for(let y=0;y<o.length;y+=1)o[y]&&o[y].m(c,h);G(c,l,h),s=!0},p(c,h){h&65521&&(u=rt(vr),Te(),e=hn(e,h,a,1,c,u,n,i.parentNode,dn,rl,i,il),Ie()),h&65485&&(f=rt(kr),Te(),o=hn(o,h,d,1,c,f,r,l.parentNode,dn,ll,l,nl),Ie())},i(c){if(!s){for(let h=0;h<u.length;h+=1)R(e[h]);for(let h=0;h<f.length;h+=1)R(o[h]);s=!0}},o(c){for(let h=0;h<e.length;h+=1)X(e[h]);for(let h=0;h<o.length;h+=1)X(o[h]);s=!1},d(c){c&&(Z(i),Z(l));for(let h=0;h<e.length;h+=1)e[h].d(c);for(let h=0;h<o.length;h+=1)o[h].d(c)}}}function rl(t,e){let n,i,o;return i=new ks({props:{class:e[4],style:e[5],nodeId:e[0],position:e[20],variant:an.Line,color:e[6],minWidth:e[12],minHeight:e[13],maxWidth:e[14],maxHeight:e[15],onResizeStart:e[9],keepAspectRatio:e[7],shouldResize:e[8],onResize:e[10],onResizeEnd:e[11]}}),{key:t,first:null,c(){n=De(),te(i.$$.fragment),this.first=n},m(r,l){G(r,n,l),x(i,r,l),o=!0},p(r,l){e=r;const s={};l&16&&(s.class=e[4]),l&32&&(s.style=e[5]),l&1&&(s.nodeId=e[0]),l&64&&(s.color=e[6]),l&512&&(s.onResizeStart=e[9]),l&128&&(s.keepAspectRatio=e[7]),l&256&&(s.shouldResize=e[8]),l&1024&&(s.onResize=e[10]),l&2048&&(s.onResizeEnd=e[11]),i.$set(s)},i(r){o||(R(i.$$.fragment,r),o=!0)},o(r){X(i.$$.fragment,r),o=!1},d(r){r&&Z(n),$(i,r)}}}function ll(t,e){let n,i,o;return i=new ks({props:{class:e[2],style:e[3],nodeId:e[0],position:e[20],color:e[6],minWidth:e[12],minHeight:e[13],maxWidth:e[14],maxHeight:e[15],onResizeStart:e[9],keepAspectRatio:e[7],shouldResize:e[8],onResize:e[10],onResizeEnd:e[11]}}),{key:t,first:null,c(){n=De(),te(i.$$.fragment),this.first=n},m(r,l){G(r,n,l),x(i,r,l),o=!0},p(r,l){e=r;const s={};l&4&&(s.class=e[2]),l&8&&(s.style=e[3]),l&1&&(s.nodeId=e[0]),l&64&&(s.color=e[6]),l&512&&(s.onResizeStart=e[9]),l&128&&(s.keepAspectRatio=e[7]),l&256&&(s.shouldResize=e[8]),l&1024&&(s.onResize=e[10]),l&2048&&(s.onResizeEnd=e[11]),i.$set(s)},i(r){o||(R(i.$$.fragment,r),o=!0)},o(r){X(i.$$.fragment,r),o=!1},d(r){r&&Z(n),$(i,r)}}}function K0(t){let e,n,i=t[1]&&ol(t);return{c(){i&&i.c(),e=De()},m(o,r){i&&i.m(o,r),G(o,e,r),n=!0},p(o,[r]){o[1]?i?(i.p(o,r),r&2&&R(i,1)):(i=ol(o),i.c(),R(i,1),i.m(e.parentNode,e)):i&&(Te(),X(i,1,1,()=>{i=null}),Ie())},i(o){n||(R(i),n=!0)},o(o){X(i),n=!1},d(o){o&&Z(e),i&&i.d(o)}}}function F0(t,e,n){let{nodeId:i=void 0}=e,{isVisible:o=!0}=e,{handleClass:r=void 0}=e,{handleStyle:l=void 0}=e,{lineClass:s=void 0}=e,{lineStyle:u=void 0}=e,{color:a=void 0}=e,{minWidth:f=10}=e,{minHeight:d=10}=e,{maxWidth:c=Number.MAX_VALUE}=e,{maxHeight:h=Number.MAX_VALUE}=e,{keepAspectRatio:y=!1}=e,{shouldResize:m=void 0}=e,{onResizeStart:b=void 0}=e,{onResize:g=void 0}=e,{onResizeEnd:C=void 0}=e,k=f||10,S=d||10,N=c||Number.MAX_VALUE,T=h||Number.MAX_VALUE;return t.$$set=v=>{"nodeId"in v&&n(0,i=v.nodeId),"isVisible"in v&&n(1,o=v.isVisible),"handleClass"in v&&n(2,r=v.handleClass),"handleStyle"in v&&n(3,l=v.handleStyle),"lineClass"in v&&n(4,s=v.lineClass),"lineStyle"in v&&n(5,u=v.lineStyle),"color"in v&&n(6,a=v.color),"minWidth"in v&&n(16,f=v.minWidth),"minHeight"in v&&n(17,d=v.minHeight),"maxWidth"in v&&n(18,c=v.maxWidth),"maxHeight"in v&&n(19,h=v.maxHeight),"keepAspectRatio"in v&&n(7,y=v.keepAspectRatio),"shouldResize"in v&&n(8,m=v.shouldResize),"onResizeStart"in v&&n(9,b=v.onResizeStart),"onResize"in v&&n(10,g=v.onResize),"onResizeEnd"in v&&n(11,C=v.onResizeEnd)},[i,o,r,l,s,u,a,y,m,b,g,C,k,S,N,T,f,d,c,h]}class Z0 extends fe{constructor(e){super(),ae(this,e,F0,K0,ce,{nodeId:0,isVisible:1,handleClass:2,handleStyle:3,lineClass:4,lineStyle:5,color:6,minWidth:16,minHeight:17,maxWidth:18,maxHeight:19,keepAspectRatio:7,shouldResize:8,onResizeStart:9,onResize:10,onResizeEnd:11})}}function G0(){const{edges:t}=Ae();return t}var Oe=(t=>(t.LEFT="left",t.RIGHT="right",t.TOP="top",t.BOTTOM="bottom",t.RIGHT_TOP="right-top",t.RIGHT_BOTTOM="right-bottom",t))(Oe||{});const Et=ge([{id:"1",type:"iil",position:{x:0,y:0},data:{activateIf:"차를 탈 준비가 완료됨",input:"열쇠, 열려 있는 차 문",actor:"운전자",act:"차 문을 열고 차에 탑승하기",actDoneIf:"운전석에 앉아 있음",output:"탑승 완료"},style:`
      backgroundColor: rgba(173, 216, 230, 0.3);
    `},{id:"2",type:"iil",position:{x:450,y:0},data:{activateIf:"탑승 완료",input:"운전석에 앉아 있음",actor:"운전자",act:"안전벨트를 착용하기",actDoneIf:"안전벨트 착용됨",output:"운전 준비 완료"},style:`
      backgroundColor: rgba(173, 216, 230, 0.3);
    `},{id:"3",type:"iil",position:{x:0,y:300},data:{activateIf:"운전 준비 완료",input:"안전벨트 착용됨",actor:"운전자",act:"시동을 걸고 기어를 조작하기",actDoneIf:"차가 이동할 준비 완료됨",output:"운전 시작 가능"},style:`
      backgroundColor: rgba(173, 216, 230, 0.3);
    `}]),yo=ge([{id:"1-2",source:"1",sourceHandle:Oe.RIGHT,target:"2",targetHandle:Oe.LEFT,type:"buttonedge"},{id:"2-3",source:"2",sourceHandle:Oe.RIGHT,target:"3",targetHandle:Oe.LEFT}]);function q0(t){let e,n,i,o,r=t[1].label+"",l,s,u,a,f,d,c,h,y;return{c(){e=he("div"),n=he("div"),i=he("div"),o=he("label"),l=It(r),u=pe(),a=he("div"),f=he("input"),_(o,"for",s="input-"+t[0]),_(f,"id",d="input-"+t[0]),_(f,"type","text"),f.value=c=t[1].value,_(f,"class","svelte-19ig91e"),_(n,"class","inner"),_(e,"class","wrapper gradient nodrag fitChild")},m(m,b){G(m,e,b),oe(e,n),oe(n,i),oe(i,o),oe(o,l),oe(n,u),oe(n,a),oe(a,f),h||(y=Ce(f,"change",function(){He(t[2](t[0],t[1].value))&&t[2](t[0],t[1].value).apply(this,arguments)}),h=!0)},p(m,[b]){t=m,b&2&&r!==(r=t[1].label+"")&&kn(l,r),b&1&&s!==(s="input-"+t[0])&&_(o,"for",s),b&1&&d!==(d="input-"+t[0])&&_(f,"id",d),b&2&&c!==(c=t[1].value)&&f.value!==c&&(f.value=c)},i:me,o:me,d(m){m&&Z(e),h=!1,y()}}}function U0(t,e,n){const i=["id","data"];Ee(e,i);let o;Q(t,Et,u=>n(3,o=u));let{id:r}=e,{data:l}=e;const s=(u,a)=>f=>{console.log(a),Et.set(o)};return t.$$set=u=>{e=ve(ve({},e),Ve(u)),n(4,Ee(e,i)),"id"in u&&n(0,r=u.id),"data"in u&&n(1,l=u.data)},[r,l,s]}class J0 extends fe{constructor(e){super(),ae(this,e,U0,q0,ce,{id:0,data:1})}}const To=(t,e)=>{var n=document.createElement("canvas"),i=n.getContext("2d");i.font=e;var o=i.measureText(t);return o.width};function sl(t){let e;return{c(){e=ke("circle"),_(e,"cx",t[7]),_(e,"cy",t[8]),_(e,"r",Pi),_(e,"fill","white"),_(e,"stroke","#555")},m(n,i){G(n,e,i)},p(n,i){i&128&&_(e,"cx",n[7])},d(n){n&&Z(e)}}}function Q0(t){let e,n,i,o,r;return{c(){e=ke("foreignObject"),n=he("div"),i=he("input"),le(i,"width","100%"),_(i,"type","text"),_(i,"placeholder",t[3]),_(i,"class","svelte-1z0ufsp"),_(e,"x",en),_(e,"y",2),_(e,"width",t[5]),_(e,"height",ot-4)},m(l,s){G(l,e,s),oe(e,n),oe(n,i),gt(i,t[0]),o||(r=Ce(i,"input",t[11]),o=!0)},p(l,s){s&8&&_(i,"placeholder",l[3]),s&1&&i.value!==l[0]&&gt(i,l[0]),s&32&&_(e,"width",l[5])},d(l){l&&Z(e),o=!1,r()}}}function j0(t){let e,n,i,o,r;return{c(){e=ke("foreignObject"),n=he("div"),i=he("input"),le(i,"width","100%"),_(i,"type","text"),_(i,"placeholder",t[3]),_(i,"class","svelte-1z0ufsp"),_(e,"x",Rt+Pi+ai),_(e,"y",2),_(e,"width",t[5]),_(e,"height",ot-4)},m(l,s){G(l,e,s),oe(e,n),oe(n,i),gt(i,t[0]),o||(r=Ce(i,"input",t[10]),o=!0)},p(l,s){s&8&&_(i,"placeholder",l[3]),s&1&&i.value!==l[0]&&gt(i,l[0]),s&32&&_(e,"width",l[5])},d(l){l&&Z(e),o=!1,r()}}}function x0(t){let e,n,i,o=t[1]&&sl(t);function r(u,a){return u[2]?j0:Q0}let l=r(t),s=l(t);return{c(){e=ke("svg"),n=ke("polygon"),o&&o.c(),i=De(),s.c(),_(n,"points",t[6]),_(n,"fill","white"),_(n,"stroke","#555"),_(e,"class","hexagon"),_(e,"width",t[4]),_(e,"height",ot),_(e,"xmlns","http://www.w3.org/2000/svg")},m(u,a){G(u,e,a),oe(e,n),o&&o.m(e,null),oe(e,i),s.m(e,null)},p(u,[a]){a&64&&_(n,"points",u[6]),u[1]?o?o.p(u,a):(o=sl(u),o.c(),o.m(e,i)):o&&(o.d(1),o=null),l===(l=r(u))&&s?s.p(u,a):(s.d(1),s=l(u),s&&(s.c(),s.m(e,null))),a&16&&_(e,"width",u[4])},i:me,o:me,d(u){u&&Z(e),o&&o.d(),s.d()}}}let ot=14;const ai=4,en=8;let Pi=3.5,Rt=8,nt=.5;function $0(t,e,n){let i,{hasCircle:o=!1}=e,{circleOnLeft:r=!1}=e,{text:l=""}=e,{placeholder:s=""}=e,{font:u="10px sans-serif"}=e,a=80,f=o?a-en-Rt:a-en*2,d=f,c=0,h=ot/2;function y(){n(5,d=Math.max(f,To(l,u)+4)),n(4,a=o?d+en+Rt+Pi*2:d+en*2),o&&n(7,c=r?ai+Rt:ai+d+Rt),n(6,i=m())}function m(){return`
      ${nt}, ${ot/2+nt/2}
      ${ot/2+nt}, ${ot-nt}
      ${a-ot/2-nt}, ${ot-nt}
      ${a-nt}, ${ot/2+nt/2}, 
      ${a-ot/2-nt}, ${nt} 
      ${ot/2+nt}, ${nt}
    `}function b(){l=this.value,n(0,l)}function g(){l=this.value,n(0,l)}return t.$$set=C=>{"hasCircle"in C&&n(1,o=C.hasCircle),"circleOnLeft"in C&&n(2,r=C.circleOnLeft),"text"in C&&n(0,l=C.text),"placeholder"in C&&n(3,s=C.placeholder),"font"in C&&n(9,u=C.font)},t.$$.update=()=>{t.$$.dirty&38&&n(7,c=o?r?ai+Rt:en+d+Rt-Pi:0),t.$$.dirty&1&&y(),t.$$.dirty&80},n(6,i=m()),[l,o,r,s,a,d,i,c,h,u,b,g]}class e1 extends fe{constructor(e){super(),ae(this,e,$0,x0,ce,{hasCircle:1,circleOnLeft:2,text:0,placeholder:3,font:9})}}function ul(t){let e;return{c(){e=ke("circle"),_(e,"cx",t[6]),_(e,"cy",t[7]),_(e,"r",Oi),_(e,"fill","white"),_(e,"stroke","#555")},m(n,i){G(n,e,i)},p(n,i){i&64&&_(e,"cx",n[6])},d(n){n&&Z(e)}}}function t1(t){let e,n,i,o;return{c(){e=ke("foreignObject"),n=he("input"),le(n,"width","100%"),_(n,"type","text"),_(n,"placeholder",t[3]),_(n,"class","svelte-1z0ufsp"),_(e,"x",tn),_(e,"y",2),_(e,"width",t[5]),_(e,"height",fn-4)},m(r,l){G(r,e,l),oe(e,n),gt(n,t[0]),i||(o=Ce(n,"input",t[10]),i=!0)},p(r,l){l&8&&_(n,"placeholder",r[3]),l&1&&n.value!==r[0]&&gt(n,r[0]),l&32&&_(e,"width",r[5])},d(r){r&&Z(e),i=!1,o()}}}function n1(t){let e,n,i,o;return{c(){e=ke("foreignObject"),n=he("input"),le(n,"width","100%"),_(n,"type","text"),_(n,"placeholder",t[3]),_(n,"class","svelte-1z0ufsp"),_(e,"x",Lt+Oi+fi),_(e,"y",2),_(e,"width",t[5]),_(e,"height",fn-4)},m(r,l){G(r,e,l),oe(e,n),gt(n,t[0]),i||(o=Ce(n,"input",t[9]),i=!0)},p(r,l){l&8&&_(n,"placeholder",r[3]),l&1&&n.value!==r[0]&&gt(n,r[0]),l&32&&_(e,"width",r[5])},d(r){r&&Z(e),i=!1,o()}}}function i1(t){let e,n,i,o,r=t[1]&&ul(t);function l(a,f){return a[2]?n1:t1}let s=l(t),u=s(t);return{c(){e=ke("svg"),n=ke("rect"),r&&r.c(),o=De(),u.c(),_(n,"x","0.5"),_(n,"y","0.5"),_(n,"width",i=t[4]-1),_(n,"height",fn-1),_(n,"rx",fn/2),_(n,"fill","white"),_(n,"stroke","#555"),_(e,"class","roundrect"),_(e,"width",t[4]),_(e,"height",fn),_(e,"xmlns","http://www.w3.org/2000/svg")},m(a,f){G(a,e,f),oe(e,n),r&&r.m(e,null),oe(e,o),u.m(e,null)},p(a,[f]){f&16&&i!==(i=a[4]-1)&&_(n,"width",i),a[1]?r?r.p(a,f):(r=ul(a),r.c(),r.m(e,o)):r&&(r.d(1),r=null),s===(s=l(a))&&u?u.p(a,f):(u.d(1),u=s(a),u&&(u.c(),u.m(e,null))),f&16&&_(e,"width",a[4])},i:me,o:me,d(a){a&&Z(e),r&&r.d(),u.d()}}}let fn=14;const fi=4,tn=8;let Oi=3.5,Lt=8;function o1(t,e,n){let{hasCircle:i=!1}=e,{circleOnLeft:o=!0}=e,{text:r=""}=e,{placeholder:l=""}=e,{font:s="10px sans-serif"}=e,u=80,a=i?u-tn-Lt:u-tn,f=a,d=0,c=fn/2;function h(){n(5,f=Math.max(a,To(r,s)+4)),n(4,u=i?f+tn+Lt+Oi*2:f+tn),i&&n(6,d=o?fi+Lt:fi+f+Lt)}function y(){r=this.value,n(0,r)}function m(){r=this.value,n(0,r)}return t.$$set=b=>{"hasCircle"in b&&n(1,i=b.hasCircle),"circleOnLeft"in b&&n(2,o=b.circleOnLeft),"text"in b&&n(0,r=b.text),"placeholder"in b&&n(3,l=b.placeholder),"font"in b&&n(8,s=b.font)},t.$$.update=()=>{t.$$.dirty&16,t.$$.dirty&38&&n(6,d=i?o?fi+Lt:tn+f+Lt-Oi:0),t.$$.dirty&1&&h()},[r,i,o,l,u,f,d,c,s,y,m]}class r1 extends fe{constructor(e){super(),ae(this,e,o1,i1,ce,{hasCircle:1,circleOnLeft:2,text:0,placeholder:3,font:8})}}function l1(t){let e,n,i;return n=new r1({props:{hasCircle:t[0],text:t[3],circleOnLeft:t[1],placeholder:t[2]}}),{c(){e=he("div"),te(n.$$.fragment),_(e,"class","nodrag item svelte-1qitk0x")},m(o,r){G(o,e,r),x(n,e,null),i=!0},p(o,[r]){const l={};r&1&&(l.hasCircle=o[0]),r&8&&(l.text=o[3]),r&2&&(l.circleOnLeft=o[1]),r&4&&(l.placeholder=o[2]),n.$set(l)},i(o){i||(R(n.$$.fragment,o),i=!0)},o(o){X(n.$$.fragment,o),i=!1},d(o){o&&Z(e),$(n)}}}function s1(t,e,n){let{hasCircle:i=!0}=e,{circleOnLeft:o=!0}=e,{placeholder:r=""}=e,{value:l=""}=e;return t.$$set=s=>{"hasCircle"in s&&n(0,i=s.hasCircle),"circleOnLeft"in s&&n(1,o=s.circleOnLeft),"placeholder"in s&&n(2,r=s.placeholder),"value"in s&&n(3,l=s.value)},[i,o,r,l]}class vs extends fe{constructor(e){super(),ae(this,e,s1,l1,ce,{hasCircle:0,circleOnLeft:1,placeholder:2,value:3})}}function u1(t){let e,n;return e=new vs({props:{hasCircle:!0,circleOnLeft:!0,value:t[0],placeholder:t[1]}}),{c(){te(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},p(i,[o]){const r={};o&1&&(r.value=i[0]),o&2&&(r.placeholder=i[1]),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){$(e,i)}}}function a1(t,e,n){const i=["value","placeholder"];Ee(e,i),Q(t,Et,l=>n(2,l));let{value:o}=e,{placeholder:r}=e;return t.$$set=l=>{e=ve(ve({},e),Ve(l)),n(4,Ee(e,i)),"value"in l&&n(0,o=l.value),"placeholder"in l&&n(1,r=l.placeholder)},[o,r]}class f1 extends fe{constructor(e){super(),ae(this,e,a1,u1,ce,{value:0,placeholder:1})}}function c1(t){let e,n,i;return n=new e1({props:{hasCircle:t[0],text:t[3],circleOnLeft:t[1],placeholder:t[2]}}),{c(){e=he("div"),te(n.$$.fragment),_(e,"class","nodrag item svelte-1qitk0x")},m(o,r){G(o,e,r),x(n,e,null),i=!0},p(o,[r]){const l={};r&1&&(l.hasCircle=o[0]),r&8&&(l.text=o[3]),r&2&&(l.circleOnLeft=o[1]),r&4&&(l.placeholder=o[2]),n.$set(l)},i(o){i||(R(n.$$.fragment,o),i=!0)},o(o){X(n.$$.fragment,o),i=!1},d(o){o&&Z(e),$(n)}}}function d1(t,e,n){let{hasCircle:i=!1}=e,{circleOnLeft:o=!1}=e,{placeholder:r=""}=e,{value:l=""}=e;return t.$$set=s=>{"hasCircle"in s&&n(0,i=s.hasCircle),"circleOnLeft"in s&&n(1,o=s.circleOnLeft),"placeholder"in s&&n(2,r=s.placeholder),"value"in s&&n(3,l=s.value)},[i,o,r,l]}class Io extends fe{constructor(e){super(),ae(this,e,d1,c1,ce,{hasCircle:0,circleOnLeft:1,placeholder:2,value:3})}}function h1(t){let e,n;return e=new Io({props:{hasCircle:!0,circleOnLeft:!0,value:t[0],placeholder:t[1]}}),{c(){te(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},p(i,[o]){const r={};o&1&&(r.value=i[0]),o&2&&(r.placeholder=i[1]),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){$(e,i)}}}function g1(t,e,n){const i=["value","placeholder"];Ee(e,i),Q(t,Et,l=>n(2,l));let{value:o}=e,{placeholder:r}=e;return t.$$set=l=>{e=ve(ve({},e),Ve(l)),n(4,Ee(e,i)),"value"in l&&n(0,o=l.value),"placeholder"in l&&n(1,r=l.placeholder)},[o,r]}class m1 extends fe{constructor(e){super(),ae(this,e,g1,h1,ce,{value:0,placeholder:1})}}function y1(t){let e,n;return e=new vs({props:{hasCircle:!0,circleOnLeft:!1,value:t[0],placeholder:t[1]}}),{c(){te(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},p(i,[o]){const r={};o&1&&(r.value=i[0]),o&2&&(r.placeholder=i[1]),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){$(e,i)}}}function _1(t,e,n){let{value:i}=e,{placeholder:o}=e;return t.$$set=r=>{"value"in r&&n(0,i=r.value),"placeholder"in r&&n(1,o=r.placeholder)},[i,o]}class b1 extends fe{constructor(e){super(),ae(this,e,_1,y1,ce,{value:0,placeholder:1})}}function w1(t){let e,n;return e=new Io({props:{hasCircle:!0,circleOnLeft:!1,value:t[0],placeholder:t[1]}}),{c(){te(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},p(i,[o]){const r={};o&1&&(r.value=i[0]),o&2&&(r.placeholder=i[1]),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){$(e,i)}}}function k1(t,e,n){const i=["value","placeholder"];Ee(e,i);let{value:o=""}=e,{placeholder:r=""}=e;return t.$$set=l=>{e=ve(ve({},e),Ve(l)),n(2,Ee(e,i)),"value"in l&&n(0,o=l.value),"placeholder"in l&&n(1,r=l.placeholder)},[o,r]}class v1 extends fe{constructor(e){super(),ae(this,e,k1,w1,ce,{value:0,placeholder:1})}}function p1(t){let e,n,i,o,r,l,s,u;return{c(){e=ke("svg"),n=ke("rect"),o=ke("foreignObject"),r=he("div"),l=he("input"),_(n,"x","0.5"),_(n,"y","0.5"),_(n,"width",i=t[1]-1),_(n,"height",eo-1),_(n,"fill","white"),_(n,"stroke","#555"),le(l,"width","100%"),_(l,"type","text"),_(l,"placeholder","Act"),_(l,"class","svelte-1z0ufsp"),_(o,"x",1),_(o,"y",1),_(o,"width",t[2]),_(o,"height",eo-2),_(e,"class","roundrect"),_(e,"width",t[1]),_(e,"height",eo),_(e,"xmlns","http://www.w3.org/2000/svg")},m(a,f){G(a,e,f),oe(e,n),oe(e,o),oe(o,r),oe(r,l),gt(l,t[0]),s||(u=Ce(l,"input",t[4]),s=!0)},p(a,[f]){f&2&&i!==(i=a[1]-1)&&_(n,"width",i),f&1&&l.value!==a[0]&&gt(l,a[0]),f&4&&_(o,"width",a[2]),f&2&&_(e,"width",a[1])},i:me,o:me,d(a){a&&Z(e),s=!1,u()}}}let eo=14;const C1=2;let S1=80;function E1(t,e,n){let{text:i=""}=e,{font:o="10px sans-serif"}=e,r=80,l=r-C1;function s(){n(2,l=Math.max(S1,To(i,o)+4)),n(1,r=l+4)}function u(){i=this.value,n(0,i)}return t.$$set=a=>{"text"in a&&n(0,i=a.text),"font"in a&&n(3,o=a.font)},t.$$.update=()=>{t.$$.dirty&2,t.$$.dirty&1&&s()},[i,r,l,o,u]}class z1 extends fe{constructor(e){super(),ae(this,e,E1,p1,ce,{text:0,font:3})}}function M1(t){let e,n,i;return n=new z1({props:{text:t[0]}}),{c(){e=he("div"),te(n.$$.fragment),_(e,"class","nodrag item svelte-1qitk0x")},m(o,r){G(o,e,r),x(n,e,null),i=!0},p(o,[r]){const l={};r&1&&(l.text=o[0]),n.$set(l)},i(o){i||(R(n.$$.fragment,o),i=!0)},o(o){X(n.$$.fragment,o),i=!1},d(o){o&&Z(e),$(n)}}}function P1(t,e,n){const i=["value"];Ee(e,i),Q(t,Et,r=>n(1,r));let{value:o}=e;return t.$$set=r=>{e=ve(ve({},e),Ve(r)),n(3,Ee(e,i)),"value"in r&&n(0,o=r.value)},[o]}class O1 extends fe{constructor(e){super(),ae(this,e,P1,M1,ce,{value:0})}}function N1(t){let e,n,i;return{c(){e=he("button"),e.textContent="+",_(e,"class","expandButton svelte-1hzg32i")},m(o,r){G(o,e,r),n||(i=Ce(e,"click",t[9]),n=!0)},p:me,i:me,o:me,d(o){o&&Z(e),n=!1,i()}}}function H1(t){let e,n,i,o,r,l,s,u,a,f,d,c,h;return s=new Io({props:{hasCircle:!1,value:"test",placeholder:"output"}}),{c(){e=he("div"),n=ke("svg"),i=ke("line"),o=ke("line"),r=pe(),l=he("div"),te(s.$$.fragment),u=pe(),a=he("div"),f=he("button"),f.textContent="-",_(i,"x1","0"),_(i,"y1","0"),_(i,"x2","100"),_(i,"y2","100%"),_(i,"stroke","black"),_(i,"stroke-width","1"),_(o,"x1","0"),_(o,"y1","100%"),_(o,"x2","100%"),_(o,"y2","0"),_(o,"stroke","black"),_(o,"stroke-width","1"),_(n,"width","100"),_(n,"height",t[4]),le(l,"position","absolute"),le(l,"top","50%"),le(l,"left","50%"),le(l,"transform","translate(-50%, -55%)"),_(f,"class","closeButton svelte-1hzg32i"),le(a,"position","absolute"),le(a,"top","50%"),le(a,"left","50%"),le(a,"transform","translate(-50%, 53%)"),le(e,"position","relative"),le(e,"width","100%"),le(e,"height","100%")},m(y,m){G(y,e,m),oe(e,n),oe(n,i),oe(n,o),oe(e,r),oe(e,l),x(s,l,null),oe(e,u),oe(e,a),oe(a,f),d=!0,c||(h=Ce(f,"click",t[8]),c=!0)},p(y,m){(!d||m&16)&&_(n,"height",y[4])},i(y){d||(R(s.$$.fragment,y),d=!0)},o(y){X(s.$$.fragment,y),d=!1},d(y){y&&Z(e),$(s),c=!1,h()}}}function T1(t){let e,n,i,o;return e=new ht({props:{type:"source",position:_e.Right,style:"top:0px; right: -3px;",isValidConnection:t[6],id:Oe.RIGHT_TOP}}),i=new ht({props:{type:"source",position:_e.Right,style:"top:"+t[4]+"px; right: -3px;",isValidConnection:t[6],id:Oe.RIGHT_BOTTOM}}),{c(){te(e.$$.fragment),n=pe(),te(i.$$.fragment)},m(r,l){x(e,r,l),G(r,n,l),x(i,r,l),o=!0},p(r,l){const s={};l&16&&(s.style="top:"+r[4]+"px; right: -3px;"),i.$set(s)},i(r){o||(R(e.$$.fragment,r),R(i.$$.fragment,r),o=!0)},o(r){X(e.$$.fragment,r),X(i.$$.fragment,r),o=!1},d(r){r&&Z(n),$(e,r),$(i,r)}}}function I1(t){let e,n;return e=new ht({props:{type:"source",position:_e.Right,style:"top:16px; right: -3px;",id:Oe.RIGHT,isValidConnection:t[6]}}),{c(){te(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},p:me,i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){$(e,i)}}}function A1(t){let e,n,i,o,r,l,s,u,a,f,d,c,h,y,m,b,g,C,k,S,N,T,v,E,z,A,W,B,F,w,L,p,M,I,P,Y,U,j;e=new Z0({props:{minWidth:100,minHeight:30,isVisible:t[1],color:"rgb(255, 64, 0)",shouldResize:R1}}),e.$on("keyDown",D1),a=new f1({props:{value:t[2].input,placeholder:"input"}}),c=new m1({props:{value:t[2].activateIf,placeholder:"activateIf"}}),b=new O1({props:{value:t[2].act}}),S=new b1({props:{value:t[2].output,placeholder:"output"}}),v=new v1({props:{value:t[2].actDoneIf,placeholder:"actDoneIf"}});const ie=[H1,N1],V=[];function ne(H,ee){return H[5]?0:1}A=ne(t),W=V[A]=ie[A](t),F=new ht({props:{type:"target",position:_e.Left,id:Oe.LEFT,style:"top:16px; left: -3px;",isValidConnection:t[6]}}),L=new ht({props:{type:"target",position:_e.Top,id:Oe.TOP,style:"top:-5px; left: 130px;",isValidConnection:t[6]}}),M=new ht({props:{type:"source",position:_e.Bottom,id:Oe.BOTTOM,style:"top: 30px; left: 130px;",isValidConnection:t[6]}});const re=[I1,T1],D=[];function de(H,ee){return H[5]?1:0}return P=de(t),Y=D[P]=re[P](t),{c(){te(e.$$.fragment),n=pe(),i=he("div"),o=he("div"),r=he("div"),l=he("div"),s=he("div"),u=he("div"),te(a.$$.fragment),f=pe(),d=he("div"),te(c.$$.fragment),h=pe(),y=he("div"),m=he("div"),te(b.$$.fragment),g=pe(),C=he("div"),k=he("div"),te(S.$$.fragment),N=pe(),T=he("div"),te(v.$$.fragment),E=pe(),z=he("div"),W.c(),B=pe(),te(F.$$.fragment),w=pe(),te(L.$$.fragment),p=pe(),te(M.$$.fragment),I=pe(),Y.c(),U=De(),_(u,"class","row svelte-1hzg32i"),_(d,"class","row svelte-1hzg32i"),_(s,"class","column svelte-1hzg32i"),_(m,"class","row svelte-1hzg32i"),_(y,"class","column svelte-1hzg32i"),_(k,"class","row svelte-1hzg32i"),_(T,"class","row svelte-1hzg32i"),_(C,"class","column svelte-1hzg32i"),_(l,"class","container iilbody svelte-1hzg32i"),_(r,"class","column svelte-1hzg32i"),_(z,"class","column svelte-1hzg32i"),_(o,"class","container svelte-1hzg32i"),_(i,"class","iil"),_(i,"id",t[0])},m(H,ee){x(e,H,ee),G(H,n,ee),G(H,i,ee),oe(i,o),oe(o,r),oe(r,l),oe(l,s),oe(s,u),x(a,u,null),oe(s,f),oe(s,d),x(c,d,null),oe(l,h),oe(l,y),oe(y,m),x(b,m,null),oe(l,g),oe(l,C),oe(C,k),x(S,k,null),oe(C,N),oe(C,T),x(v,T,null),t[7](l),oe(o,E),oe(o,z),V[A].m(z,null),G(H,B,ee),x(F,H,ee),G(H,w,ee),x(L,H,ee),G(H,p,ee),x(M,H,ee),G(H,I,ee),D[P].m(H,ee),G(H,U,ee),j=!0},p(H,[ee]){const ye={};ee&2&&(ye.isVisible=H[1]),e.$set(ye);const we={};ee&4&&(we.value=H[2].input),a.$set(we);const ze={};ee&4&&(ze.value=H[2].activateIf),c.$set(ze);const q={};ee&4&&(q.value=H[2].act),b.$set(q);const Ne={};ee&4&&(Ne.value=H[2].output),S.$set(Ne);const Pe={};ee&4&&(Pe.value=H[2].actDoneIf),v.$set(Pe);let tt=A;A=ne(H),A===tt?V[A].p(H,ee):(Te(),X(V[tt],1,1,()=>{V[tt]=null}),Ie(),W=V[A],W?W.p(H,ee):(W=V[A]=ie[A](H),W.c()),R(W,1),W.m(z,null)),(!j||ee&1)&&_(i,"id",H[0]);let xe=P;P=de(H),P===xe?D[P].p(H,ee):(Te(),X(D[xe],1,1,()=>{D[xe]=null}),Ie(),Y=D[P],Y?Y.p(H,ee):(Y=D[P]=re[P](H),Y.c()),R(Y,1),Y.m(U.parentNode,U))},i(H){j||(R(e.$$.fragment,H),R(a.$$.fragment,H),R(c.$$.fragment,H),R(b.$$.fragment,H),R(S.$$.fragment,H),R(v.$$.fragment,H),R(W),R(F.$$.fragment,H),R(L.$$.fragment,H),R(M.$$.fragment,H),R(Y),j=!0)},o(H){X(e.$$.fragment,H),X(a.$$.fragment,H),X(c.$$.fragment,H),X(b.$$.fragment,H),X(S.$$.fragment,H),X(v.$$.fragment,H),X(W),X(F.$$.fragment,H),X(L.$$.fragment,H),X(M.$$.fragment,H),X(Y),j=!1},d(H){H&&(Z(n),Z(i),Z(B),Z(w),Z(p),Z(I),Z(U)),$(e,H),$(a),$(c),$(b),$(S),$(v),t[7](null),V[A].d(),$(F,H),$(L,H),$(M,H),D[P].d(H)}}}function D1(t){console.log(`Key pressed: ${t}`)}const R1=()=>!1;function L1(t,e,n){const i=["id","selected","data"];Ee(e,i),Q(t,Et,m=>n(12,m));let{id:o}=e,{selected:r=void 0}=e,{data:l}=e,s,u=0,a=!1,f;pn(()=>{f=new ResizeObserver(m=>{for(let b of m){const{width:g,height:C}=b.contentRect;n(4,u=C)}}),s&&f.observe(s)}),Ni(()=>{f&&s&&(f.unobserve(s),f.disconnect())});const d=m=>(m.sourceHandle===Oe.RIGHT||m.sourceHandle===Oe.RIGHT_TOP||m.sourceHandle===Oe.RIGHT_BOTTOM)&&m.targetHandle===Oe.LEFT?!0:m.sourceHandle===Oe.BOTTOM&&m.targetHandle===Oe.TOP;function c(m){Yt[m?"unshift":"push"](()=>{s=m,n(3,s)})}const h=()=>n(5,a=!1),y=()=>n(5,a=!0);return t.$$set=m=>{e=ve(ve({},e),Ve(m)),n(15,Ee(e,i)),"id"in m&&n(0,o=m.id),"selected"in m&&n(1,r=m.selected),"data"in m&&n(2,l=m.data)},[o,r,l,s,u,a,d,c,h,y]}class V1 extends fe{constructor(e){super(),ae(this,e,L1,A1,ce,{id:0,selected:1,data:2})}}const Le=[];for(let t=0;t<256;++t)Le.push((t+256).toString(16).slice(1));function X1(t,e=0){return(Le[t[e+0]]+Le[t[e+1]]+Le[t[e+2]]+Le[t[e+3]]+"-"+Le[t[e+4]]+Le[t[e+5]]+"-"+Le[t[e+6]]+Le[t[e+7]]+"-"+Le[t[e+8]]+Le[t[e+9]]+"-"+Le[t[e+10]]+Le[t[e+11]]+Le[t[e+12]]+Le[t[e+13]]+Le[t[e+14]]+Le[t[e+15]]).toLowerCase()}let to;const W1=new Uint8Array(16);function Y1(){if(!to){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");to=crypto.getRandomValues.bind(crypto)}return to(W1)}const B1=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),al={randomUUID:B1};function K1(t,e,n){if(al.randomUUID&&!e&&!t)return al.randomUUID();t=t||{};const i=t.random||(t.rng||Y1)();return i[6]=i[6]&15|64,i[8]=i[8]&63|128,X1(i)}function F1(t){let e,n,i=`translate(-50%, -50%) translate(${t[3]}px,${t[2]}px)`,o,r;return{c(){e=he("div"),n=he("button"),n.textContent="×",_(n,"class","edgeButton svelte-18wt7i7"),_(e,"class","edgeButtonContainer nodrag nopan svelte-18wt7i7"),le(e,"transform",i)},m(l,s){G(l,e,s),oe(e,n),o||(r=Ce(n,"click",t[5]),o=!0)},p(l,s){s&12&&i!==(i=`translate(-50%, -50%) translate(${l[3]}px,${l[2]}px)`)&&le(e,"transform",i)},d(l){l&&Z(e),o=!1,r()}}}function Z1(t){let e,n,i,o;return e=new Gn({props:{path:t[4],markerEnd:t[0],style:t[1]}}),i=new cs({props:{$$slots:{default:[F1]},$$scope:{ctx:t}}}),{c(){te(e.$$.fragment),n=pe(),te(i.$$.fragment)},m(r,l){x(e,r,l),G(r,n,l),x(i,r,l),o=!0},p(r,[l]){const s={};l&16&&(s.path=r[4]),l&1&&(s.markerEnd=r[0]),l&2&&(s.style=r[1]),e.$set(s);const u={};l&16396&&(u.$$scope={dirty:l,ctx:r}),i.$set(u)},i(r){o||(R(e.$$.fragment,r),R(i.$$.fragment,r),o=!0)},o(r){X(e.$$.fragment,r),X(i.$$.fragment,r),o=!1},d(r){r&&Z(n),$(e,r),$(i,r)}}}function G1(t,e,n){let i,o,r,{id:l}=e,{sourceX:s}=e,{sourceY:u}=e,{sourcePosition:a}=e,{targetX:f}=e,{targetY:d}=e,{targetPosition:c}=e,{markerEnd:h=void 0}=e,{style:y=void 0}=e;const m=G0(),b=()=>m.update(g=>g.filter(C=>C.id!==l));return t.$$set=g=>{"id"in g&&n(6,l=g.id),"sourceX"in g&&n(7,s=g.sourceX),"sourceY"in g&&n(8,u=g.sourceY),"sourcePosition"in g&&n(9,a=g.sourcePosition),"targetX"in g&&n(10,f=g.targetX),"targetY"in g&&n(11,d=g.targetY),"targetPosition"in g&&n(12,c=g.targetPosition),"markerEnd"in g&&n(0,h=g.markerEnd),"style"in g&&n(1,y=g.style)},t.$$.update=()=>{t.$$.dirty&8064&&n(4,[i,o,r]=Mo({sourceX:s,sourceY:u,sourcePosition:a,targetX:f,targetY:d,targetPosition:c}),i,(n(3,o),n(7,s),n(8,u),n(9,a),n(10,f),n(11,d),n(12,c)),(n(2,r),n(7,s),n(8,u),n(9,a),n(10,f),n(11,d),n(12,c)))},[h,y,r,o,i,b,l,s,u,a,f,d,c]}class q1 extends fe{constructor(e){super(),ae(this,e,G1,Z1,ce,{id:6,sourceX:7,sourceY:8,sourcePosition:9,targetX:10,targetY:11,targetPosition:12,markerEnd:0,style:1})}}function U1(t){let e,n,i,o,r,l;return e=new _0({}),i=new O0({props:{variant:pt.Dots}}),r=new X0({}),{c(){te(e.$$.fragment),n=pe(),te(i.$$.fragment),o=pe(),te(r.$$.fragment)},m(s,u){x(e,s,u),G(s,n,u),x(i,s,u),G(s,o,u),x(r,s,u),l=!0},p:me,i(s){l||(R(e.$$.fragment,s),R(i.$$.fragment,s),R(r.$$.fragment,s),l=!0)},o(s){X(e.$$.fragment,s),X(i.$$.fragment,s),X(r.$$.fragment,s),l=!1},d(s){s&&(Z(n),Z(o)),$(e,s),$(i,s),$(r,s)}}}function J1(t){let e,n,i;return n=new Kg({props:{nodes:Et,edges:yo,nodeTypes:t[0],edgeTypes:t[1],defaultEdgeOptions:t[2],fitView:!0,onconnectend:t[3],$$slots:{default:[U1]},$$scope:{ctx:t}}}),n.$on("nodeclick",t[4]),{c(){e=he("div"),te(n.$$.fragment),le(e,"height","500px")},m(o,r){G(o,e,r),x(n,e,null),i=!0},p(o,[r]){const l={};r&512&&(l.$$scope={dirty:r,ctx:o}),n.$set(l)},i(o){i||(R(n.$$.fragment,o),i=!0)},o(o){X(n.$$.fragment,o),i=!1},d(o){o&&Z(e),$(n)}}}function Q1(t,e,n){let i,o;Q(t,yo,d=>n(5,i=d)),Q(t,Et,d=>n(6,o=d));const r={textinput:J0,iil:V1},{screenToFlowPosition:l}=W0();return[r,{buttonedge:q1},{type:"buttonedge"},(d,c)=>{var C,k,S,N,T,v,E,z,A,W,B;if(c.isValid)return;const h=((C=c.fromNode)==null?void 0:C.id)??"1",y=K1(),{clientX:m,clientY:b}="changedTouches"in d?d.changedTouches[0]:d,g={id:y,type:"iil",data:{input:"",activateIf:"",actor:"",act:"",actDoneIf:"",output:""},position:l({x:m,y:b}),origin:[.5,0],style:"backgroundColor: rgba(208, 192, 247, 0.2);"};o.push(g),console.log(c),((k=c.fromHandle)==null?void 0:k.id)===Oe.LEFT||((S=c.fromHandle)==null?void 0:S.id)===Oe.RIGHT||((N=c.fromHandle)==null?void 0:N.id)===Oe.RIGHT_TOP||((T=c.fromHandle)==null?void 0:T.id)===Oe.RIGHT_BOTTOM?((v=c.fromHandle)==null?void 0:v.id)===Oe.LEFT?i.push({source:y,sourceHandle:Oe.RIGHT,target:h,targetHandle:(E=c.fromHandle)==null?void 0:E.id,id:`${h}--${y}`,type:"buttonedge"}):i.push({source:h,sourceHandle:(z=c.fromHandle)==null?void 0:z.id,target:y,targetHandle:Oe.LEFT,id:`${h}--${y}`,type:"buttonedge"}):(((A=c.fromHandle)==null?void 0:A.id)===Oe.TOP&&i.push({source:y,sourceHandle:Oe.BOTTOM,target:h,targetHandle:(W=c.fromHandle)==null?void 0:W.id,id:`${h}--${y}`,type:"buttonedge"}),i.push({source:h,sourceHandle:(B=c.fromHandle)==null?void 0:B.id,target:y,targetHandle:Oe.TOP,id:`${h}--${y}`,type:"buttonedge"})),Et.set(o),yo.set(i)},d=>console.log("on node click",d.detail.node)]}class j1 extends fe{constructor(e){super(),ae(this,e,Q1,J1,ce,{})}}function x1(t){let e,n;return e=new j1({}),{c(){te(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){$(e,i)}}}function $1(t){let e,n;return e=new Gg({props:{$$slots:{default:[x1]},$$scope:{ctx:t}}}),{c(){te(e.$$.fragment)},m(i,o){x(e,i,o),n=!0},p(i,[o]){const r={};o&1&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){n||(R(e.$$.fragment,i),n=!0)},o(i){X(e.$$.fragment,i),n=!1},d(i){$(e,i)}}}class em extends fe{constructor(e){super(),ae(this,e,null,$1,ce,{})}}new em({target:document.getElementById("app")});
